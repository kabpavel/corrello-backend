{"version":3,"sources":["store/board.reducer.js","services/async-storage.service.js","services/http.service.js","services/socket.service.js","services/user.service.js","store/user.reducer.js","store/popover.reducer.js","store/store.js","assets/img/logos/home-logo.svg","assets/img/board.png","assets/img/logo.png","cmps/home-header.jsx","store/popover.actions.js","pages/home-page.jsx","pages/about-us.jsx","services/util.service.js","services/board.service.js","services/event-bus.service.js","store/board.actions.js","assets/img/icons/star.svg","cmps/star.jsx","cmps/board-preview.jsx","cmps/sidenav.jsx","cmps/workspace-header.jsx","cmps/workspace-nav-bar.jsx","cmps/search-nav-bar.jsx","pages/workspace.jsx","assets/img/loader.svg","pages/chat-app.jsx","assets/img/cmps/card-details/icon-members.svg","cmps/loader.jsx","assets/img/cmps/card-details/icon-checklists.svg","assets/img/cmps/card-details/icon-labels.svg","assets/img/cmps/card-details/icon-cover.svg","assets/img/cmps/card-details/icon-attachment.svg","assets/img/cmps/card-details/icon-dates.svg","services/activity.service.js","cmps/card-details/card-details-actions.jsx","assets/img/icons/add.svg","cmps/card-details/card-details-labels.jsx","cmps/card-details/card-details-dates.jsx","assets/img/cmps/card-details/icon-description.svg","cmps/card-details/card-details-discription.jsx","cmps/screen-overlay.jsx","cmps/profile-avatar.jsx","cmps/card-details/card-details-members.jsx","cmps/card-details/card-details-cover.jsx","cmps/card-details/card-details-checklist-item.jsx","assets/img/cmps/card-details/icon-checklist.svg","cmps/card-details/progress-bar.jsx","assets/img/cmps/card-details/icon-header.svg","cmps/card-details/card-details-checklist.jsx","cmps/card-details/card-details-checklists.jsx","assets/img/icons/icon-activity.svg","cmps/activity-preview.jsx","cmps/activities-list.jsx","assets/img/icons/paperclip-solid.svg","cmps/activities.jsx","cmps/card-details/card-attachments.jsx","pages/card-details.jsx","cmps/card-add.jsx","cmps/card-preview/card-preview-labels.jsx","cmps/card-preview/due-date-display.jsx","cmps/card-preview/card-preview-checklist.jsx","cmps/single-card.jsx","cmps/card-preview/card-preview.jsx","cmps/list-preview.jsx","cmps/nav-bar-board.jsx","cmps/main-board-header.jsx","assets/img/icons/exclamation-lg.svg","cmps/list-add.jsx","assets/img/icons/chart.svg","cmps/BoardCharts.jsx","pages/Dashboard.jsx","assets/img/icons/person.svg","cmps/CardEdit.jsx","cmps/chat.jsx","cmps/sidenav-right.jsx","pages/board-app.jsx","cmps/login-signup-header.jsx","store/user.actions.js","cmps/login-signup.jsx","pages/login-page.jsx","assets/img/icons/notific-bell.svg","routes.js","cmps/app-header.jsx","assets/img/logos/corollo.png","pages/user-details.jsx","cmps/popover/popover-label-preview.jsx","cmps/popover/popover.jsx","cmps/color-palette.jsx","cmps/popover/popover-label-edit.jsx","cmps/popover/popover-labels.jsx","cmps/popover/popover-date.jsx","cmps/popover/popover-member-preview.jsx","cmps/popover/popover-members.jsx","services/cloudinary.service.js","cmps/file-upload.jsx","cmps/popover/popover-cover.jsx","services/unsplash.service.js","cmps/image-palette.jsx","cmps/popover/popover-create-board.jsx","cmps/popover/popover-checklist.jsx","cmps/popover/popover-starred.jsx","cmps/popover/popover-recent-board.jsx","cmps/popover/popover-user.jsx","cmps/popover/popover-attachment.jsx","cmps/popover/popover-search-appheader.jsx","cmps/popover/popover-list.jsx","cmps/popover/popover-image-picker.jsx","cmps/popover/popover-more.jsx","cmps/popover/dynamic-popover.jsx","root-cmp.jsx","index.js"],"names":["initialState","boards","board","recentBoards","lastRemoveBoard","isLabelesOpend","storageService","query","get","entityType","entityId","then","entities","find","entity","_id","post","newEntity","push","_save","put","updatedEntity","idx","findIndex","splice","remove","postMany","newEntities","map","_makeId","delay","JSON","parse","localStorage","getItem","Promise","resolve","reject","setTimeout","setItem","stringify","length","text","possible","i","charAt","Math","floor","random","BASE_URL","axios","Axios","create","withCredentials","httpService","endpoint","data","ajax","a","method","url","params","res","response","status","sessionStorage","clear","window","location","assign","SOCKET_EVENT_USER_UPDATED","socketService","socket","setup","io","on","eventName","cb","off","removeAllListeners","emit","terminate","createSocketService","STORAGE_KEY_LOGGEDIN_USER","gWatchedUser","userService","login","logout","signup","getLoggedinUser","getUsers","getById","update","googleLogin","userId","user","userCred","_saveLocalUser","removeItem","tokenId","addEventListener","freshUsers","watchedUser","u","score","count","users","currPopover","elPos","name","props","isNewPop","isBackScreen","_linearGradient","_g","rootReducer","combineReducers","boardModule","state","action","newState","type","boardId","filter","labelsMode","boardState","console","log","userModule","diff","popoverModule","popoverName","isOverlayOpen","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","_excluded","_extends","Object","target","arguments","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgHomeLogo","_ref","svgRef","title","titleId","role","alt","height","viewBox","width","className","xmlns","xmlnsXlink","ref","id","x1","x2","y1","y2","offset","stopColor","fill","fillRule","d","ForwardRef","HomeHeader","isNavBgVisible","onOpenPopover","ev","PopoverName","getBoundingClientRect","openPopover","handleScroll","pageYOffset","setState","removeEventListener","guest","fullname","split","lastname","to","onClick","Component","dispatch","closePopover","_HomePage","email","handleChange","preventDefault","value","history","src","React","mapDispatchToProps","HomePage","connect","currPopoverName","FancyBox","style","float","onClose","children","Contacts","backgroundColor","Projects","useState","projs","setProjs","projList","proj","stopPropagation","p","transitionName","transitionEnterTimeout","transitionLeaveTimeout","Date","now","SplitPane","setWidth","display","left","flex","right","AboutUs","onTellMeMore","clearInterval","interval","toLocaleString","MyErrorBoundary","error","errorInfo","whiteSpace","toString","componentStack","utilService","makeId","txt","makeLorem","size","words","getRandomIntInclusive","min","max","ceil","ms","RECEBT_BOARDS_KEY","listeners","boardService","queryRecentBoards","saveRecentBoards","save","subscribe","listener","removeCard","card","lists","forEach","list","cards","some","boardCard","getEmptyBoard","createdAt","createdBy","imgUrl","labels","members","activities","updateCardInBoard","updateCard","addCardToBoard","listId","addCard","listIdx","currList","setPopoverPos","pos","elRect","top","viewportWidth","innerWidth","viewportHeight","innerHeight","filterBy","getByIdRecentBoards","cs","_notifySubscribersBoardsChanged","eventBusService","callListener","detail","dispatchEvent","CustomEvent","showUserMsg","showSuccessMsg","showErrorMsg","loadBoards","catch","err","loadRecentBoards","onSaveBoard","savedBoard","loadBoard","updateRecentBoard","onRemoveBoard","getState","onAddBoard","onEditBoard","boardToSave","myBus","Star","isStarred","star","focusable","clipRule","BoardPreview","isNewBoard","activeIndex","handleStarred","index","class","backgroundImage","background","backgroundRepeat","backgroundPosition","backgroundSize","lineheight","padding","position","textDecoration","SideNav","isOpen","isboardView","toggleMenu","document","querySelector","classList","toggle","isMainBoard","username","backgroundAttachment","WorkspaceHeader","WorkspaceNavBar","SearchNavBar","field","onSelectSort","sortByRecentlyUsed","sortByLeastRecentlyUsed","sortByAlfaBet_A_Z","sortByAlfaBet_Z_A","sort","b","recentBoardInsert","onSetFilter","onSelect","onFilter","htmlFor","onChange","onSubmit","placeholder","_Workspace","boardsToShow","toUpperCase","includes","isWorkSpace","_style","_line","_line2","_line3","Workspace","_ChatApp","msg","msgs","topic","isBotMode","addMsg","newMsg","prevState","sendBotResponse","timeout","clearTimeout","from","changeTopic","sendMsg","loggedInUser","msgHandleChange","checked","autoComplete","ChatApp","SvgLoader","Loader","SvgIconMembers","preserveAspectRatio","transform","stroke","SvgIconChecklists","SvgIconLabels","SvgIconCover","_g2","_g3","_g4","_g5","_g6","_g7","_g8","_g9","_g10","_g11","_g12","_g13","_g14","_g15","_g16","SvgIconAttachment","x","y","enableBackground","xmlSpace","SvgIconDates","activityService","addActivityToBoard","activityType","subject","savedActivity","byMember","cardData","createActivity","unshift","_CardDetailsActions","addFile","fileUrl","attachs","attach","fileName","updatedBoard","_path","CardDetailsActions","SvgAdd","CardDetailsLabels","label","color","DueDateDisplay","isChecked","dueDateDone","defaultChecked","dueDate","SvgIconDescription","Description","isOnEditState","description","onSaveDescription","goBackToCard","keyCode","autoFocus","onKeyDown","onBlur","dir","ScreenOverlay","goBack","styleMode","ProfileAvatar","onlineUsers","member","showStatus","StyledBadge","withStyles","theme","badge","toFixed","boxShadow","palette","paper","borderRadius","animation","border","content","opacity","Badge","onClickAvatar","overlap","anchorOrigin","vertical","horizontal","variant","onlineUserId","Avatar","styles","avatarStyles","word","join","CardDetailsMembers","CardDetailsCover","bgImgUrl","bgColor","getBackground","CardChecklistItem","checklistItem","onSaveChecklistItem","onAddingListItem","todo","onBoxChecked","updateTodoCheckedBox","ProgressBar","fillerStyles","activeColor","doneColor","completed","prevProps","finished","borderTopRightRadius","borderBottomRightRadius","SvgIconChecklist","CardChecklist","doneTodos","percentComplite","checklist","complite","todos","onSaveChecklist","todoId","todoIdx","onEditlistItem","counter","totTodo","onDeleteChecklist","itemIdx","CardChecklists","checklists","checklistIdx","currChecklist","onSaveCardChecklists","SvgIconHeader","ActivityPreview","activity","activityLocation","isInCardLocation","activityShowMsg","ActivitiesList","SvgIconActivity","Activities","cardActivities","currActivity","suitedActivities","SvgPaperclipSolid","CardAttachments","onDeleteCardAttachment","rel","href","_CardDetails","setLocalState","cardId","attachId","currAttach","onSaveCard","onSaveCardFromActions","goBackToBoard","match","cardLabels","labelIds","reduce","acc","labelId","coverMode","CardDetails","CardAdd","titleTxt","onAddCard","comments","textArea","focus","toggleCardAdd","TextareaAutosize","onMouseDown","_CardPreviewLabel","toggleLabelsMode","setLabelsMode","CardPreviewLabel","_DueDateDisplay","dueDateFormat","currYear","getFullYear","year","month","day","getDueStatus","dueStatus","onToggleCardDone","toggleCardDone","displayType","dueMsg","CardPreviewChecklist","todosCount","doneTodosCount","todosMap","_Card","onOpenCardEdit","cardContainer","isChecklistsEmpty","every","isEditMode","cardTitle","borderTopLeftRadius","minHeight","div","onContextMenu","cardStyles","getCardHeaderStyles","Subject","AttachFile","Card","CardPreview","isDragged","_ListPreview","isAddToggeld","handleOnDragEnd","result","handleOnDragEndCards","toggleEdit","onSaveTitle","MoreHoriz","droppableId","provided","droppableProps","innerRef","currCard","cardIdx","draggableId","draggableProps","dragHandleProps","onDrag","onCardClicked","ListPreview","_NavBarBoard","openNav","getElementById","onSaveBoardName","unlisten","listen","pathname","NavBarBoard","withRouter","_MainBoardHeader","MainBoardHeader","ListAdd","isToggled","onAddList","toggleListAdd","SvgExclamationLg","_defs","SvgChart","xlinkHref","mask","BoardCharts","gradientColor","defaults","font","plugins","legend","getGradientColor","cardsPerMemberMap","chartsData","datasets","values","barThickness","cardsPerLabelMap","entries","labelA","labelB","slice","borderWidth","cardsPerListMap","canvas","ctx","getContext","gradient","chart","createLinearGradient","addColorStop","cardsPerLabelData","options","maintainAspectRatio","cutout","cardsPerMemberData","indexAxis","fontColor","cardsPerListData","_Dashboard","concat","overdueCardsCountPerList","isDone","dueSoonCardsCountPerList","allCards","cardsPerMemberCount","currMember","cardsPerLabelCount","currLabelId","path","transition","transformOrigin","trail","strokeLinecap","fontSize","dueSoonCardsCount","cardsCount","overdueCardsCount","dueSoonPercentage","progressCircleStyle","overduePercentage","Dashboard","SvgPerson","_CardEdit","onCloseCardEdit","isArchived","onSetPopoverPos","EditBtnsPosition","closeBtn","selectedDiv","CardEdit","_Chat","typingUser","chatHistory","scrollIntoView","behavior","toggleUserIsTyping","onAddUserQuestion","questions","currTxt","updatedQuests","userImg","openElement","closeElement","currUser","Chat","SideNavRight","componentDidMount","closeNav","_BoardApp","isCardClicked","isCardEditOpen","HandleDrop","all","onBoardChange","destination","start","finish","Array","reorderedItem","itemsArr","updateElemDND","updateBoardDND","items","des","srcItems","desItems","srcItemsIn","desItemsIn","removeEvent","distanseFromRight","$","exact","component","onDragEnd","direction","BoardApp","LoginHeader","onLogin","credentials","onGoogleLogin","onSignup","onLogout","_LoginSignup","password","isSignup","clearState","clearTemplate","toggleSignup","onSuccessGoogle","onFailureGoogle","required","clientId","buttonText","onSuccess","onFailure","cookiePolicy","LoginSignup","loginErr","_LoginSignupPage","loginSignup","routes","SvgNotificBell","_AppHeader","filterTxt","currOpenModal","isNewNotific","searchInput","createRef","isBoardStyle","autoCorrect","spellCheck","hndleChange","loadUsers","removeUser","AppHeader","_UserDetails","loadAndWatchUser","UserDetails","PopoverLabelPreview","toggleLabel","isSelected","isFilterPreview","toggleEditMode","_Popover","displayMode","handleClose","overlay","Popover","ColorPalette","selectedColor","colorCodes","getStyles","colorCode","PopoverLabelEdit","onSaveLabel","saveLabel","labelToEdit","onRemoveLabel","removeLabel","togglePopover","_PopoverLabels","inputTxt","presentedLabels","labelToSave","labelToRemove","isLabelInCard","filterRegex","RegExp","test","PopoverLabels","_PopoverDate","date","_d","saveDueDate","dueDateBefore","onRemoveDate","utils","MomentUtils","DatePicker","autoOk","openTo","PopoverDate","PopoverMemberPreview","toggleMember","_PopoverMembers","presentedMembers","cardMember","isMemberInCard","PopoverMembers","cloudinaryService","uploadFile","UPLOAD_URL","formData","FormData","append","files","fetch","body","json","FileUpload","isUploading","secure_url","onFileUpload","accept","_PopoverCover","saveCover","onSaveCover","onRemoveCover","onSetMode","mode","PopoverCover","API_KEY","unSplashService","getInitialImgs","searchImgs","keyword","quantity","results","img","small","urls","full","ImagePalette","imgs","loadImgs","onSearch","fetchImages","overflowY","overflowX","_PopoverCreateBoard","handleClick","isNew","onCreateBoard","anchorEl","open","anchorReference","PopoverCreateBoard","_PopoverChecklist","handlechange","addChecklist","PopoverChecklist","_PopoverStarred","starredBoards","PopoverStarred","_PopoverRecentBoard","PopoverRecentBoard","_PopoverUser","PopoverUser","PopoverAttachment","file","link","linkTxt","onAttachLink","_PopoverSearchAppheader","PopoverSearchAppheader","PopoverList","onArchiveList","_PopoverImagePicker","isGradient","PopoverMoreOptions","DynamicPopover","_RootCmp","overflow","isHeaderAppears","route","_RootCmpWithRoute","RootCmp","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.23c7a8c9.chunk.js","sourcesContent":["import { act } from \"react-dom/test-utils\"\n\nconst initialState = {\n    boards: [],\n    board: null,\n    recentBoards: [],\n    lastRemoveBoard: null,\n    isLabelesOpend: false,\n\n}\nexport function boardReducer(state = initialState, action) {\n\n    var newState = state\n    var boards\n    var recentBoards\n\n    switch (action.type) {\n        case 'SET_BOARDS':\n            newState = { ...state, boards: action.boards }\n            break\n        case 'SET_RECENT_BOARDS':\n            newState = { ...state, recentBoards: action.recentBoards }\n            break\n\n        case 'UPDATE_RECENT_BOARDS':\n            recentBoards = state.recentBoards\n            recentBoards.push(action.board)\n            newState = { ...state, recentBoards: recentBoards }\n            break\n        case 'SET_BOARD':\n            newState = { ...state, board: action.board }\n            break\n        case 'REMOVE_BOARD':\n            const lastRemoveBoard = state.boards.find(board => board._id === action.boardId)\n            boards = state.boards.filter(board => board._id !== action.boardId)\n            newState = { ...state, boards, lastRemoveBoard }\n            break\n        case 'ADD_BOARD':\n            newState = { ...state, boards: [...state.boards, action.board] }\n            break\n        case 'UPDATE_BOARD':\n            boards = state.boards.map(board => (board._id === action.board._id) ? action.board : board)\n            newState = { ...state, boards }\n            break\n        case 'SET_LABELS_MODE':\n            newState = { ...state, isLabelesOpend: action.labelsMode }\n            break;\n        case 'UNDO_REMOVE_BOARD':\n            if (state.lastRemoveBoard) {\n                newState = { ...state, boards: [...state.boards, state.lastRemoveBoard], lastRemoveBoard: null }\n            }\n            break\n        case 'SAVE_BOARD':\n            newState = { ...state, board: { ...action.board } }\n            break;\n        default:\n    }\n    // For debug:\n    window.boardState = newState\n    console.log('Prev State:', state)\n    console.log('Action:', action)\n    console.log('New State:', newState)\n    return newState\n\n}\n","\nexport const storageService = {\n    query,\n    get,\n    post,\n    put,\n    remove,\n    postMany\n}\n\nfunction query(entityType, delay = 1200) {\n    var entities = JSON.parse(localStorage.getItem(entityType)) || []\n    return new Promise((resolve, reject) => {\n        setTimeout(() => {\n            resolve(entities)\n        }, delay)\n    })\n}\n\n\nfunction get(entityType, entityId) {\n    return query(entityType)\n        .then(entities => {\n            return entities.find(entity => {\n                return entity._id === entityId\n            })\n        })\n}\nfunction post(entityType, newEntity) {\n    return query(entityType)\n        .then(entities => {\n            entities.push(newEntity)\n            _save(entityType, entities)\n            return newEntity\n        })\n}\n\nfunction put(entityType, updatedEntity) {\n    return query(entityType)\n        .then(entities => {\n            const idx = entities.findIndex(entity => entity._id === updatedEntity._id)\n            entities.splice(idx, 1, updatedEntity)\n            _save(entityType, entities)\n            return updatedEntity\n        })\n}\n\nfunction remove(entityType, entityId) {\n    return query(entityType)\n        .then(entities => {\n            const idx = entities.findIndex(entity => entity._id === entityId)\n            entities.splice(idx, 1)\n            _save(entityType, entities)\n        })\n}\n\nfunction _save(entityType, entities) {\n    localStorage.setItem(entityType, JSON.stringify(entities))\n}\n\nfunction _makeId(length = 5) {\n    var text = ''\n    var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'\n    for (var i = 0; i < length; i++) {\n        text += possible.charAt(Math.floor(Math.random() * possible.length))\n    }\n    return text\n}\n\nfunction postMany(entityType, newEntities) {\n    return query(entityType)\n        .then(entities => {\n            newEntities = newEntities.map(entity => ({ ...entity, _id: _makeId() }))\n            entities.push(...newEntities)\n            _save(entityType, entities)\n            return entities\n        })\n}","import Axios from 'axios'\n\nconst BASE_URL = process.env.NODE_ENV === 'production'\n    ? '/api/'\n    : '//localhost:3030/api/'\n\n\nvar axios = Axios.create({\n    withCredentials: true\n})\n\nexport const httpService = {\n    get(endpoint, data) {\n        return ajax(endpoint, 'GET', data)\n    },\n    post(endpoint, data) {\n        return ajax(endpoint, 'POST', data)\n    },\n    put(endpoint, data) {\n        return ajax(endpoint, 'PUT', data)\n    },\n    delete(endpoint, data) {\n        return ajax(endpoint, 'DELETE', data)\n    }\n}\n\nasync function ajax(endpoint, method = 'GET', data = null) {\n    try {\n        const res = await axios({\n            url: `${BASE_URL}${endpoint}`,\n            method,\n            data,\n            params: (method === 'GET') ? data : null\n        })\n        return res.data\n    } catch (err) {\n        if (err.response && err.response.status === 401) {\n            sessionStorage.clear();\n            window.location.assign('/')\n        }\n        throw err\n    }\n}","import io from 'socket.io-client'\r\n\r\nexport const SOCKET_EMIT_USER_WATCH = 'user-watch';\r\nexport const SOCKET_EVENT_USER_UPDATED = 'user-updated';\r\nexport const SOCKET_EVENT_REVIEW_ADDED = 'review-added';\r\nexport const SOCKET_EVENT_REVIEW_ABOUT_YOU = 'review-about-you';\r\nexport const SOCKET_EVENT_ON_BOARD_SAVED = 'on-board-saved';\r\nexport const SOCKET_EVENT_START_BOARD = 'start-board';\r\nexport const SOCKET_EVENT_ON_RELOAD_BOARD = 'reload-board';\r\n\r\n\r\nconst baseUrl = (process.env.NODE_ENV === 'production') ? '' : '//localhost:3030'\r\nexport const socketService = createSocketService()\r\n\r\nwindow.socketService = socketService\r\n\r\nvar socketIsReady = false;\r\n\r\nfunction createSocketService() {\r\n  var socket = null;\r\n  const socketService = {\r\n    async setup() {\r\n      if (socket) return\r\n      socket = io(baseUrl)\r\n      socketIsReady = true;\r\n    },\r\n    async on(eventName, cb) {\r\n      if (!socket) await socketService.setup();\r\n      socket.on(eventName, cb)\r\n    },\r\n    async off(eventName, cb = null) {\r\n      if (!socket) await socketService.setup();\r\n      if (!cb) socket.removeAllListeners(eventName)\r\n      else socket.off(eventName, cb)\r\n    },\r\n    async emit(eventName, data) {\r\n\r\n      if (!socket) await socketService.setup()\r\n      socket.emit(eventName, data)\r\n    },\r\n    terminate() {\r\n      socket = null\r\n      socketIsReady = false\r\n    }\r\n  }\r\n  return socketService\r\n}\r\n\r\n","import { storageService } from './async-storage.service'\r\nimport { httpService } from './http.service'\r\nimport { socketService, SOCKET_EVENT_USER_UPDATED } from './socket.service'\r\nconst STORAGE_KEY_LOGGEDIN_USER = 'loggedinUser'\r\nvar gWatchedUser = null;\r\n\r\nexport const userService = {\r\n    login,\r\n    logout,\r\n    signup,\r\n    getLoggedinUser,\r\n    getUsers,\r\n    getById,\r\n    remove,\r\n    update,\r\n    googleLogin,\r\n}\r\n\r\nwindow.userService = userService\r\n\r\nasync function getUsers() {\r\n    try {\r\n        return await httpService.get('user')\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\n// function getUsers() {\r\n//     return storageService.query('user')\r\n//     // return httpService.get(`user`)\r\n// }\r\n\r\nasync function getById(userId) {\r\n    try {\r\n        return await httpService.get(`board/${userId}`)\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\n// async function getById(userId) {\r\n//     const user = await storageService.get('user', userId)\r\n//     // const user = await httpService.get(`user/${userId}`)\r\n//     gWatchedUser = user;\r\n//     return user;\r\n// }\r\n\r\nasync function remove(userId) {\r\n    try {\r\n        return await httpService.delete(`user/${userId}`)\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\n// function remove(userId) {\r\n//     return storageService.remove('user', userId)\r\n//     // return httpService.delete(`user/${userId}`)\r\n// }\r\n\r\nasync function update(user) {\r\n    if (user._id) {\r\n        try {\r\n            return await httpService.put(`user/${user._id}`, user)\r\n        } catch (err) {\r\n            throw err\r\n        }\r\n    }\r\n}\r\n\r\n\r\nasync function login(userCred) {\r\n\r\n    const user = await httpService.post('auth/login', userCred)\r\n    socketService.emit('set-user-socket', user._id);\r\n    if (user) return _saveLocalUser(user)\r\n}\r\n\r\nasync function signup(userCred) {\r\n    const user = await httpService.post('auth/signup', userCred)\r\n    socketService.emit('set-user-socket', user._id);\r\n    return _saveLocalUser(user)\r\n}\r\nasync function logout() {\r\n    sessionStorage.removeItem(STORAGE_KEY_LOGGEDIN_USER)\r\n    socketService.emit('unset-user-socket');\r\n    return await httpService.post('auth/logout')\r\n}\r\n\r\n\r\n\r\nasync function googleLogin(tokenId) {\r\n    try {\r\n        const user = await httpService.post('auth/googlelogin', { tokenId })\r\n        if (user) return _saveLocalUser(user)\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\nfunction _saveLocalUser(user) {\r\n    sessionStorage.setItem(STORAGE_KEY_LOGGEDIN_USER, JSON.stringify(user))\r\n    return user\r\n}\r\n\r\nfunction getLoggedinUser() {\r\n    return JSON.parse(sessionStorage.getItem(STORAGE_KEY_LOGGEDIN_USER) || 'null')\r\n}\r\n\r\n\r\n// This IIFE functions for Dev purposes \r\n// It allows testing of real time updates (such as sockets) by listening to storage events\r\n(async () => {\r\n    var user = getLoggedinUser()\r\n    // Dev Helper: Listens to when localStorage changes in OTHER browser\r\n\r\n    // Here we are listening to changes for the watched user (comming from other browsers)\r\n    window.addEventListener('storage', async () => {\r\n        if (!gWatchedUser) return;\r\n        const freshUsers = await storageService.query('user')\r\n        const watchedUser = freshUsers.find(u => u._id === gWatchedUser._id)\r\n        if (!watchedUser) return;\r\n        if (gWatchedUser.score !== watchedUser.score) {\r\n            //console.log('Watched user score changed - localStorage updated from another browser')\r\n            socketService.emit(SOCKET_EVENT_USER_UPDATED, watchedUser)\r\n        }\r\n        gWatchedUser = watchedUser\r\n    })\r\n})();\r\n\r\n// This is relevant when backend is connected\r\n(async () => {\r\n    var user = getLoggedinUser()\r\n    if (user) socketService.emit('set-user-socket', user._id)\r\n})();\r\n\r\n","import { userService } from '../services/user.service.js'\n\n\nconst initialState = {\n    count: 10,\n    user: userService.getLoggedinUser(),\n    users: [],\n    watchedUser : null\n}\nexport function userReducer(state = initialState, action) {\n    var newState = state;\n    switch (action.type) {\n        case 'INCREMENT':\n            newState = { ...state, count: state.count + 1 }\n            break;\n        case 'DECREMENT':\n            newState = { ...state, count: state.count - 1 }\n            break;\n        case 'CHANGE_COUNT':\n            newState = { ...state, count: state.count + action.diff }\n            break;\n        case 'SET_USER':\n            newState = { ...state, user: action.user }\n            break;\n        case 'SET_WATCHED_USER':\n            newState = { ...state, watchedUser: action.user }\n            break;\n        case 'REMOVE_USER':\n            newState = {\n                ...state,\n                users: state.users.filter(user => user._id !== action.userId)\n            }\n            break;\n        case 'SET_USERS':\n            newState = { ...state, users: action.users }\n            break;\n        case 'SET_SCORE':\n            newState = { ...state, user: { ...state.user, score: action.score } }\n            break;\n        default:\n    }\n    // For debug:\n    // window.userState = newState;\n    // console.log('State:', newState);\n    return newState;\n\n}\n","const initialState = {\n  currPopover: {\n    elPos: null,\n    name: '',\n    props: null,\n    isNewPop: false\n  },\n  isBackScreen: false,\n}\n\nexport function popoverReducer(state = initialState, action) {\n  switch (action.type) {\n    case 'SET_POPOVER':\n      return { ...state, currPopover: { name: action.popoverName, elPos: action.elPos, props: action.props, isNewPop: action.isNewPop }, isOverlayOpen: true }\n    case 'CLOSE_POPOVER':\n      return { ...state, currPopover: { name: '', elPos: null, props: null }, isOverlayOpen: false }\n    default:\n      return state\n  }\n}\n","// const { createStore, applyMiddleware, combineReducers, compose } = Redux\n// const thunk = ReduxThunk.default\n\nimport { createStore, applyMiddleware, combineReducers, compose } from 'redux'\nimport thunk from 'redux-thunk'\n\n\nimport { boardReducer } from './board.reducer.js'\nimport { userReducer } from './user.reducer.js'\nimport { popoverReducer } from './popover.reducer.js'\n\nconst rootReducer = combineReducers({\n    boardModule: boardReducer,\n    userModule: userReducer,\n    popoverModule: popoverReducer\n})\n\n\n// export const store = createStore(rootReducer, applyMiddleware(thunk))\n// window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__();\n// Lets wire up thunk and also redux-dev-tools:\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nexport const store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)))\n// export const store = createStore(rootReducer, applyMiddleware(thunk))\n\n\n","var _linearGradient, _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgHomeLogo(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    role: \"img\",\n    alt: \"Trello\",\n    \"aria-label\": \"Trello\",\n    height: \"100px\",\n    viewBox: \"0 0 63.4 62.4\",\n    width: \"100px\",\n    className: \"d-block\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _linearGradient || (_linearGradient = /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"trello-logo-default\",\n    x1: \"50.048061%\",\n    x2: \"50.048061%\",\n    y1: \"100%\",\n    y2: \"0%\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0,\n    stopColor: \"#0052cc\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#2684ff\"\n  }))), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m55.59.07h-47.59c-4.09405078 0-7.41448241 3.31595294-7.42006073 7.41v47.52c-.00791682 1.9730991.77030774 3.8681213 2.16269326 5.2661365 1.39238553 1.3980151 3.28425224 2.1838635 5.25736747 2.1838635h47.59c1.9713817-.0026407 3.8606757-.7896772 5.250897-2.1874031s2.1670753-3.2912295 2.1591638-5.2625969v-47.52c-.0055694-4.09014608-3.3199147-7.40449138-7.4100608-7.41zm-28.09 44.93c-.0026377.6594819-.2678382 1.2907542-.7369724 1.7542587-.4691341.4635046-1.1035619.721065-1.7630276.7158222h-10.4c-1.3602365-.005588-2.46-1.1098333-2.46-2.4700809v-30.95c0-1.3602476 1.0997635-2.4644929 2.46-2.47h10.4c1.3618668.0054804 2.4645196 1.1081332 2.47 2.47zm24-14.21c0 .6603158-.2642968 1.2931595-.7340204 1.7572465-.4697237.464087-1.1057125.7207735-1.7659796.7129359h-10.4c-1.3618668-.0056628-2.4645196-1.1083156-2.47-2.4701824v-16.74c.0054804-1.3618668 1.1081332-2.4645196 2.47-2.47h10.4c1.3602365.0055071 2.4600111 1.1097524 2.46 2.47z\",\n    fill: \"url(#trello-logo-default)\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgHomeLogo);\nexport default __webpack_public_path__ + \"static/media/home-logo.beeb5bdc.svg\";\nexport { ForwardRef as ReactComponent };","export default __webpack_public_path__ + \"static/media/board.788ec0d7.png\";","export default __webpack_public_path__ + \"static/media/logo.8523ccde.png\";","import { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport { ReactComponent as HomepageLogo } from '../assets/img/logos/home-logo.svg'\n\nexport class HomeHeader extends Component {\n\n    state = {\n        isNavBgVisible: false,\n    }\n\n    componentDidMount() {\n        window.addEventListener('scroll', this.handleScroll)\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('scroll', this.handleScroll)\n    }\n\n    onOpenPopover = (ev, PopoverName) => {\n        //debugger\n        const elPos = ev.target.getBoundingClientRect();\n        const props = {\n            user: this.props.user,\n        };\n        this.props.openPopover(PopoverName, elPos, props);\n    };\n\n\n    handleScroll = () => {\n        const { isNavBgVisible } = this.state\n        if (window.pageYOffset > 100 && !isNavBgVisible) {\n            this.setState({ isNavBgVisible: true })\n        } else if (window.pageYOffset < 100 && isNavBgVisible) {\n            this.setState({ isNavBgVisible: false })\n        }\n    }\n\n    render() {\n        const { isNavBgVisible } = this.state\n        const { user, guest } = this.props\n        const [name, lastname] = user ? user.fullname.split(' ') : ['', '']\n\n        return (\n            <header className={`home-header ${isNavBgVisible ? 'visibleBg' : ''}`}>\n                <nav className=\"flex justify-space-between\">\n                    <div className=\"logo\">\n                        <HomepageLogo />\n                        Corollo\n                    </div>\n                    {(!user || guest) && <div className=\"nav-btns \">\n                        <Link to=\"log/login\" className=\"login-btn clean-link\">\n                            Log in\n                        </Link>\n                        <Link to=\"log/signup\" className=\"signup-btn clean-link\">\n                            Sign up\n                        </Link>\n                    </div>}\n                    <div className=\"user-details-header\">\n\n                        {user && <button className=\"user-logo-in-app-header \" onClick={(ev) => {\n                            this.onOpenPopover(ev, 'USER')\n                        }}><div className=\"letter-logo-workspace-header\">\n                                {name[0]}{lastname[0]}\n                            </div>\n                        </button>}\n                    </div>\n                </nav>\n            </header>\n        )\n    }\n}\n","export function openPopover(popoverName, elPos, props, isNewPop = false) {\n  return dispatch => {\n    const action = {\n      type: 'SET_POPOVER',\n      popoverName,\n      elPos,\n      props,\n      isNewPop\n    }\n    dispatch(action)\n  }\n}\n\nexport function closePopover() {\n  return dispatch => {\n    const action = {\n      type: 'CLOSE_POPOVER',\n    }\n    dispatch(action)\n  }\n}\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport logo from '../assets/img/logo.png'\nimport board from '../assets/img/board.png'\nimport { HomeHeader } from '../cmps/home-header'\nimport { openPopover, closePopover } from '../store/popover.actions.js'\nclass _HomePage extends React.Component {\n    state = {\n        email: '',\n        guest: false\n    }\n    handleChange = (ev) => {\n        ev.preventDefault();\n        this.setState({ email: ev.target.value })\n    }\n    render() {\n        const { email, guest } = this.state\n        const {  user, openPopover, closePopover } = this.props\n        return (\n\n            <section className=\"home-page-container\">\n                <HomeHeader user={user} guest={guest} openPopover={openPopover} closePopover={closePopover} />\n                <div className=\"first-home-page-container\">\n                    <div className=\"introduction-signup\">\n                        <div className=\"first-part-txt\">\n                            <h1>Corollo helps teams move work forward.</h1>\n                            <p>\n                                Collaborate, manage projects, and reach new productivity peaks.\n                                From high rises to the home office, the way your team works is unique—accomplish it all with Corollo.\n                            </p>\n\n                        </div>\n                        <div className=\"btn-homepage-signup\">\n                            {/* <input name=\"email\" className=\"form-control h-100\" type=\"email\" placeholder=\"Email\" onChange={(ev) => { this.handleChange(ev) }} />\n                            <button type=\"submit\" data-analytics-button=\"greenSignupHeroButton\" className=\"btn btn-home-page-submit\" onClick={() => {\n                                this.props.history.push(`/log/sign-up/${email}`)\n                            }}>Sign up—it’s free!</button> */}\n                          <button type=\"submit\" data-analytics-button=\"greenSignupHeroButton\" className=\"btn btn-home-page-submit\" onClick={() => {\n                        this.props.history.push('/workspace')\n                    }}>Get started  →</button>\n                        </div>\n                    </div>\n                    <div className=\"home-page-pic\">\n                        <img src=\"https://raw.githubusercontent.com/alaattinerby/Covid-19-Website/4c233460e18c1a8cfba4f7c4830e8da0e7c5e8e9/Covid-19/img/section-image.svg\" alt=\"\" />\n                    </div>\n                </div>\n                <div className=\"second-home-page-container\">\n                    <h2>\n                        It’s more than work. It’s a way of working together.\n                    </h2>\n                    <p className=\"first-part-txt\">\n                        Start with a Corollo board, lists, and cards. Customize and expand with more features as your teamwork grows.\n                        Manage projects, organize tasks, and build team spirit—all in one place.\n                    </p>\n                    <button type=\"submit\" data-analytics-button=\"greenSignupHeroButton\" className=\"info-btn \" onClick={() => {\n                        this.props.history.push('/workspace')\n                    }}>Tell me more</button>\n                    {/* <img src=\"https://d2k1ftgv7pobq7.cloudfront.net/meta/p/res/images/spirit/product/89d378b845766a8f0c48e955336266f8/board.png\" alt=\"\" /> */}\n                    <img src={board} alt=\"\" />\n                </div>\n            </section >\n        )\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n        user: state.userModule.user,\n        count: state.userModule.count,\n        currPopoverName: state.popoverModule.currPopover.name,\n    }\n}\nconst mapDispatchToProps = {\n    openPopover,\n    closePopover,\n}\nexport const HomePage = connect(mapStateToProps, mapDispatchToProps)(_HomePage)","import React, { useState } from 'react'\nimport PropTypes from 'prop-types'\nimport { CSSTransitionGroup } from 'react-transition-group'\n\n\nfunction FancyBox(props) {\n    return <div className=\"fancy-box\">\n        <button style={{ float: 'right' }} onClick={props.onClose}>x</button>\n        {props.children}\n    </div>\n}\n\nFancyBox.propTypes = {\n    onClose: PropTypes.func.isRequired\n}\n\nfunction Contacts() {\n    return <section style={{ height: '50vh', backgroundColor: 'pink' }}>\n        <h2>Contacts</h2>\n    </section>\n}\nfunction Projects() {\n    const [projs, setProjs] = useState(['Puki Proj', 'Muki Proj'])\n    const projList = projs.map((proj, idx) => (\n        <div className=\"proj-preview\" key={proj} onClick={(ev) => {\n            ev.stopPropagation();\n            setProjs(projs.filter(p => p !== proj))\n        }}>\n            {proj}\n        </div>\n    ));\n    return <section style={{ height: '50vh', backgroundColor: 'lightblue' }}>\n        <h2>Projects</h2>\n        <CSSTransitionGroup transitionName=\"example\" transitionEnterTimeout={500}\n            transitionLeaveTimeout={300}>\n            {projList}\n        </CSSTransitionGroup>\n        <button onClick={ev => {\n            ev.stopPropagation();\n            setProjs([...projs, 'Babu Proj' + Date.now() % 100])\n        }}>Add</button>\n    </section >\n}\n\nfunction SplitPane(props) {\n\n    const [width, setWidth] = useState(30)\n\n    if (false && width === 60) {\n        throw new Error('Projects cannot load')\n    }\n    return (\n        <div className=\"split-pane\" style={{\n            display: 'flex'\n        }}>\n            <div style={{ width: width + '%' }} onClick={() => {\n                if (width + 10 <= 100) setWidth(width + 10)\n            }}>\n                {props.left}\n            </div>\n            <div style={{ flex: 1 }} onClick={() => {\n                if (width > 10) setWidth(width - 10)\n            }}>\n                {props.right}\n            </div>\n        </div>\n    )\n}\n\n\nexport class AboutUs extends React.Component {\n    state = {\n        count: 1000,\n    }\n    componentDidMount() {\n        // this.interval = setInterval(() => {\n        //     console.log('Setting Followers Count');\n        //     this.setState(({ count }) => ({ count: count + utilService.getRandomIntInclusive(5, 20) }))\n        // }, 2500)\n    }\n    componentWillUnmount() {\n        clearInterval(this.interval)\n    }\n\n    shouldComponentUpdate() {\n        return true\n    }\n\n    onTellMeMore = () => {\n    }\n    render() {\n        const { count } = this.state\n        return (\n            <section>\n                <h2>About Us</h2>\n                <MyErrorBoundary>\n\n                    <SplitPane\n                        left={\n                            <Contacts />\n                        }\n                        right={\n                            <Projects />\n                        } />\n\n                </MyErrorBoundary>\n\n                <FancyBox onClose={() => { }}>\n                    <h3>{count.toLocaleString()} Followers</h3>\n                    <button onClick={this.onTellMeMore}>Tell me More</button>\n                </FancyBox>\n\n                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Magni aperiam quo veniam velit dolor reprehenderit, laudantium consequatur neque numquam labore quae. Accusamus libero perferendis ducimus? Alias unde hic quisquam doloremque.</p>\n            </section>\n        )\n    }\n}\n\n\nclass MyErrorBoundary extends React.Component {\n    state = { error: null, errorInfo: null };\n\n    componentDidCatch(error, errorInfo) {\n        // Catch errors in children and re-render with error message\n        // Note: in development the error is still presented on screen and you need to ESC to see the fallback UI\n        this.setState({\n            error,\n            errorInfo\n        })\n        // TODO: Log error to an error reporting service\n        // logger.report(error)\n    }\n    render() {\n        if (this.state.errorInfo) {\n            // Error path\n            return (\n                <div>\n                    <h2>Something went wrong.</h2>\n\n                    <details style={{ whiteSpace: 'pre-wrap' }}>\n                        {this.state.error && this.state.error.toString()}\n                        <br />\n                        {this.state.errorInfo.componentStack}\n                    </details>\n                </div>\n            );\n        }\n        // Normally, just render children\n        return this.props.children;\n    }\n}\n","export const utilService = {\n    makeId,\n    makeLorem,\n    getRandomIntInclusive,\n    delay\n}\n\nfunction makeId(length = 6) {\n    var txt = '';\n    var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n\n    for (var i = 0; i < length; i++) {\n        txt += possible.charAt(Math.floor(Math.random() * possible.length));\n    }\n\n    return txt;\n}\n\nfunction makeLorem(size = 100) {\n    var words = ['The sky', 'above', 'the port', 'was', 'the color of television', 'tuned', 'to', 'a dead channel', '.', 'All', 'this happened', 'more or less', '.', 'I', 'had', 'the story', 'bit by bit', 'from various people', 'and', 'as generally', 'happens', 'in such cases', 'each time', 'it', 'was', 'a different story', '.', 'It', 'was', 'a pleasure', 'to', 'burn'];\n    var txt = '';\n    while (size > 0) {\n        size--;\n        txt += words[Math.floor(Math.random() * words.length)] + ' ';\n    }\n    return txt;\n}\n\nfunction getRandomIntInclusive(min, max) {\n    min = Math.ceil(min);\n    max = Math.floor(max);\n    return Math.floor(Math.random() * (max - min + 1)) + min; //The maximum is inclusive and the minimum is inclusive \n}\n\nfunction delay(ms = 1500) {\n    return new Promise(resolve => {\n        setTimeout(resolve, ms)\n    })\n}\n\n","\r\nimport { storageService } from './async-storage.service.js'\r\n// import { utilService } from './util.service.js'\r\nimport { utilService } from './util.service.js'\r\nimport { userService } from './user.service.js'\r\nimport data from '../json/board.json'\r\nimport { useLocation } from 'react-router'\r\nimport testUtils from 'react-dom/test-utils'\r\nimport { httpService } from './http.service'\r\nimport { noConflict } from 'lodash'\r\n\r\nconst STORAGE_KEY = 'boardDB'\r\nconst RECEBT_BOARDS_KEY = 'recentBoardsDB'\r\nconst listeners = []\r\nconst DATA = data;\r\n\r\nexport const boardService = {\r\n    query,\r\n    queryRecentBoards,\r\n    saveRecentBoards,\r\n    getById,\r\n    save,\r\n    remove,\r\n    subscribe,\r\n    removeCard,\r\n    getEmptyBoard,\r\n    updateCardInBoard,\r\n    addCardToBoard,\r\n    setPopoverPos\r\n}\r\nwindow.cs = boardService;\r\n\r\nasync function query(filterBy = {}) {\r\n    try {\r\n        return await httpService.get('board', filterBy)\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\nfunction queryRecentBoards() {\r\n    return storageService.query(RECEBT_BOARDS_KEY)\r\n}\r\n\r\nasync function getById(boardId) {\r\n    try {\r\n        return await httpService.get(`board/${boardId}`)\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\nasync function saveRecentBoards(board) {\r\n    const getBoard = await getByIdRecentBoards(board._id)\r\n    if (getBoard) {\r\n        return\r\n    }\r\n    else {\r\n        return storageService.post(RECEBT_BOARDS_KEY, board)\r\n    }\r\n}\r\n\r\nfunction getByIdRecentBoards(boardId) {\r\n    return storageService.get(RECEBT_BOARDS_KEY, boardId)\r\n}\r\n\r\nasync function remove(boardId) {\r\n    try {\r\n        await httpService.delete(`board/${boardId}`)\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\nasync function save(board) {\r\n    if (board._id) {\r\n        try {\r\n\r\n            return await httpService.put(`board/${board._id}`, board)\r\n        } catch (err) {\r\n            throw err\r\n        }\r\n    } else {\r\n        try {\r\n            return await httpService.post('board', board)\r\n        } catch (err) {\r\n            throw err\r\n        }\r\n    }\r\n}\r\n\r\nfunction subscribe(listener) {\r\n    listeners.push(listener)\r\n}\r\n\r\nfunction _notifySubscribersBoardsChanged(boards) {\r\n    listeners.forEach(listener => listener(boards))\r\n}\r\n\r\nwindow.addEventListener('storage', () => {\r\n    query()\r\n        .then(boards => {\r\n            _notifySubscribersBoardsChanged(boards)\r\n        })\r\n})\r\n\r\n// TEST DATA\r\nfunction updateCardInBoard(board, updateCard) {\r\n    board = { ...board }\r\n\r\n    board.lists.forEach(list => {\r\n        list.cards.forEach((card, idx) => {\r\n            if (card.id === updateCard.id) list.cards[idx] = updateCard\r\n        })\r\n    })\r\n    return board\r\n}\r\n\r\nfunction addCardToBoard(board, listId, addCard) {\r\n\r\n    board = { ...board }\r\n\r\n    const listIdx = board.lists.findIndex(currList => currList.id === listId);\r\n\r\n    if (listIdx === -1) return { ...board }\r\n    else board.lists[listIdx].cards.push({ ...addCard })\r\n\r\n    return board\r\n}\r\n\r\nfunction removeCard(board, card) {\r\n    board = { ...board }\r\n\r\n    board.lists.forEach(list => {\r\n        if (list.cards.some(boardCard => boardCard.id === card.id))\r\n            list.cards = list.cards.filter(boardCard => boardCard.id !== card.id)\r\n    })\r\n    return board\r\n}\r\n\r\nfunction setPopoverPos(pos, elRect, diff = 38) {\r\n    let { left, top } = pos\r\n    top += diff\r\n    const { height, width } = elRect\r\n    const viewportWidth = window.innerWidth\r\n    const viewportHeight = window.innerHeight\r\n    if (left + width > viewportWidth) left = viewportWidth - width - 10\r\n    if (top + height > viewportHeight) top = viewportHeight - height - 10\r\n    return { left, top, width }\r\n}\r\n\r\nfunction getEmptyBoard() {\r\n    const board = {\r\n        title: \"\",\r\n        createdAt: Date.now(),\r\n        createdBy: {\r\n            _id: \"\",\r\n            fullname: \"\",\r\n            imgUrl: \"\"\r\n        },\r\n        style: {},\r\n        labels: [\r\n        ],\r\n        members: [\r\n\r\n        ],\r\n        lists: [\r\n        ],\r\n        activities: [\r\n        ]\r\n    }\r\n\r\n    return board;\r\n}","function on(eventName, listener) {\n\n    const callListener = ({ detail }) => {\n        listener(detail);\n    };\n\n    window.addEventListener(eventName, callListener);\n\n    return () => {\n        window.removeEventListener(eventName, callListener);\n    };\n}\n\nfunction emit(eventName, data) {\n    window.dispatchEvent(new CustomEvent(eventName, { detail: data }));\n}\n\nexport const eventBusService = { on, emit };\n\nexport function showUserMsg(txt, type = '') {\n    eventBusService.emit('show-user-msg', { txt, type })\n}\nexport function showSuccessMsg(txt) {\n    showUserMsg(txt, 'success')\n}\nexport function showErrorMsg(txt) {\n    showUserMsg(txt, 'danger')\n}\n\nwindow.myBus = eventBusService;\nwindow.showUserMsg = showUserMsg;\n\n// eventBusService.on('baba', (x)=>console.log('Hi Baba', x))\n// eventBusService.on('baba', (x)=>console.log('Hello Baba Ji', x))\n// eventBusService.emit('baba', [5, 8, 11])\n// setTimeout(()=>{\n//     eventBusService.emit('baba', 17)\n// }, 2000)\n\n/* Listening Component...\n    import {eventBusService} from 'path...event-bus-service'\n    eventBusService.on('some-event', (dataFromEvent) => {\n    do something with dataFromEvent\n    })\n\n   Receiving Component...\n    eventBusService.emit('some-event', data)\n*/","import { boardService } from \"../services/board.service.js\";\nimport { userService } from \"../services/user.service.js\";\nimport { showSuccessMsg, showErrorMsg } from '../services/event-bus.service.js'\nimport { socketService } from \"../services/socket.service.js\";\n\n\nexport function loadBoards() {\n    return (dispatch) => {\n        boardService.query()\n            .then(boards => {\n                dispatch({\n                    type: 'SET_BOARDS',\n                    boards\n                })\n            })\n            .catch(err => {\n                showErrorMsg('Cannot load boards')\n            })\n\n        boardService.subscribe((boards) => {\n            dispatch({\n                type: 'SET_BOARDS',\n                boards\n            })\n        })\n    }\n}\n\n\nexport function loadRecentBoards() {\n    return (dispatch) => {\n        boardService.queryRecentBoards()\n            .then(recentBoards => {\n                dispatch({\n                    type: 'SET_RECENT_BOARDS',\n                    recentBoards\n                })\n            })\n            .catch(err => {\n                showErrorMsg('Cannot load boards')\n            })\n\n        boardService.subscribe((recentBoards) => {\n            dispatch({\n                type: 'SET_RECENT_BOARDS',\n                recentBoards\n            })\n        })\n    }\n}\nexport function onSaveBoard(board) {\n    return async dispatch => {\n        try {\n            const savedBoard = await boardService.save(board)\n                .then((board) => {\n                    socketService.emit('SOCKET_EVENT_ON_BOARD_SAVED', board._id)\n                    return board\n                })\n            dispatch({ type: 'SAVE_BOARD', board: savedBoard })\n        } catch (err) {\n        }\n    }\n}\n\nexport function loadBoard(boardId) {\n    return async dispatch => {\n        try {\n            const board = await boardService.getById(boardId)\n            dispatch({\n                type: 'SET_BOARD',\n                board\n            })\n        } catch (err) {\n            console.log('BoardActions: err in loadBoard', err)\n        }\n    }\n}\n\n\n\n\nexport function setLabelsMode(labelsMode) {\n\n    return async dispatch => {\n        try {\n            dispatch({ type: 'SET_LABELS_MODE', labelsMode })\n        } catch (err) {\n            console.log('BoardActions: err in loadBoard', err)\n        }\n    }\n}\n\n\nexport function updateRecentBoard(boardId) {\n    return async dispatch => {\n        try {\n            let board = await boardService.getById(boardId)\n            board = await boardService.saveRecentBoards(board)\n            dispatch({\n                type: 'UPDATE_RECENT_BOARDS',\n                board\n            })\n        } catch (err) {\n            console.log('BoardActions: err in loadBoard', err)\n        }\n    }\n}\nexport function onRemoveBoard(boardId) {\n    return (dispatch, getState) => {\n        boardService.remove(boardId)\n            .then(() => {\n                console.log('Deleted Succesfully!');\n                dispatch({\n                    type: 'REMOVE_BOARD',\n                    boardId\n                })\n                showSuccessMsg('Board removed')\n            })\n            .catch(err => {\n                showErrorMsg('Cannot remove board')\n                console.log('Cannot remove board', err)\n            })\n    }\n}\n\nexport function onAddBoard() {\n    return (dispatch) => {\n        const board = boardService.getEmptyBoard();\n        boardService.save(board)\n            .then(savedBoard => {\n                console.log('Added Board', savedBoard);\n                dispatch({\n                    type: 'ADD_BOARD',\n                    board: savedBoard\n                })\n                showSuccessMsg('Board added')\n            })\n            .catch(err => {\n                showErrorMsg('Cannot add board')\n                console.log('Cannot add board', err)\n            })\n    }\n}\n\nexport function onEditBoard(boardToSave) {\n    return (dispatch) => {\n        boardService.save(boardToSave)\n            .then(savedBoard => {\n                socketService.emit('SOCKET_EVENT_ON_BOARD_SAVED', savedBoard._id)\n                dispatch({\n                    type: 'UPDATE_BOARD',\n                    board: savedBoard\n                })\n                showSuccessMsg('Board updated')\n            })\n            .catch(err => {\n                showErrorMsg('Cannot update board')\n                console.log('Cannot save board', err)\n            })\n    }\n}\n\nexport function addToCart(board) {\n    return (dispatch) => {\n        dispatch({\n            type: 'ADD_TO_CART',\n            board\n        })\n    }\n}\nexport function removeFromCart(boardId) {\n    return (dispatch) => {\n        dispatch({\n            type: 'REMOVE_FROM_CART',\n            boardId\n        })\n    }\n}\n\n\n\n// Demo for Optimistic Mutation (IOW - Assuming the server call will work, so updating the UI first)\nexport function onRemoveBoardOptimistic(boardId) {\n\n    return (dispatch, getState) => {\n\n        dispatch({\n            type: 'REMOVE_BOARD',\n            boardId\n        })\n        showSuccessMsg('Board removed')\n\n        boardService.remove(boardId)\n            .then(() => {\n                console.log('Server Reported - Deleted Succesfully');\n            })\n            .catch(err => {\n                showErrorMsg('Cannot remove board')\n                console.log('Cannot load boards', err)\n                dispatch({\n                    type: 'UNDO_REMOVE_BOARD',\n                })\n            })\n    }\n}","export default __webpack_public_path__ + \"static/media/star.430b2625.svg\";","import React from 'react'\n\nexport class Star extends React.Component {\n  state = {\n    isStarred: false\n  };\n\n  render() {\n    const { board } = this.props\n    // (board.star) ? board.star = !board.star : board.star = true\n    return (\n      <svg\n        onClick={(ev) => {\n          this.setState({ isStarred: !this.state.isStarred })\n          board.star = this.state.isStarred\n\n          ev.stopPropagation();\n          ev.preventDefault();\n        }}\n        className={`${this.state.isStarred && 'starred'}`}\n        width=\"15\"\n        height=\"15\"\n        role=\"presentation\"\n        focusable=\"false\"\n        viewBox=\"0 0 24 24\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <path\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n          d=\"M7.49495 20.995L11.9999 18.6266L16.5049 20.995C16.8059 21.1533 17.1507 21.2079 17.4859 21.1504C18.3276 21.006 18.893 20.2066 18.7486 19.3649L17.8882 14.3485L21.5328 10.7959C21.7763 10.5585 21.9348 10.2475 21.9837 9.91094C22.1065 9.06576 21.5209 8.28106 20.6758 8.15825L15.6391 7.42637L13.3866 2.86236C13.2361 2.55739 12.9892 2.31054 12.6843 2.16003C11.9184 1.78206 10.9912 2.0965 10.6132 2.86236L8.36072 7.42637L3.32403 8.15825C2.98747 8.20715 2.67643 8.36564 2.43904 8.60917C1.84291 9.22074 1.85542 10.1998 2.46699 10.7959L6.11158 14.3485L5.25121 19.3649C5.19372 19.7 5.24833 20.0448 5.40658 20.3459C5.80401 21.1018 6.739 21.3924 7.49495 20.995ZM19.3457 10.0485L15.6728 13.6287L16.5398 18.684L11.9999 16.2972L7.45995 18.684L8.327 13.6287L4.65411 10.0485L9.72993 9.31093L11.9999 4.71146L14.2699 9.31093L19.3457 10.0485Z\"\n          fill=\"currentColor\"\n        ></path>\n      </svg>\n    )\n  }\n}","import React from 'react';\nimport { Link, NavLink } from 'react-router-dom';\nimport StarIcon from '../assets/img/icons/star.svg';\nimport { Star } from './star.jsx';\n\nexport class BoardPreview extends React.Component {\n  state = {\n    isNewBoard: false,\n    isStarred: false,\n    activeIndex: ''\n  };\n\n  handleStarred = () => {};\n  render() {\n    const { isNewBoard } = this.state;\n    const { boards } = this.props;\n    return (\n      <section className=\"board-preview-container\">\n        <ul className=\"board-list\">\n          <li>\n            {/* <button className=\"board-preview-add-btn\" onClick={() => {\n                            this.setState({isNewBoard:true})\n                        }}>Create new board</button> */}\n          </li>\n          {boards.map((board, index) => (\n              \n            //<Filter/>\n            <Link\n              to={`/board/${board._id}`}\n              key={board._id}\n              className=\"board-preview-wrapper clean-link\"\n            >\n              <div class=\"content\">\n                <div class=\"content-overlay\"></div>\n\n                <li\n                  className=\"board-preview clean-link content-image\"\n                  key={board._id}\n                  style={\n                      board.style && {\n                          backgroundImage: 'url(' + board.style.background + ')',\n                          backgroundRepeat: 'no-repeat',\n                          backgroundPosition: '50%',\n                          backgroundSize: 'cover',\n                          lineheight: '20px',\n                          padding: '8px',\n                          position: 'relative',\n                          textDecoration: 'none',\n                        }\n                    }\n                >\n                <span class=\"board-tile-fade\"></span>\n                    <h3 className=\"board-preview-name\">{board.title}</h3>\n                </li>\n                <div\n                  className=\"content-details fadeIn-right\"\n                  \n                  >\n                    <Star board={board} />\n  \n                </div>\n              </div>\n            </Link>\n          ))}\n        </ul>\n      </section>\n    );\n  }\n}\n","import React from 'react';\nimport { Link, NavLink } from 'react-router-dom';\nimport { BoardPreview } from './board-preview';\n\nexport class SideNav extends React.Component {\n\n  state = {\n    isOpen: false,\n    isboardView: true\n  }\n  toggleMenu = () => {\n    const { isOpen } = this.state;\n    var element = document.querySelector('.leftMenu');\n    element.classList.toggle('openMenu');\n    this.setState({ isOpen: !isOpen });\n  };\n\n  render() {\n    const { boards, isMainBoard, onAddBoard, user } = this.props\n    const { isOpen, isboardView } = this.state\n    const [name, lastname] = user ? user.fullname.split(' ') : ['', '']\n    const username = user ? user.username : 'guest'\n    return (\n      <div className={`leftMenu ${isMainBoard ? 'main' : 'workspace'}`}>\n        <div className=\"header-nav-bar-container flex\">\n          <div className=\"flex\">\n            <div className=\"close-nav-bar-workspace _3TTqkG5muwOzqZ flex column\">\n\n              <div className=\"nav-logo active\" onClick={this.toggleMenu}>\n                {name[0]}\n              </div>\n              {/* {!isOpen && <div className=\"small-btn-open-nav-bar\" role=\"presentation\" onClick={this.toggleMenu}><svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"blue\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M10.4381 10.438L6.05766 14.8185C5.81574 15.0604 5.4235 15.0604 5.18157 14.8185C4.93964 14.5766 4.93964 14.1843 5.18157 13.9424L9.124 9.99998L5.18157 6.05754C4.93964 5.81561 4.93964 5.42337 5.18157 5.18145C5.4235 4.93952 5.81574 4.93952 6.05766 5.18145L10.4381 9.56193C10.6801 9.80386 10.6801 10.1961 10.4381 10.438Z\" fill=\"black\" className=\"sHwgrRUGaNb2Id\"></path><path d=\"M15.7997 10.438L11.4192 14.8185C11.1773 15.0604 10.7851 15.0604 10.5431 14.8185C10.3012 14.5766 10.3012 14.1843 10.5431 13.9424L14.4856 9.99998L10.5431 6.05754C10.3012 5.81561 10.3012 5.42337 10.5431 5.18145C10.7851 4.93952 11.1773 4.93952 11.4192 5.18145L15.7997 9.56193C16.0416 9.80386 16.0416 10.1961 15.7997 10.438Z\" fill=\"black\" class=\"sHwgrRUGaNb2Id\"></path></svg></div>} */}\n            </div>\n            {isOpen && <div className=\"for-free flex column\">\n              <span className=\"username-nav-bar-logo\">{username}</span>\n              <span>free</span>\n            </div>}\n          </div>\n          {isOpen && <button className=\"_1ul6gs_kHQukwk _3TTqkG5muwOzqZ\" data-test-id=\"workspace-navigation-collapse-button\" type=\"button\" onClick={this.toggleMenu}>\n            <img className=\"_1iDWq-WSaSDrjd\" src=\"https://a.trellocdn.com/prgb/dist/images/workspace-navigation/double-chevron-close.87f7a764e600465f9077.svg\" alt=\"Workspace navigation collapse icon\" />\n          </button>}\n        </div>\n        {isOpen && <section className=\"nav-content\">\n          <hr />\n          <div className=\"small-nav-bar-workspace\">\n            <div className=\"your-boards-container\">\n              Your boards\n              {!isboardView && <span className=\"board-counter\">({boards.length})</span>}\n            </div>\n            <div className=\"small-nav-bar-btn-container\">\n              <button className=\"\" onClick={onAddBoard}>\n                <svg\n                  width=\"15\"\n                  height=\"15\"\n                  role=\"presentation\"\n                  focusable=\"false\"\n                  viewBox=\"0 0 24 24\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                >\n                  <path\n                    d=\"M12 3C11.4477 3 11 3.44772 11 4V11L4 11C3.44772 11 3 11.4477 3 12C3 12.5523 3.44772 13 4 13H11V20C11 20.5523 11.4477 21 12 21C12.5523 21 13 20.5523 13 20V13H20C20.5523 13 21 12.5523 21 12C21 11.4477 20.5523 11 20 11L13 11V4C13 3.44772 12.5523 3 12 3Z\"\n                    fill=\"#42526e\"\n                  ></path>\n                </svg>\n              </button>\n              <button className=\"\" onClick={() => {\n                this.setState({ isboardView: !isboardView })\n              }}>\n                {isboardView && <svg width=\"15\" height=\"15\" role=\"presentation\" focusable=\"false\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                  <path\n                    d=\"M12.7071 7.29289L19.7782 14.364C20.1687 14.7545 20.1687 15.3876 19.7782 15.7782C19.3877 16.1687 18.7545 16.1687 18.364 15.7782L12 9.41421L5.63606 15.7782C5.24554 16.1687 4.61237 16.1687 4.22185 15.7782C3.83132 15.3877 3.83132 14.7545 4.22185 14.364L11.2929 7.29289C11.6834 6.90237 12.3166 6.90237 12.7071 7.29289Z\"\n                    fill=\"currentColor\">\n                  </path>\n                </svg>}\n                {!isboardView && <svg width=\"15\" height=\"15\" role=\"presentation\" focusable=\"false\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                  <path\n                    d=\"M11.2929 16.7071L4.22185 9.63606C3.83132 9.24554 3.83132 8.61237 4.22185 8.22185C4.61237 7.83133 5.24554 7.83133 5.63606 8.22185L12 14.5858L18.364 8.22185C18.7545 7.83132 19.3877 7.83132 19.7782 8.22185C20.1687 8.61237 20.1687 9.24554 19.7782 9.63606L12.7071 16.7071C12.3166 17.0977 11.6834 17.0977 11.2929 16.7071Z\"\n                    fill=\"currentColor\">\n                  </path>\n                </svg>}\n              </button>\n            </div>\n          </div>\n          {isboardView && <div className=\"all-boards\">\n            <ul className=\"board-list-navbar\">\n              {boards.map((board) => {\n                return (\n                  <Link to={`/board/${board._id}`} key={board._id} className=\"clean-link\">\n                    <div className=\"nav-bar-btns flex row\">\n                      <li className=\"board-preview-navbar\" key={board._id} style={board.style && {\n                        backgroundImage: \"url(\" + board.style.background + \")\",\n                        backgroundRepeat: 'no-repeat',\n                        backgroundAttachment: 'fixed',\n                        backgroundPosition: 'center'\n\n                      }}>\n\n                      </li>\n\n                      <h4 className=\"nav-bar-btns-name\">{board.title}</h4>\n                    </div>\n                  </Link>\n                );\n              })}\n            </ul>\n          </div>}\n\n        </section>}\n      </div>\n    );\n  }\n}\n","import React from \"react\"\n\nexport class WorkspaceHeader extends React.Component {\n    render() {\n        const { user } = this.props\n        const [name, lastname] = user ? user.fullname.split(' ') : ['', '']\n        return (\n            <section className=\"tabbed-pane-header-wrapper\">\n                <div className=\"first-letter-logo-workspace-header\">\n                    {name[0]}\n                </div>\n                <div className=\"workspace-header-container\">\n                    <div className=\"username-container\">\n                        <h1 className=\"user-name-h1\">{user ? user.username : 'guest'}</h1>\n                        <span className=\"private-lock\">\n                            <span className=\"lock-style\" role=\"img\" aria-label=\"PrivateIcon\">\n                                <svg width=\"24\" height=\"24\" role=\"presentation\" focusable=\"false\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                                    <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M5 11C5 9.89543 5.89543 9 7 9H8H10H14H16H17C18.1046 9 19 9.89543 19 11V19C19 20.1046 18.1046 21 17 21H7C5.89543 21 5 20.1046 5 19V11ZM10 11H14H16H17V19H7V11H8H10ZM14 15C14 16.1046 13.1046 17 12 17C10.8954 17 10 16.1046 10 15C10 13.8954 10.8954 13 12 13C13.1046 13 14 13.8954 14 15Z\" fill=\"currentColor\">\n                                    </path>\n                                    <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M10.3817 5.69846C10.0982 6.10344 10 6.63103 10 7V9H8V7C8 6.36897 8.15175 5.39656 8.74327 4.55154C9.37523 3.64874 10.4367 3 12 3C13.5633 3 14.6248 3.64874 15.2567 4.55154C15.8482 5.39656 16 6.36897 16 7V9H14V7C14 6.63103 13.9018 6.10344 13.6183 5.69846C13.3752 5.35126 12.9367 5 12 5C11.0633 5 10.6248 5.35126 10.3817 5.69846Z\" fill=\"currentColor\">\n                                    </path>\n                                </svg>\n                            </span>\n                            Private\n                        </span>\n                    </div>\n                    <button className=\"edit-workspace\" type=\"button\">\n                        <span className=\"nch-icon _3W-26fmi3tFfon j0fswhntKdStWa _1AxACHDBxA21Su\">\n                            <svg width=\"24\" height=\"24\" role=\"presentation\" focusable=\"false\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                                <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M7.82034 14.4893L9.94134 16.6103L18.4303 8.12131L16.3093 6.00031H16.3073L7.82034 14.4893ZM17.7233 4.58531L19.8443 6.70731C20.6253 7.48831 20.6253 8.7543 19.8443 9.53531L10.0873 19.2933L5.13734 14.3433L14.8943 4.58531C15.2853 4.19531 15.7973 4.00031 16.3093 4.00031C16.8203 4.00031 17.3323 4.19531 17.7233 4.58531ZM5.20094 20.4097C4.49794 20.5537 3.87694 19.9327 4.02094 19.2297L4.80094 15.4207L9.00994 19.6297L5.20094 20.4097Z\" fill=\"currentColor\">\n                                </path>\n                            </svg>\n\n                        </span>\n                        Edit Workspace details\n                    </button>\n                </div>\n            </section>\n        )\n    }\n\n}","import React from \"react\"\nimport { Link, NavLink } from 'react-router-dom'\n\nexport class WorkspaceNavBar extends React.Component {\n    render() {\n        return (\n            <div className=\"nav-bar-workspace-container-horizontal\">\n                <ul className=\"nav-bar-workspace-horizontal\">\n                    <li className=\"tabbed-pane-nav-item clean-list\">\n                        <button className=\"tabbed-pane-nav-item-button js-org-profile active\">Boards</button>\n                    </li>\n                </ul>\n                <hr />\n            </div>\n        )\n    }\n}","import React from 'react'\n\nexport class SearchNavBar extends React.Component {\n    state = {\n        filterBy: {\n            title: '',\n        },\n        field: ''\n    };\n\n\n    componentDidMount() {\n        const boards = this.sortByRecentlyUsed(this.props.boards)\n        this.props.onSelectSort(boards)\n\n    }\n    onSelectSort = (ev) => {\n        let { boards } = this.props\n        const sortBy = ev.target.value\n        switch (sortBy) {\n            case 'recently':\n                boards = this.sortByRecentlyUsed(boards); break;\n            case 'leastRecently':\n                boards = this.sortByLeastRecentlyUsed(boards); break;\n            case 'alphabetUp':\n                boards = this.sortByAlfaBet_A_Z(boards); break;\n            case 'alphabetDown':\n                boards = this.sortByAlfaBet_Z_A(boards); break;\n            default:\n                boards = boards\n        }\n        this.props.onSelectSort(boards)\n    }\n\n    sortByRecentlyUsed = (boards) => {\n        boards.sort(function (a, b) {\n            return b.recentBoardInsert - a.recentBoardInsert;\n        });\n        console.log('boards', boards);\n        return boards\n    }\n    sortByLeastRecentlyUsed = (boards) => {\n        boards.sort(function (a, b) {\n            return a.recentBoardInsert - b.recentBoardInsert;\n        });\n        console.log('boards', boards);\n        return boards\n    }\n    sortByAlfaBet_A_Z = (boards) => {\n        boards.sort(function (a, b) {\n            if (a.title < b.title) { return -1; }\n            if (a.title > b.title) { return 1; }\n            return 0;\n        })\n        return boards\n    }\n    sortByAlfaBet_Z_A = (boards) => {\n        boards.sort(function (a, b) {\n            if (a.title > b.title) { return -1; }\n            if (a.title < b.title) { return 1; }\n            return 0;\n        })\n        return boards\n    }\n\n\n    handleChange = (ev) => {\n\n        const field = ev.target.name;\n        const value =\n            ev.target.type === 'number' ? +ev.target.value : ev.target.value;\n        this.setState({ filterBy: { ...this.state.filterBy, [field]: value } }, () => {\n            // console.log('this.state.filterBy', this.state.filterBy);\n            this.props.onSetFilter(this.state.filterBy)\n        });\n    };\n\n\n\n    onSelect = (ev) => {\n        const { filterBy } = this.state\n        for (const key in filterBy) {\n            filterBy[key] = ''\n        };\n\n        this.setState({ field: ev.target.value, filterBy })\n        this.props.onSetFilter(this.state.filterBy)\n    }\n\n\n\n    onFilter = (ev) => {\n        ev.preventDefault();\n        this.props.onSetFilter(this.state.filterBy)\n    };\n\n    render() {\n        const { filterBy, field } = this.state\n        const { name } = filterBy;\n        return (\n            <section className=\"search-bar-container flex\">\n                <div className=\"left-search-bar-container flex\">\n                    <div className=\"sort-by-container\">\n                        <label htmlFor=\"sort\">Sort by</label>\n                        <div className=\"select-sort-by-workspace\">\n                            <select className=\"_3TTqkG5muwOzqZ css-ufz0vj-control _1Dp3s5P2VP237V _2RUB_6xy0LOMWG\" name=\"field\" id=\"field\" onChange={(ev) => {\n                                this.onSelectSort(ev)\n                            }}>\n                                <option value=\"empty\"></option>\n                                <option value=\"recently\">Most recently active</option>\n                                <option value=\"leastRecently\">Least recently active</option>\n                                <option value=\"alphabetUp\">Alphabetically A-Z</option>\n                                <option value=\"alphabetDown\">Alphabetically Z-A</option>\n                            </select>\n                            {/* <button>Filter</button> */}\n                        </div>\n                    </div>\n                    <div className=\"filter-by-container\">\n                        <label htmlFor=\"filter\">Filter by</label>\n                        <select className=\"select-filter-by-workspace _3TTqkG5muwOzqZ css-ufz0vj-control _1Dp3s5P2VP237V _2RUB_6xy0LOMWG\" name=\"field\" id=\"field\" onChange={(ev) => {\n                            this.onSelect(ev)\n                        }}>\n                            <option value=\"empty\">Choose Collection...</option>\n                            <option value=\"title\">Name</option>\n                        </select>\n                    </div>\n                </div>\n                <div className=\"search-all-work-space\">\n                    <form className='search-all-work-space-form ' onSubmit={this.onFilter}>\n                        <label htmlFor=\"by-name\">Search</label>\n                        <input className=\"search-all-work-filter-input _3TTqkG5muwOzqZ css-ufz0vj-control _1Dp3s5P2VP237V _2RUB_6xy0LOMWG\"\n                            name={field}\n                            id='by-name'\n                            type='text'\n                            placeholder=\"Search workspace boards\"\n                            value={filterBy[field]}\n                            onChange={this.handleChange}\n                        />\n                    </form>\n                </div>\n\n            </section>\n        )\n    }\n\n\n\n}","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Link, NavLink } from 'react-router-dom'\n\nimport { loadBoards, onAddBoard, onEditBoard, onRemoveBoard, onSaveBoard, updateRecentBoard } from '../store/board.actions.js'\nimport { showSuccessMsg } from '../services/event-bus.service.js'\nimport { BoardPreview } from '../cmps/board-preview.jsx'\nimport { SideNav } from '../cmps/sidenav.jsx';\nimport { WorkspaceHeader } from '../cmps/workspace-header.jsx'\nimport { WorkspaceNavBar } from '../cmps/workspace-nav-bar.jsx'\nimport { SearchNavBar } from '../cmps/search-nav-bar.jsx'\n\nclass _Workspace extends React.Component {\n    state = {\n        isMainBoard: false,\n        boardsToShow: []\n    }\n    componentDidMount() {\n        this.props.loadBoards()\n        const { boards } = this.props\n    }\n\n    onRemoveBoard = (boardId) => {\n        this.props.onRemoveBoard(boardId)\n    }\n\n    onAddBoard = () => {\n        this.props.onAddBoard()\n    }\n\n    onSelectSort = (boards) => {\n        this.setState(boards)\n    }\n    onSetFilter = (filterBy) => {\n        const { boards } = this.props\n        if (filterBy) {\n            let { title } = filterBy\n            const boardsToShow = boards.filter(board => {\n                return board.title.toUpperCase().includes(title.toUpperCase())\n            })\n            this.setState({ boardsToShow })\n        }\n    }\n\n    render() {\n        const { boards, onAddBoard, user } = this.props\n        const { isWorkSpace } = this.state;\n        const boardsToShow = this.state.boardsToShow.length ? this.state.boardsToShow : boards\n        return (\n            <section className=\"workspace-container\">\n                <div className=\"workspace-sticky-cotainter\">\n                    <SideNav boards={boards} onAddBoard={onAddBoard} user={user} />\n                    <div className=\"main-board-preview\">\n                        <div className=\"workspace-header\">\n                            <WorkspaceHeader boards={boards} onAddBoard={onAddBoard} user={user} />\n                            <WorkspaceNavBar />\n                        </div>\n                        <div className=\"all-boards-main\">\n                            <SearchNavBar boards={boards} onSelectSort={this.onSelectSort} onSetFilter={this.onSetFilter} />\n                            <BoardPreview boards={boardsToShow} onSaveBoard={this.props.onSaveBoard} updateRecentBoard={this.props.updateRecentBoard} />\n                        </div>\n                    </div>\n                </div>\n            </section>\n        )\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n        boards: state.boardModule.boards,\n        user: state.userModule.user\n    }\n}\nconst mapDispatchToProps = {\n    onSaveBoard,\n    loadBoards,\n    onRemoveBoard,\n    onAddBoard,\n    onEditBoard,\n    updateRecentBoard\n}\n\nexport const Workspace = connect(mapStateToProps, mapDispatchToProps)(_Workspace)","var _style, _line, _line2, _line3;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLoader(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 60,\n    height: 60,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _style || (_style = /*#__PURE__*/React.createElement(\"style\", null, \"\\n        .line {\\n            fill: none;\\n            stroke: #aaa;\\n            stroke-width: 8;\\n            stroke-dasharray: 40;\\n        }\\n\\n        .animated {\\n            animation: draw 0.8s ease-in-out;\\n            animation-iteration-count: infinite;\\n            stroke-dashoffset: 0;\\n        }\\n\\n        .line2 {\\n            animation-delay: 0.08s\\n        }\\n\\n        .line3 {\\n            animation-delay: 0.16s\\n        }\\n\\n        @keyframes draw {\\n            0% {\\n                stroke-dashoffset: 0;\\n            }\\n\\n            50% {\\n                stroke-dashoffset: 30;\\n            }\\n\\n            100% {\\n                stroke-dashoffset: 0;\\n            }\\n        }\\n    \")), _line || (_line = /*#__PURE__*/React.createElement(\"line\", {\n    className: \"line animated\",\n    x1: 14,\n    y1: 10,\n    x2: 14,\n    y2: 50\n  })), _line2 || (_line2 = /*#__PURE__*/React.createElement(\"line\", {\n    className: \"line animated line2\",\n    x1: 30,\n    y1: 10,\n    x2: 30,\n    y2: 50\n  })), _line3 || (_line3 = /*#__PURE__*/React.createElement(\"line\", {\n    className: \"line animated line3\",\n    x1: 46,\n    y1: 10,\n    x2: 46,\n    y2: 50\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLoader);\nexport default __webpack_public_path__ + \"static/media/loader.24976c46.svg\";\nexport { ForwardRef as ReactComponent };","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { socketService } from '../services/socket.service'\n\nclass _ChatApp extends Component {\n  state = {\n    msg: { txt: '' },\n    msgs: [],\n    topic: 'Love',\n    isBotMode: true\n  }\n\n  componentDidMount() {\n    socketService.setup()\n    socketService.emit('chat topic', this.state.topic)\n    socketService.on('chat addMsg', this.addMsg)\n  }\n\n  componentWillUnmount() {\n    socketService.off('chat addMsg', this.addMsg)\n    socketService.terminate()\n    clearTimeout(this.timeout)\n  }\n\n  addMsg = newMsg => {\n    this.setState(prevState => ({ msgs: [...prevState.msgs, newMsg] }))\n    if (this.state.isBotMode) this.sendBotResponse();\n  }\n\n  sendBotResponse = () => {\n    // Handle case: send single bot response (debounce).\n    this.timeout && clearTimeout(this.timeout)\n    this.timeout = setTimeout(() => {\n      this.setState(prevState => ({ msgs: [...prevState.msgs, { from: 'Bot', txt: 'You are amazing!' }] }))\n    }, 1500)\n  }\n\n  changeTopic = () => {\n    socketService.emit('chat topic', this.state.topic)\n  }\n\n  sendMsg = ev => {\n    ev.preventDefault()\n    const from = this.props.loggedInUser?.fullname || 'Me'\n    socketService.emit('chat newMsg', { from, txt: this.state.msg.txt })\n    this.setState({ msg: { from: 'Me', txt: '' } })\n  }\n\n  handleChange = ev => {\n    const { name, value } = ev.target\n    this.setState({ [name]: value }, this.changeTopic)\n  }\n\n  msgHandleChange = ev => {\n    const { name, value } = ev.target\n    this.setState(prevState => {\n      return {\n        msg: {\n          ...prevState.msg,\n          [name]: value\n        }\n      }\n    })\n  }\n\n  render() {\n    return (\n      <div className=\"chat\">\n        <h2>Lets Chat about {this.state.topic}</h2>\n        <label>\n          <input\n            type=\"checkbox\"\n            name=\"isBotMode\"\n            checked={this.state.isBotMode}\n            onChange={(ev) => this.setState({ isBotMode: ev.target.checked })}\n          />\n          Bot Mode\n        </label>\n        <div>\n          <label>\n            <input\n              type=\"radio\"\n              name=\"topic\"\n              value=\"Love\"\n              checked={this.state.topic === 'Love'}\n              onChange={this.handleChange}\n            />\n            Love\n          </label>\n          <label>\n            <input\n              type=\"radio\"\n              name=\"topic\"\n              value=\"Politics\"\n              checked={this.state.topic === 'Politics'}\n              onChange={this.handleChange}\n            />\n            Politics\n          </label>\n        </div>\n        <form onSubmit={this.sendMsg}>\n          <input\n            type=\"text\"\n            value={this.state.msg.txt}\n            onChange={this.msgHandleChange}\n            name=\"txt\"\n            autoComplete=\"off\"\n          />\n          <button>Send</button>\n        </form>\n        <ul>\n          {this.state.msgs.map((msg, idx) => (\n            <li key={idx}>{msg.from}: {msg.txt}</li>\n          ))}\n        </ul>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    loggedInUser: state.userModule.loggedInUser\n  }\n}\nconst mapDispatchToProps = {\n}\n\nexport const ChatApp = connect(mapStateToProps, mapDispatchToProps)(_ChatApp)\n","var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgIconMembers(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"40.000000pt\",\n    height: \"40.000000pt\",\n    viewBox: \"0 0 40.000000 40.000000\",\n    preserveAspectRatio: \"xMidYMid meet\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(0.000000,40.000000) scale(0.100000,-0.100000)\",\n    fill: \"#000000\",\n    stroke: \"none\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M170 373 c-56 -21 -81 -84 -56 -135 15 -30 15 -33 -1 -42 -60 -34 -107 -130 -78 -160 14 -13 42 -16 170 -16 140 0 155 2 164 19 21 38 -25 126 -82 157 -16 9 -16 12 -1 42 19 39 12 81 -19 111 -24 22 -72 34 -97 24z m72 -50 c38 -34 11 -103 -40 -103 -54 0 -81 62 -45 102 20 22 61 23 85 1z m35 -164 c31 -19 63 -64 63 -89 0 -6 -49 -10 -140 -10 -98 0 -140 3 -140 11 0 7 9 26 20 44 39 63 132 84 197 44z\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconMembers);\nexport default __webpack_public_path__ + \"static/media/icon-members.f013fc9b.svg\";\nexport { ForwardRef as ReactComponent };","import { ReactComponent as LoaderSvg } from '../assets/img/loader.svg'\n\nexport function Loader() {\n    return (\n        <div className={\"loader-screen\"}>\n            <LoaderSvg />\n        </div>\n    )\n}","var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgIconChecklists(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"40.000000pt\",\n    height: \"40.000000pt\",\n    viewBox: \"0 0 40.000000 40.000000\",\n    preserveAspectRatio: \"xMidYMid meet\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(0.000000,40.000000) scale(0.100000,-0.100000)\",\n    fill: \"#000000\",\n    stroke: \"none\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M46 345 c-23 -24 -24 -266 0 -289 23 -24 265 -23 289 0 22 22 18 139 -5 139 -11 0 -16 -14 -18 -57 l-3 -58 -119 0 -120 0 0 120 0 119 108 3 c87 2 107 6 107 18 0 23 -216 27 -239 5z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M270 245 c-41 -41 -78 -75 -82 -75 -4 0 -23 17 -42 38 -28 30 -37 35 -48 24 -10 -10 -3 -22 40 -65 l52 -52 90 90 c50 49 89 94 87 99 -8 23 -27 12 -97 -59z\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconChecklists);\nexport default __webpack_public_path__ + \"static/media/icon-checklists.492e5841.svg\";\nexport { ForwardRef as ReactComponent };","var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgIconLabels(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"40.000000pt\",\n    height: \"40.000000pt\",\n    viewBox: \"0 0 40.000000 40.000000\",\n    preserveAspectRatio: \"xMidYMid meet\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(0.000000,40.000000) scale(0.100000,-0.100000)\",\n    fill: \"#000000\",\n    stroke: \"none\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M113 297 c-108 -110 -120 -164 -52 -242 34 -38 77 -51 131 -40 42 10 198 158 198 190 0 27 -148 175 -176 175 -12 0 -52 -32 -101 -83z m180 -25 l68 -68 -80 -77 c-74 -72 -81 -77 -123 -77 -35 0 -49 5 -70 28 -31 33 -40 66 -27 101 11 29 137 161 154 161 6 0 41 -31 78 -68z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M134 202 c-25 -16 -34 -50 -23 -76 21 -46 77 -46 98 0 16 37 -11 84 -49 84 -8 0 -20 -4 -26 -8z m46 -52 c0 -13 -7 -20 -20 -20 -13 0 -20 7 -20 20 0 13 7 20 20 20 13 0 20 -7 20 -20z\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconLabels);\nexport default __webpack_public_path__ + \"static/media/icon-labels.3ffd236a.svg\";\nexport { ForwardRef as ReactComponent };","var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgIconCover(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"40.000000pt\",\n    height: \"40.000000pt\",\n    viewBox: \"0 0 40.000000 40.000000\",\n    preserveAspectRatio: \"xMidYMid meet\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(0.000000,40.000000) scale(0.100000,-0.100000)\",\n    fill: \"#000000\",\n    stroke: \"none\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M30 321 c-13 -25 -13 -217 0 -242 10 -18 23 -19 170 -19 147 0 160 1 170 19 5 11 10 65 10 121 0 56 -5 110 -10 121 -10 18 -23 19 -170 19 -147 0 -160 -1 -170 -19z m310 -81 l0 -60 -140 0 -140 0 0 60 0 60 140 0 140 0 0 -60z\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconCover);\nexport default __webpack_public_path__ + \"static/media/icon-cover.f2990616.svg\";\nexport { ForwardRef as ReactComponent };","var _g, _g2, _g3, _g4, _g5, _g6, _g7, _g8, _g9, _g10, _g11, _g12, _g13, _g14, _g15, _g16;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgIconAttachment(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 512 512\",\n    style: {\n      enableBackground: \"new 0 0 512 512\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M467.076,68.86c-59.902-59.902-156.846-59.896-216.741,0L34.919,284.276c-46.558,46.557-46.558,122.312,0,168.87 c46.57,46.571,122.326,46.544,168.87,0L419.205,237.73c33.36-33.36,33.36-87.64,0-121c-33.359-33.361-87.64-33.361-121,0 L114.478,300.457c-6.975,6.975-6.975,18.285,0,25.259c6.975,6.975,18.285,6.975,25.259,0l183.727-183.727 c19.432-19.432,51.05-19.432,70.481,0c19.431,19.432,19.431,51.05,0,70.481L178.53,427.887c-32.71,32.71-85.646,32.706-118.352,0 c-15.806-15.806-24.511-36.821-24.511-59.175s8.706-43.369,24.511-59.176L275.594,94.119c45.94-45.94,120.287-45.934,166.222,0 c45.827,45.828,45.827,120.395,0,166.222l-95.741,95.741c-6.975,6.975-6.975,18.284,0,25.259s18.285,6.975,25.259,0l95.741-95.741 C526.978,225.7,526.971,128.754,467.076,68.86z\"\n  })))), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", null)), _g3 || (_g3 = /*#__PURE__*/React.createElement(\"g\", null)), _g4 || (_g4 = /*#__PURE__*/React.createElement(\"g\", null)), _g5 || (_g5 = /*#__PURE__*/React.createElement(\"g\", null)), _g6 || (_g6 = /*#__PURE__*/React.createElement(\"g\", null)), _g7 || (_g7 = /*#__PURE__*/React.createElement(\"g\", null)), _g8 || (_g8 = /*#__PURE__*/React.createElement(\"g\", null)), _g9 || (_g9 = /*#__PURE__*/React.createElement(\"g\", null)), _g10 || (_g10 = /*#__PURE__*/React.createElement(\"g\", null)), _g11 || (_g11 = /*#__PURE__*/React.createElement(\"g\", null)), _g12 || (_g12 = /*#__PURE__*/React.createElement(\"g\", null)), _g13 || (_g13 = /*#__PURE__*/React.createElement(\"g\", null)), _g14 || (_g14 = /*#__PURE__*/React.createElement(\"g\", null)), _g15 || (_g15 = /*#__PURE__*/React.createElement(\"g\", null)), _g16 || (_g16 = /*#__PURE__*/React.createElement(\"g\", null)));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconAttachment);\nexport default __webpack_public_path__ + \"static/media/icon-attachment.66099c4c.svg\";\nexport { ForwardRef as ReactComponent };","var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgIconDates(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"40.000000pt\",\n    height: \"40.000000pt\",\n    viewBox: \"0 0 40.000000 40.000000\",\n    preserveAspectRatio: \"xMidYMid meet\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(0.000000,40.000000) scale(0.100000,-0.100000)\",\n    fill: \"#000000\",\n    stroke: \"none\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M142 393 c-40 -8 -119 -92 -132 -142 -20 -74 -6 -125 48 -181 54 -55 110 -76 180 -65 59 9 135 81 152 144 20 74 6 125 -48 181 -59 61 -116 79 -200 63z m138 -55 c51 -35 73 -71 78 -130 3 -44 0 -59 -20 -87 -36 -52 -71 -74 -130 -79 -44 -3 -59 0 -87 20 -48 32 -72 68 -78 116 -7 54 1 83 34 123 52 61 143 78 203 37z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M187 334 c-4 -4 -7 -37 -7 -74 0 -62 2 -68 35 -100 27 -26 38 -31 47 -22 9 9 6 18 -15 39 -21 23 -26 39 -29 92 -3 59 -14 82 -31 65z\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconDates);\nexport default __webpack_public_path__ + \"static/media/icon-dates.481cb1eb.svg\";\nexport { ForwardRef as ReactComponent };","import { socketService } from \"./socket.service\";\nimport { userService } from './user.service.js'\nimport { utilService } from './util.service.js'\n\nexport const activityService = {\n    addActivityToBoard\n}\n\nexport function addActivityToBoard(board, activityType, subject, card) {\n    const savedActivity = createActivity(activityType, subject, card)\n    socketService.emit('SOCKET_EVENT_ON_NEW_ACTIVITY', savedActivity)\n    board.activities.unshift(savedActivity)\n    return board\n}\n\nexport function createActivity(activityType, subject = '', card = null) {\n\n    const loggedInUser = userService.getLoggedinUser();\n\n    let byMember\n    if (loggedInUser) {\n        const { _id, fullname, imgUrl } = loggedInUser;\n        byMember = {\n            id: _id,\n            fullname,\n            imgUrl\n        }\n    } else {\n        byMember = {\n            id: 'guest',\n            fullname: 'guest',\n            imgUrl: ''\n        }\n    }\n\n    let cardData = null;\n    if (card) {\n        cardData = {\n            id: card.id,\n            title: card.title,\n            members: card.members\n        }\n    }\n\n    const activityToCreate = {\n        id: utilService.makeId(),\n        subject,\n        createdAt: Date.now(),\n        byMember,\n        activityType,\n        card: cardData\n    }\n\n    return activityToCreate\n}","import { Component } from 'react';\nimport { openPopover, closePopover } from '../../store/popover.actions.js'\nimport { onSaveBoard } from '../../store/board.actions.js';\nimport { connect } from 'react-redux';\nimport { Loader } from '../../cmps/loader.jsx'\nimport { ReactComponent as MemberIcon } from '../../assets/img/cmps/card-details/icon-members.svg'\nimport { ReactComponent as CheckListIcon } from '../../assets/img/cmps/card-details/icon-checklists.svg'\nimport { ReactComponent as LabelIcon } from '../../assets/img/cmps/card-details/icon-labels.svg'\nimport { ReactComponent as CoverIcon } from '../../assets/img/cmps/card-details/icon-cover.svg'\nimport { ReactComponent as AttachmentIcon } from '../../assets/img/cmps/card-details/icon-attachment.svg'\nimport { ReactComponent as DateIcon } from '../../assets/img/cmps/card-details/icon-dates.svg'\nimport { utilService } from '../../services/util.service.js'\nimport { boardService } from '../../services/board.service.js'\nimport { activityService } from '../../services/activity.service';\n\nclass _CardDetailsActions extends Component {\n\n  onOpenPopover = (ev, PopoverName) => {\n    //debugger\n    const elPos = ev.target.getBoundingClientRect();\n    const props = {\n      card: this.props.card,\n      addFile: this.addFile\n    };\n    this.props.openPopover(PopoverName, elPos, props);\n  };\n\n   addFile = (fileUrl) => {\n    const { card, onSaveBoard, closePopover, board } = this.props\n    if (!card.attachs) card.attachs = []\n    const attach = {\n      id: utilService.makeId(),\n      fileName: `${utilService.makeId(12)}.jpg`,\n      url: fileUrl,\n      createdAt: Date.now()\n    }\n\n    card.attachs.push(attach)\n    let updatedBoard = boardService.updateCardInBoard(board, card)\n    updatedBoard = activityService.addActivityToBoard(updatedBoard, 'attached', attach.fileName, card)\n    onSaveBoard(updatedBoard)\n    closePopover()\n  }\n\n\n\n  render() {\n    const { card } = this.props;\n    if (!card) return <Loader />\n\n\n    return (\n      <div className=\"details-actions-wrapper flex column\">\n        <div className=\"add-section flex column\">\n          <h4>ADD TO CARD</h4>\n\n          {/* members side button   */}\n          <button\n            className=\"actions-btn secondary-btn\"\n            onClick={(ev) => this.onOpenPopover(ev, 'MEMBERS')}\n          >\n            <div className=\"actions-btn-content flex align-center\">\n              <MemberIcon className=\"action-logo\" />\n              <span>Members </span>\n            </div>\n\n          </button>\n\n          {/* labels side button  */}\n          <button\n            className=\"secondary-btn actions-btn\"\n            onClick={(ev) => this.onOpenPopover(ev, 'LABELS')}\n          >\n            <div className=\"actions-btn-content flex align-center\">\n              <LabelIcon className=\"action-logo\" />\n              <span>Labels</span>\n            </div>\n\n          </button>\n\n          {/* checklist side button  */}\n\n          <button\n            className=\"secondary-btn actions-btn\"\n            onClick={(ev) => this.onOpenPopover(ev, 'CHECKLIST')}\n          >\n            <div className=\"actions-btn-content flex align-center\">\n              <CheckListIcon className=\"action-logo\" />\n              <span>Checklist</span>\n            </div>\n\n          </button>\n\n          {/* due date side button  */}\n          <button\n            className=\"secondary-btn actions-btn\"\n            onClick={(ev) => this.onOpenPopover(ev, 'DATE')}\n          >\n            <div className=\"actions-btn-content flex align-center\">\n              <DateIcon className=\"action-logo\" />\n              <span>Date</span>\n            </div>\n\n          </button>\n\n          {/* attach side button  */}\n          <button\n\n            className=\"secondary-btn actions-btn\"\n            onClick={(ev) => this.onOpenPopover(ev, 'ATTACHMENT')}\n          >\n            <div className=\"actions-btn-content flex align-center\">\n              <AttachmentIcon className=\"action-logo\" />\n              <span>Attachment</span>\n            </div>\n\n          </button>\n\n          {/* cover side button  */}\n          <button\n            className=\"secondary-btn actions-btn\"\n            onClick={(ev) => this.onOpenPopover(ev, 'COVER')}\n          >\n            <div className=\"actions-btn-content flex align-center\">\n              <CoverIcon className=\"action-logo\" />\n              <span>Cover</span>\n            </div>\n\n          </button>\n        </div>\n\n        <div className=\"actions-section flex column\">\n          <h4>ACTIONS</h4>\n          <button\n            className=\"secondary-btn actions-btn\"\n            onClick={(ev) => this.onOpenPopover(ev, 'MOVE')}\n          >\n            <div className=\"actions-btn-content flex align-center\">\n              <i className=\"fas fa-arrow-right icon-sm\"></i>\n              <span>Move</span>\n            </div>\n\n          </button>\n\n          <button\n            className=\"secondary-btn actions-btn\"\n            onClick={(ev) => this.onOpenPopover(ev, 'COPY')}\n          >\n            <div className=\"actions-btn-content flex align-center\">\n              <span>Copy</span>\n            </div>\n\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\nfunction mapStateToProps(state) {\n  return {\n    board: state.boardModule.board,\n    currPopoverName: state.popoverModule.currPopover.name,\n  };\n}\n\nconst mapDispatchToProps = {\n  openPopover,\n  closePopover,\n  onSaveBoard,\n};\n\nexport const CardDetailsActions = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(_CardDetailsActions);\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgAdd(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    role: \"presentation\",\n    focusable: \"false\",\n    viewBox: \"0 0 24 24\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12 3C11.4477 3 11 3.44772 11 4V11L4 11C3.44772 11 3 11.4477 3 12C3 12.5523 3.44772 13 4 13H11V20C11 20.5523 11.4477 21 12 21C12.5523 21 13 20.5523 13 20V13H20C20.5523 13 21 12.5523 21 12C21 11.4477 20.5523 11 20 11L13 11V4C13 3.44772 12.5523 3 12 3Z\",\n    fill: \"currentColor\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgAdd);\nexport default __webpack_public_path__ + \"static/media/add.cb3d7757.svg\";\nexport { ForwardRef as ReactComponent };","import { ReactComponent as AddIcon } from '../../assets/img/icons/add.svg'\n\nexport function CardDetailsLabels({ labels, openPopover, card }) {\n\n    const onOpenPopover = (ev, type) => {\n        ev.preventDefault();\n        const elPos = ev.target.getBoundingClientRect()\n        const props = { card }\n        openPopover(type, elPos, props)\n    }\n\n    return (\n        <div className=\"card-details-labels item-container flex column align-flex-end\">\n            <h3 className=\"card-details-item-header\">Labels</h3>\n            <div className=\"flex wrap\">\n                {labels.map(label => {\n                    return <span\n                        onClick={(ev) => onOpenPopover(ev, 'LABELS')} key={label.id} className=\"label\" style={{ backgroundColor: label.color }}>\n                        {label.title}\n                    </span>\n                })}\n                <button className=\"secondary-btn\"\n                    onClick={(ev) => onOpenPopover(ev, 'LABELS')} > <AddIcon className=\"add-icon-svg\"/> </button>\n            </div>\n        </div>\n    )\n}","import React from \"react\"\nimport { boardService } from \"../../services/board.service\";\nimport { activityService } from '../../services/activity.service';\n\nexport class DueDateDisplay extends React.Component {\n    state = {\n        isChecked: false,\n    }\n\n    componentDidMount() {\n        const { card } = this.props\n        if (card.dueDateDone) {\n            this.setState({ isChecked: true })\n        }\n    }\n    render() {\n        const { card, onSaveBoard, board } = this.props\n        const { isChecked } = this.state\n        return (\n            <section className=\"date-card-details-container \">\n                <h3>Due date</h3>\n\n                <div>\n                    <input type=\"checkbox\" defaultChecked={card.dueDateDone} onChange={(ev) => {\n                        card.dueDateDone = ev.target.checked ? true : false\n                        let updatedBoard = boardService.updateCardInBoard(board, card)\n                        updatedBoard = activityService.addActivityToBoard(updatedBoard, 'marked-duedate', (card.dueDateDone) ? 'complete' : 'incomplete', card)\n                        onSaveBoard(updatedBoard)\n                        this.setState({ isChecked: !isChecked })\n                    }} />\n                    <button className=\"due-date-change-btn secondary-btn\" onClick={(ev) => {\n\n                        const elPos = ev.target.getBoundingClientRect();\n                        const props = {\n                            card: this.props.card,\n                        };\n                        this.props.openPopover('DATE', elPos, props);\n                    }\n                    }>\n                        <span className=\"due-date-date-btn\">{new Date(card.dueDate).toLocaleString()}</span>\n                        {!isChecked && <span className=\"due-date-status-btn due-soon\" >Due Soon</span>}\n                        {isChecked && <span className=\"due-date-status-btn due-complete\">Complete</span>}\n                        {<span className=\"buttom-arrow\">\n                            <svg width=\"15\" height=\"15\" role=\"presentation\" focusable=\"false\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                                <path\n                                    d=\"M11.2929 16.7071L4.22185 9.63606C3.83132 9.24554 3.83132 8.61237 4.22185 8.22185C4.61237 7.83133 5.24554 7.83133 5.63606 8.22185L12 14.5858L18.364 8.22185C18.7545 7.83132 19.3877 7.83132 19.7782 8.22185C20.1687 8.61237 20.1687 9.24554 19.7782 9.63606L12.7071 16.7071C12.3166 17.0977 11.6834 17.0977 11.2929 16.7071Z\"\n                                    fill=\"currentColor\">\n                                </path>\n                            </svg>\n                        </span>}\n                    </button>\n\n                </div>\n            </section>\n        )\n    }\n}","var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgIconDescription(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 30,\n    height: 30,\n    viewBox: \"0 0 200.000000 200.000000\",\n    preserveAspectRatio: \"xMidYMid meet\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(0.000000,200.000000) scale(0.100000,-0.100000)\",\n    fill: \"#000000\",\n    stroke: \"none\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M456 1398 c-21 -30 -20 -54 4 -78 19 -19 33 -20 540 -20 507 0 521 1 540 20 24 24 25 48 4 78 l-15 22 -529 0 -529 0 -15 -22z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M456 1148 c-21 -30 -20 -54 4 -78 19 -19 33 -20 540 -20 507 0 521 1 540 20 24 24 25 48 4 78 l-15 22 -529 0 -529 0 -15 -22z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M456 898 c-21 -30 -20 -54 4 -78 19 -19 33 -20 540 -20 507 0 521 1 540 20 24 24 25 48 4 78 l-15 22 -529 0 -529 0 -15 -22z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M456 648 c-21 -30 -20 -54 4 -78 19 -19 33 -20 353 -20 311 0 335 1 350 18 21 23 22 66 1 86 -13 14 -60 16 -354 16 -339 0 -339 0 -354 -22z\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconDescription);\nexport default __webpack_public_path__ + \"static/media/icon-description.d15c3b5f.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\"\nimport { boardService } from \"../../services/board.service\";\nimport { ReactComponent as IconDescription } from '../../assets/img/cmps/card-details/icon-description.svg'\nimport CloseRoundedIcon from '@material-ui/icons/CloseRounded';\nimport { activityService } from '../../services/activity.service';\n\nexport class Description extends React.Component {\n  state = {\n    isOnEditState: false,\n    description: 'new description'\n  }\n\n  onSaveDescription = () => {\n    const { description } = this.state\n    const { board, card, onSaveBoard } = this.props\n    card.description = description\n    let updatedBoard = boardService.updateCardInBoard(board, card)\n    updatedBoard = activityService.addActivityToBoard(updatedBoard, 'changed_with_loc', 'description', card)\n    onSaveBoard(updatedBoard)\n  }\n  goBackToCard = () => {\n\n  }\n  handleChange = (ev) => {\n    if (ev.keyCode === 13) {\n      ev.preventDefault();\n      this.onSaveDescription();\n      return;\n    }\n    this.setState({ description: ev.target.value });\n  };\n  render() {\n    const { isOnEditState, description } = this.state\n    return (\n      <section className=\"desctiption-container\">\n        <div className=\"description-header flex\">\n          <span className=\"icon-description icon-lg window-module-title-icon\"><IconDescription /></span>\n          <h3 className=\"description-headline\">Description</h3>\n          <button className=\"description-edit-btn\" onClick={() => {\n            this.setState({ isOnEditState: true })\n          }}>Edit</button>\n        </div>\n        <div className=\"description-main\">\n          {isOnEditState ? (\n            <div className=\"description-txt-area-container\">\n              <textarea\n                type=\"text\"\n                className=\"card-list-header-input\"\n                placeholder={description}\n                autoFocus\n                onChange={this.handleChange}\n                onKeyDown={this.handleChange}\n                onBlur={() => {\n\n                  this.onSaveDescription()\n                  this.setState({ isOnEditState: !isOnEditState })\n                }}\n              />\n              <div className=\"description-textarea-btns\">\n                <button className=\"save-description button--primary\" onClick={() => {\n                  this.onSaveDescription()\n                }}>Save</button>\n                <button\n                  onClick={() => this.goBackToCard()}\n                  className='close-window-btn-textarea'\n\n                >\n                  <CloseRoundedIcon />\n                </button>\n              </div>\n            </div>\n          )\n            : (\n              <p dir=\"auto\" onClick={() => {\n                this.setState({ isOnEditState: !isOnEditState })\n              }}>{description}</p>\n            )}\n        </div>\n      </section>\n    )\n  }\n\n}","export function ScreenOverlay({ goBack = null, styleMode, children }) {\n\n    return (\n        <div className=\"screen-overlay-wrapper\">\n            <div className={`screen-overlay ${styleMode}`} onClick={() => {\n                if (goBack) goBack()\n                return\n            }}></div>\n            {children}\n        </div>\n    )\n}","import React from 'react'\nimport { connect } from 'react-redux'\nimport Avatar from '@material-ui/core/Avatar';\nimport Badge from '@material-ui/core/Badge';\nimport { withStyles } from '@material-ui/core/styles';\n\nfunction _ProfileAvatar({ member, size, onOpenPopover, showStatus = false, onlineUsers }) {\n\n    if (!member) return ''\n\n    const isMemberLoggedin = () => {\n        return onlineUsers.some(onlineUserId => onlineUserId === member._id)\n    }\n\n    const avatarStyles = () => {\n        let styles = {}\n        styles.width = `${size}px`;\n        styles.height = `${size}px`;\n        return styles\n    }\n\n    const getStatus = () => {\n        if (!showStatus) return 'standard'\n        else if (isMemberLoggedin()) return 'dot'\n        else return 'standard'\n    }\n\n    const StyledBadge = withStyles((theme) => ({\n        badge: {\n            width: (+(((size * 27) / 100).toFixed(0))),\n            height: (+(((size * 27) / 100).toFixed(0))),\n            backgroundColor: '#44b700',\n            color: '#44b700',\n            boxShadow: `0 0 0 1px ${theme.palette.background.paper}`,\n            borderRadius: '50%',\n            '&::after': {\n                position: 'absolute',\n                top: -1,\n                left: -1,\n                width: '100%',\n                height: '100%',\n                borderRadius: '50%',\n                animation: '$ripple 1.2s infinite ease-in-out',\n                border: '1px solid currentColor',\n                content: '\"\"',\n            },\n        },\n        '@keyframes ripple': {\n            '0%': {\n                transform: 'scale(.8)',\n                opacity: 1,\n            },\n            '100%': {\n                transform: 'scale(1.4)',\n                opacity: 0,\n            },\n        },\n    }))(Badge);\n\n    const onClickAvatar = (ev) => {\n        if (onOpenPopover) {\n            onOpenPopover(ev, 'PROFILE', member)\n        }\n    }\n\n    return (\n        <div className=\"profile-avatar\" onClick={(ev) => onClickAvatar(ev)}>\n            <StyledBadge\n                overlap=\"circular\"\n                anchorOrigin={{\n                    vertical: 'bottom',\n                    horizontal: 'right',\n                }}\n                variant={getStatus()}\n            >\n                <Avatar\n                    className=\"avatar\"\n                    alt={member.fullname}\n                    src={member.imgUrl}\n                    style={avatarStyles()}\n                >\n                    {!member.imgUrl && member.fullname.split(' ').map(word => word.charAt(0)).join('')}\n                </Avatar>\n            </StyledBadge>\n        </div>\n    )\n}\n\nfunction mapStateToProps(state) {\n    return {\n        onlineUsers: state.userModule.onlineUsers\n    }\n}\n\nexport const ProfileAvatar = connect(mapStateToProps)(_ProfileAvatar)\n","import { ProfileAvatar } from '../../cmps/profile-avatar.jsx'\nimport { ReactComponent as AddIcon } from '../../assets/img/icons/add.svg'\n\nexport function CardDetailsMembers({ members, card, openPopover }) {\n\n    const onOpenPopover = (ev, type, member) => {\n        ev.preventDefault();\n        let elPos;\n        let props;\n        elPos = ev.target.getBoundingClientRect()\n        props = type === 'PROFILE' ? { member, card } : { card }\n        openPopover(type, elPos, props)\n    }\n\n    return (\n        <div className=\"card-details-members item-container flex column\">\n            <h3 className=\"card-details-item-header\">Members</h3>\n            <div className=\"members-container flex wrap\">\n                {members && members.map(member => {\n                    return <ProfileAvatar key={member._id} member={member} size={32}\n                        onOpenPopover={onOpenPopover} />\n                })}\n                <button className=\"add-member secondary-btn\"\n                    onClick={(ev) => onOpenPopover(ev, 'MEMBERS')} >\n                    <AddIcon className=\"add-icon-svg\" />\n                </button>\n            </div>\n        </div>\n    )\n}","import { ReactComponent as CoverIcon } from '../../assets/img/cmps/card-details/icon-cover.svg'\nexport function CardDetailsCover({ style, openPopover, card }) {\n\n    const onOpenPopover = (ev, type) => {\n        ev.preventDefault();\n        const elPos = ev.target.getBoundingClientRect()\n        const props = { card }\n        openPopover(type, elPos, props)\n    }\n\n    const getBackground = () => {\n        const { bgColor, bgImgUrl } = style\n        const background = bgColor ? { background: bgColor } : { backgroundImage: `url(${bgImgUrl})` }\n        return background\n    }\n\n    return (\n        <div className={`card-details-cover ${style.bgImgUrl ? 'img' : ''}`} style={getBackground()}>\n            < button className=\"secondary-btn cover-menu-btn \" onClick={(ev) => onOpenPopover(ev, 'COVER')\n            }><CoverIcon className=\"action-logo\" />\n                Cover</button >\n        </div >\n    )\n}","import React from \"react\"\n\nexport class CardChecklistItem extends React.Component {\n    state = {\n        checklistItem: 'new',\n        isOnEditState: false\n    }\n    componentDidMount() {\n        const { todo } = this.props\n        if (todo) {\n            this.setState({ checklistItem: todo.title })\n        }\n        else {\n            this.setState({ isOnEditState: true })\n        }\n    }\n    onSaveChecklistItem = () => {\n        const { onAddingListItem, todo } = this.props\n        const { checklistItem } = this.state\n        if (todo) {\n\n            onAddingListItem(checklistItem, todo.id)\n        }\n        else {\n            onAddingListItem(checklistItem)\n        }\n    }\n    goBackToCard = () => {\n\n    }\n    handleChange = (ev) => {\n        if (ev.keyCode === 13) {\n            ev.preventDefault();\n            this.onSaveChecklistItem();\n            return;\n        }\n        this.setState({ checklistItem: ev.target.value });\n    };\n    render() {\n        const { onBoxChecked, todo, updateTodoCheckedBox } = this.props\n        const { isOnEditState, checklistItem } = this.state\n        return (\n            <section className=\"checklist-item-container\">\n                <input type=\"checkbox\" defaultChecked={todo && todo.isChecked} className=\"checklist-item-checkbox\" id=\"subscribeNews\" name=\"subscribe\" value=\"newsletter\" onChange={(ev) => {\n\n                    if (ev.target.checked) {\n\n                        onBoxChecked(1)\n                        todo.isChecked = true\n                        updateTodoCheckedBox(todo, 'completed', ev.target.value)\n                    }\n                    else {\n                        todo.isChecked = false\n                        updateTodoCheckedBox(todo, 'incomplete', ev.target.value)\n                        onBoxChecked(-1)\n                    }\n\n                }} />\n                {isOnEditState ? (\n                    <div className=\"checklist-item-input-container\">\n                        <textarea\n                            type=\"text\"\n                            className=\"card-checklist-item-input\"\n                            placeholder={checklistItem}\n                            autoFocus\n                            onChange={this.handleChange}\n                            onKeyDown={this.handleChange}\n                            onBlur={() => {\n                                this.onSaveChecklistItem()\n                                this.setState({ isOnEditState: !isOnEditState })\n\n                            }\n\n                            } />\n                    </div>\n                )\n                    : (\n                        <p dir=\"auto\" onClick={() => {\n                            this.setState({ isOnEditState: !isOnEditState })\n                        }}>{checklistItem}</p>\n                    )}\n            </section>\n        )\n    }\n\n}","var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgIconChecklist(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"200.000000pt\",\n    height: \"200.000000pt\",\n    viewBox: \"0 0 200.000000 200.000000\",\n    preserveAspectRatio: \"xMidYMid meet\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(0.000000,200.000000) scale(0.100000,-0.100000)\",\n    fill: \"#000000\",\n    stroke: \"none\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M551 1504 c-17 -14 -36 -42 -41 -62 -8 -25 -10 -168 -8 -429 3 -379 4 -392 24 -420 39 -53 39 -53 474 -53 435 0 435 0 474 53 19 26 21 44 24 205 3 201 -3 225 -54 230 -59 6 -64 -9 -64 -199 l0 -169 -380 0 -380 0 0 375 0 375 319 0 c307 0 319 1 345 21 30 23 33 45 10 77 l-15 22 -349 0 -348 0 -31 -26z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M1233 1168 l-243 -242 -72 79 c-120 132 -145 155 -167 155 -27 0 -61 -34 -61 -60 0 -19 67 -100 202 -242 102 -109 82 -119 400 200 190 190 268 274 268 290 0 28 -34 62 -62 62 -15 0 -95 -73 -265 -242z\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconChecklist);\nexport default __webpack_public_path__ + \"static/media/icon-checklist.cd1abbd8.svg\";\nexport { ForwardRef as ReactComponent };","import { Component } from \"react\";\n\n\nexport class ProgressBar extends Component {\n\n    state = {\n        fillerStyles: {\n            width: `0%`,\n        },\n        bgColor: {\n            activeColor: \"#5ca4cf\",\n            doneColor: \"#60bd4f\",\n        },\n        completed: 0\n    }\n\n    componentDidMount() {\n        const { completed } = this.props;\n        this.setState({ completed })\n        console.log(completed);\n        this.setState({ completed, fillerStyles: { width: `${completed}%` } });\n    }\n\n    componentDidUpdate(prevProps) {\n        if (prevProps.completed !== this.props.completed) {\n            const { completed } = this.props;\n            this.setState({ completed, fillerStyles: { width: `${completed}%` } });\n        }\n    }\n\n    get bgColor() {\n        const { completed, bgColor } = this.state;\n        if (completed === 100) return bgColor.doneColor\n        return bgColor.activeColor\n    }\n\n    render() {\n        const { completed, fillerStyles: { width } } = this.state;\n        const finished = (completed === 100) ? { borderTopRightRadius: '5em', borderBottomRightRadius: '5em' } : ''\n        return (\n            <div className=\"progress flex align-center\">\n                <span className=\"precent\">\n                    {completed}%\n                </span>\n                <div className=\"progress-bar-container \">\n                    <div className=\"progress-bar\" style={{ width, backgroundColor: this.bgColor, ...finished }}>\n                    </div>\n                </div>\n            </div >\n        )\n    }\n\n}","var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgIconHeader(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"200.000000pt\",\n    height: \"200.000000pt\",\n    viewBox: \"0 0 200.000000 200.000000\",\n    preserveAspectRatio: \"xMidYMid meet\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(0.000000,200.000000) scale(0.100000,-0.100000)\",\n    fill: \"#000000\",\n    stroke: \"none\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M482 1416 l-37 -34 -3 -354 -3 -354 23 -34 c13 -19 35 -40 48 -47 36 -18 944 -18 980 0 13 7 35 28 48 47 l23 34 -3 354 -3 354 -37 34 -38 34 -480 0 -480 0 -38 -34z m958 -276 l0 -190 -440 0 -440 0 0 190 0 190 440 0 440 0 0 -190z m-520 -330 c20 -20 26 -56 12 -76 -18 -27 -56 -34 -189 -34 -126 0 -141 2 -161 20 -27 26 -28 64 -2 90 18 18 33 20 170 20 137 0 152 -2 170 -20z m500 0 c11 -11 20 -31 20 -45 0 -29 -36 -65 -65 -65 -29 0 -65 36 -65 65 0 32 33 65 65 65 14 0 34 -9 45 -20z\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconHeader);\nexport default __webpack_public_path__ + \"static/media/icon-header.f48e7149.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\"\nimport { utilService } from \"../../services/util.service\"\nimport { CardChecklistItem } from \"./card-details-checklist-item\"\nimport { ProgressBar } from \"./progress-bar\"\nimport { ReactComponent as CheckIcon } from '../../assets/img/cmps/card-details/icon-checklist.svg'\n\nexport class CardChecklist extends React.Component {\n    state = {\n        isOnEditState: false,\n        doneTodos: 0,\n        percentComplite: 0\n    }\n    componentDidMount() {\n        const { checklist } = this.props\n        if (!checklist.todos || !checklist.todos.length) {\n            this.setState({ percentComplite: 0 })\n            console.log('after update this state to zero');\n        }\n        else {\n            console.log('checklist.todos', checklist.todos);\n            let counter = 0;\n            checklist.todos.forEach(todo => {\n                counter = todo.isChecked ? counter + 1 : counter\n            })\n            console.log(counter);\n            this.setState({ doneTodos: counter })\n            const totTodo = checklist.todos.length\n            const complite = counter / totTodo\n            console.log('complite', complite);\n            this.setState({ percentComplite: complite * 100 })\n        }\n    }\n\n\n    onBoxChecked = (diff) => {\n        const { checklist } = this.props\n        const doneTodos = this.state.doneTodos + diff\n        const totTodo = checklist.todos.length\n        const complite = doneTodos / totTodo\n        this.setState({ doneTodos })\n        this.setState({ percentComplite: complite * 100 })\n    }\n\n\n    updateTodoCheckedBox = (todo, activityType,) => {\n        const { checklist, onSaveChecklist } = this.props\n        const todoId = todo.id\n        const todoIdx = checklist.todos.findIndex(todo => {\n            return todo.id === todoId\n        })\n        checklist.todos[todoIdx] = todo\n        onSaveChecklist(checklist, activityType)\n\n    }\n\n    onEditlistItem = (checklistItem, todoId) => {\n        const { checklist, onSaveChecklist } = this.props\n        const todoIdx = checklist.todos.findIndex(todo => {\n            return todo.id === todoId\n        })\n        checklist.todos[todoIdx].title = checklistItem\n        const activityType = 'changed_with_loc'\n        onSaveChecklist(checklist, activityType)\n        this.setState({ isOnEditState: false })\n    }\n\n    onSaveChecklistItem = (checklistItem) => {\n        const todo = {}\n        todo.id = utilService.makeId()\n        todo.isChecked = false\n        todo.title = checklistItem\n        const { checklist, onSaveChecklist } = this.props\n        checklist.todos.push(todo)\n        const activityType = 'changed_with_loc'\n        onSaveChecklist(checklist, activityType)\n        this.setState({ isOnEditState: false })\n    }\n\n    render() {\n        const { card, checklist } = this.props\n        const { isOnEditState, percentComplite } = this.state\n        return (\n            <section className=\"checklist-container\" >\n                <div className=\"checklist-header\">\n                    <CheckIcon className=\"checklist-logo\" />\n                    {checklist && <h3>{checklist.title}</h3>}\n                    {!checklist && <h3>checklist</h3>}\n                    <button className=\"checklist-delete-btn checklist-btn\" onClick={() => {\n                        this.props.onDeleteChecklist(checklist)\n                    }}>Delete</button>\n                </div>\n                <div className=\"checklist-wrapper\">\n\n                    <div className=\"progress-bar-container\">\n                        <ProgressBar completed={percentComplite} />\n                    </div>\n                    <div className=\"checklist-list-container\">\n                        {checklist && checklist.todos.map((todo, itemIdx) =>\n                            <div className=\"card-checklist-item-div\" key={itemIdx}>\n                                <CardChecklistItem\n                                    onBoxChecked={this.onBoxChecked}\n                                    todo={todo}\n                                    updateTodoCheckedBox={this.updateTodoCheckedBox}\n                                    onAddingListItem={this.onEditlistItem} />\n\n                            </div>\n                        )}\n                    </div>\n                    <div className=\"add-checklist-item-container\">\n                        {isOnEditState ? (\n                            <CardChecklistItem\n                                onBoxChecked={this.onBoxChecked}\n                                onAddingListItem={this.onSaveChecklistItem} />\n                        ) :\n                            (\n                                <button className=\"checklist-add-item checklist-btn\" onClick={() => {\n                                    this.setState({ isOnEditState: true })\n                                }}>Add an item</button>\n                            )\n                        }\n                    </div>\n\n\n                </div>\n            </section>\n\n        )\n    }\n\n}","import React from 'react'\nimport { boardService } from '../../services/board.service';\nimport { CardChecklist } from './card-details-checklist';\nimport { activityService } from '../../services/activity.service';\n\nexport class CardChecklists extends React.Component {\n\n    onSaveCardChecklists(checklists, activityType, txt) {\n        console.log('enter your check list :', checklists);\n        const { board, card, onSaveBoard } = this.props\n        card.checklists = checklists;\n        let updatedBoard = boardService.updateCardInBoard(board, card)\n        updatedBoard = activityService.addActivityToBoard(updatedBoard, activityType, txt, card)\n        onSaveBoard(updatedBoard)\n    }\n\n    onSaveChecklist = (checklist, activityType) => {\n        if (!checklist.title) return\n        const { checklists } = this.props\n        const checklistIdx = checklists.findIndex(currChecklist => currChecklist.id === checklist.id)\n        checklists[checklistIdx] = checklist\n        this.onSaveCardChecklists(checklists, activityType, checklist.title)\n    }\n\n    onDeleteChecklist = (checklist) => {\n        let { checklists } = this.props\n        checklists = checklists.filter(currChecklist => currChecklist.id !== checklist.id)\n        this.onSaveCardChecklists(checklists, 'removed', checklist.title)\n    }\n\n    render() {\n        const { checklists, board, card, onSaveBoard } = this.props\n        return (\n            <section className=\"card-checklists-container_new\">\n                {checklists && checklists.map(checklist =>\n                    <CardChecklist\n                        card={card}\n                        board={board}\n                        checklists={checklists}\n                        onSaveBoard={onSaveBoard}\n                        key={checklist.id}\n                        checklist={checklist}\n                        onDeleteChecklist={this.onDeleteChecklist}\n                        onSaveChecklist={this.onSaveChecklist} />\n                )}\n            </section>\n        )\n    }\n}\n\n\n\n\n\n","var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgIconActivity(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"223.000000pt\",\n    height: \"230.000000pt\",\n    viewBox: \"0 0 223.000000 230.000000\",\n    preserveAspectRatio: \"xMidYMid meet\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(0.000000,230.000000) scale(0.100000,-0.100000)\",\n    fill: \"#000000\",\n    stroke: \"none\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M498 1494 c-53 -28 -73 -105 -43 -164 22 -42 53 -60 105 -60 52 0 83 18 105 60 57 110 -59 223 -167 164z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M825 1486 c-19 -29 -11 -72 15 -86 11 -6 176 -10 413 -10 369 0 395 1 410 18 22 24 21 65 -1 85 -17 15 -61 17 -420 17 l-402 0 -15 -24z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M824 1235 c-17 -26 -13 -55 12 -80 13 -13 62 -15 318 -15 281 0 304 1 319 18 21 23 22 66 1 86 -13 14 -57 16 -324 16 l-310 0 -16 -25z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M498 994 c-53 -28 -73 -105 -43 -164 22 -42 53 -60 105 -60 52 0 83 18 105 60 30 59 9 136 -47 166 -31 18 -87 17 -120 -2z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M829 989 c-15 -15 -19 -28 -14 -47 12 -52 10 -52 435 -52 372 0 398 1 413 18 22 24 21 65 -1 85 -17 15 -60 17 -415 17 -389 0 -397 0 -418 -21z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M825 736 c-19 -29 -11 -72 15 -86 11 -6 143 -10 318 -10 277 0 300 1 315 18 21 23 22 66 1 86 -13 14 -57 16 -324 16 l-310 0 -15 -24z\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconActivity);\nexport default __webpack_public_path__ + \"static/media/icon-activity.2484e908.svg\";\nexport { ForwardRef as ReactComponent };","import React, { Component } from \"react\"\n\nexport class ActivityPreview extends Component {\n\n    get activityShowMsg() {\n        const { activity: { activityType, subject, card }, isInCardLocation } = this.props\n        const activityLocation = isInCardLocation ? 'this card' : card?.title\n        switch (activityType) {\n            case 'attached': return `attached ${subject} to ${activityLocation}`\n            case 'added': return `added ${subject} to ${activityLocation}`\n            case 'archived': return `archived ${activityLocation}`\n            case 'changed': return `changed ${subject}`\n            case 'changed_with_loc': return `changed ${subject} on ${activityLocation}`\n            case 'changed-duedate': return `changed the due date of ${activityLocation} to ${subject}`\n            case 'completed': return `completed ${subject} on ${activityLocation}`\n            case 'incomplete': return `marked ${subject} incomplete on ${activityLocation}`\n            case 'joined': return `joined ${activityLocation}`\n            case 'left': return `left ${activityLocation}`\n            case 'marked': return `marked ${subject} on ${activityLocation}`\n            case 'moved': return `moved ${activityLocation} from ${subject}`\n            case 'removed': return `removed ${subject} from ${activityLocation}`\n            case 'renamed': return `renamed this board to ${subject}`\n            case 'marked-duedate' : return `marked the due date to ${subject} on ${activityLocation}`\n            default: return ''\n        }\n    }\n\n    render() {\n        const { activity: {createdAt, byMember}, } = this.props\n        return (<section>\n                <div className=\"phenom mod-attachment-type\">\n                <div class=\"phenom-creator\">\n                        <span className=\"MuiAvatar-root MuiAvatar-circular avatar\"> <img src={byMember.imgUrl}/></span>\n                      </div>\n                      <div className=\"phenom-desc\">\n                        <span className=\"member-name\">{byMember.fullname}</span>\n                        <span>{this.activityShowMsg}</span>\n                      </div>\n                      <div className=\"phenom-meta quiet\">\n                    <span className=\"created-at-time\">{new Date(createdAt).toLocaleString()}</span>\n\n                      </div>\n                </div>\n     \n        </section>)\n    }\n\n}\n","\nimport { ActivityPreview } from './activity-preview.jsx'\n\nexport function ActivitiesList({ activities, isInCardLocation }) {\n\n    return (\n        <div className=\"activities-list\">\n            {activities.map(activity => {\n                return <ActivityPreview key={activity.id} activity={activity} isInCardLocation={isInCardLocation} />\n            })}\n        </div>\n    )\n}","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPaperclipSolid(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    \"data-prefix\": \"fas\",\n    \"data-icon\": \"paperclip\",\n    className: \"svg-inline--fa fa-paperclip fa-w-14\",\n    role: \"img\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 448 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M43.246 466.142c-58.43-60.289-57.341-157.511 1.386-217.581L254.392 34c44.316-45.332 116.351-45.336 160.671 0 43.89 44.894 43.943 117.329 0 162.276L232.214 383.128c-29.855 30.537-78.633 30.111-107.982-.998-28.275-29.97-27.368-77.473 1.452-106.953l143.743-146.835c6.182-6.314 16.312-6.422 22.626-.241l22.861 22.379c6.315 6.182 6.422 16.312.241 22.626L171.427 319.927c-4.932 5.045-5.236 13.428-.648 18.292 4.372 4.634 11.245 4.711 15.688.165l182.849-186.851c19.613-20.062 19.613-52.725-.011-72.798-19.189-19.627-49.957-19.637-69.154 0L90.39 293.295c-34.763 35.56-35.299 93.12-1.191 128.313 34.01 35.093 88.985 35.137 123.058.286l172.06-175.999c6.177-6.319 16.307-6.433 22.626-.256l22.877 22.364c6.319 6.177 6.434 16.307.256 22.626l-172.06 175.998c-59.576 60.938-155.943 60.216-214.77-.485z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPaperclipSolid);\nexport default __webpack_public_path__ + \"static/media/paperclip-solid.8d140ed2.svg\";\nexport { ForwardRef as ReactComponent };","import React, { Component } from \"react\"\nimport { ActivitiesList } from './activities-list.jsx'\nimport { ReactComponent as ActivitiesIcon } from '../assets/img/icons/icon-activity.svg'\n\nexport class Activities extends Component {\n\n    get suitedActivities() {\n        const { card, activities, isInCardLocation } = this.props\n        console.log('ACTIVITIES: ', activities);\n\n        if (isInCardLocation) {\n            const cardActivities = activities.filter(currActivity => {\n                return currActivity.card.id === card.id\n            })\n            console.log('ACTIVITIES: THIS CARD', cardActivities);\n            return cardActivities\n        } else {\n            return activities\n        }\n    }\n\n    render() {\n        const { card} = this.props\n        const { isInCardLocation } = this.props\n        const activities = this.suitedActivities\n        console.log('Activities', activities)\n        console.log('!!Activities.length', !!activities.length)\n        if (!activities) return <div>Load Activities...</div>\n        return (<section>\n            <div className=\"activities-container flex column\">\n                <div className=\"activities-title flex\">\n                    <div className=\"activity-section flex align-center\">\n                        <ActivitiesIcon className=\"activity-logo\" />\n                        <h3>Activities</h3>\n                    </div>\n                </div>\n\n                {!!activities.length && <ActivitiesList activities={activities} isInCardLocation={isInCardLocation} />}\n            </div>\n        </section>)\n    }\n}\n","import React from 'react';\nimport { ReactComponent as PaperClipIcon } from '../../assets/img/icons/paperclip-solid.svg'\n\n\nexport function CardAttachments({ attachs, onDeleteCardAttachment, card, openPopover }) {\n\n\n    return (\n        <div className=\"card-attachments\">\n            <div className=\"window-modal-title flex align-center\">\n                <PaperClipIcon />\n                <h3>Attachments</h3>\n            </div>\n            <div className=\"attachments-container\">\n                {attachs.map(attach => {\n                    return <a key={attach.id} target=\"_blank\"\n                        rel=\"noreferrer\" href={attach.url} className=\"clean-link\">\n                        <div className=\"attach-preview flex\">\n\n                            <div className=\"attach-content flex column full\">\n                                <span className=\"file-name\">{attach.fileName} </span>\n                                <div className=\"time-n-actions flex wrap align-center \">\n                                    <span>-</span>\n                                    <button\n                                        onClick={(ev) => onDeleteCardAttachment(ev, attach.id)}>Delete</button>\n                                </div>\n                            </div>\n                        </div>\n                    </a>\n                })}\n            </div>\n\n\n        </div>\n    )\n}","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { boardService } from '../services/board.service';\nimport { utilService } from '../services/util.service';\nimport { CardDetailsActions } from '../cmps/card-details/card-details-actions';\nimport { onSaveBoard } from '../store/board.actions.js';\nimport { openPopover, closePopover } from '../store/popover.actions.js';\nimport { Loader } from '../cmps/loader.jsx';\nimport { CardDetailsLabels } from '../cmps/card-details/card-details-labels.jsx';\nimport { DueDateDisplay } from '../cmps/card-details/card-details-dates.jsx';\nimport { Description } from '../cmps/card-details/card-details-discription.jsx';\nimport CloseRoundedIcon from '@material-ui/icons/CloseRounded';\nimport { TextareaAutosize } from '@material-ui/core';\nimport { ScreenOverlay } from '../cmps/screen-overlay.jsx';\nimport { CardDetailsMembers } from '../cmps/card-details/card-details-members.jsx'\nimport { CardDetailsCover } from '../cmps/card-details/card-details-cover'\nimport { CardChecklists } from '../cmps/card-details/card-details-checklists';\nimport { ReactComponent as HeaderIcon } from '../assets/img/cmps/card-details/icon-header.svg'\nimport { socketService } from '../services/socket.service.js';\nimport { Activities } from '../cmps/activities.jsx'\n\nimport {CardAttachments} from '../cmps/card-details/card-attachments.jsx'\n\nclass _CardDetails extends React.Component {\n  state = {\n    list: null,\n    card: null,\n  };\n\n  componentDidMount() {\n    const { listId, cardId } = this.props.match.params;\n    const { board } = this.props;\n\n\n    //socketService.setup();\n    //socketService.emit('SOCKET_EVENT_START_BOARD', board._id);\n    //socketService.on('SOCKET_EVENT_ON_RELOAD_BOARD', (boardId) => {\n    //  this.setLocalState(listId, cardId);\n    //});\n\n    this.setLocalState(listId, cardId);\n  }\n\n  componentWillUnmount() {\n    //socketService.off('SOCKET_EVENT_ON_RELOAD_BOARD')\n    //socketService.terminate()\n  }\n\n  setLocalState = (listId, cardId) => {\n    //debugger\n\n    const { board } = this.props;\n\n    const list = board.lists.find((list) => list.id === listId);\n    const { cards } = list;\n    var card = cards.find((card) => card.id === cardId);\n    this.setState({ card, list });\n  };\n\n\n  onDeleteCardAttachment = (ev, attachId) => {\n    ev.preventDefault()\n    let { card, card: { attachs } } = this.state\n    attachs = attachs.filter(currAttach => currAttach.id !== attachId)\n    card.attachs = attachs\n    \n    this.setState({ card }, this.onSaveCard())\n}\n\n\n  onSaveCard = () => {\n    const { card } = this.state;\n    const { board } = this.props;\n    const updatedBoard = boardService.updateCardInBoard(board, card);\n    //todo\n    this.props.onSaveBoard(updatedBoard);\n  };\n\n  onSaveCardFromActions = (card) => {\n    this.setState({ card }, this.onSaveCard());\n  };\n\n  get cardLabels() {\n    var cardLabels = []\n    const {\n      card: { labelIds },\n    } = this.state;\n    if (!labelIds) return cardLabels;\n    const {\n      board: { labels },\n    } = this.props;\n    cardLabels = labels.reduce((acc, label) => {\n      if (labelIds.find((labelId) => labelId === label.id)) acc.push(label);\n      return acc;\n    }, []);\n    return cardLabels;\n  }\n\n\n  goBackToBoard = () => {\n    const { board } = this.props\n    this.props.closePopover()\n    this.props.history.push(`/board/${board._id}`)\n  }\n\n\n  onSaveCardChecklists = (checklists) => {\n    const { card } = this.state;\n    card.checklists = checklists;\n    this.setState({ card }, this.onSaveCard());\n  };\n\n  render() {\n    const { board, board: { activities }, onSaveBoard, openPopover } = this.props;\n    const { card, list } = this.state;\n    if (!card) return <Loader />;\n    const { title, members, description, checklists, dueDate, style, attachs} = card;\n    //debugger\n    return (\n      <section className=\"card-details-container flex\">\n        <ScreenOverlay goBack={this.goBackToBoard} styleMode=\"darken\" />\n\n        <div className=\"card-details  flex column\">\n          {style.coverMode && <CardDetailsCover style={style} openPopover={openPopover} card={card} />}\n          <button\n            onClick={() => this.goBackToBoard()}\n            className='close-window-btn'\n\n          >\n            <CloseRoundedIcon />\n          </button>\n\n\n          <div className=\"title-section\">\n            <HeaderIcon className=\"title-svg-logo\" />\n            <h1 className=\"card-details-title\">{title}</h1>\n\n          </div>\n\n\n          <main className=\"card-details-main-container\">\n            <div className=\"card-details-main flex column\">\n\n              <div className=\"card-details-content flex\">\n\n                {!!(members && members.length) && <CardDetailsMembers\n                  members={members}\n                  openPopover={openPopover}\n                  card={card} />}\n\n                {!!this.cardLabels.length && (\n                  <CardDetailsLabels\n                    labels={this.cardLabels}\n                    openPopover={openPopover}\n                    card={card}\n                  />\n                )}\n\n                {!!dueDate && (\n                  <DueDateDisplay card={card} openPopover={openPopover} board={board} onSaveBoard={onSaveBoard} />\n                )}\n              </div>\n\n              <Description\n                description={description}\n                card={card}\n                board={board}\n                onSaveBoard={onSaveBoard}\n                />\n{attachs && !!attachs.length &&\n             <CardAttachments\n                 attachs={attachs}\n                 onDeleteCardAttachment={this.onDeleteCardAttachment}\n                 openPopover={openPopover}\n                 card={card}\n             />}\n\n              <CardChecklists\n                card={card}\n                board={board}\n                checklists={checklists}\n                onSaveBoard={onSaveBoard}\n              />\n\n              {!!(activities && activities.length) &&\n                <Activities \n                  card={card} \n                  activities={activities}\n                  isInCardLocation={true} \n               />}\n            </div>\n\n            <div className=\"card-details-sidebar flex column full\">\n              <CardDetailsActions\n                board={board}\n                card={card}\n                onSaveBoard={onSaveBoard}\n                onSaveCardFromActions={this.onSaveCardFromActions}\n              />\n            </div>\n          </main>\n        </div>\n      </section>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    board: state.boardModule.board,\n  };\n}\n\nconst mapDispatchToProps = {\n  onSaveBoard,\n  closePopover,\n  openPopover,\n};\n\nexport const CardDetails = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(_CardDetails);","import React, { Component } from 'react'\nimport { TextareaAutosize } from '@material-ui/core';\nimport { CloseRounded } from '@material-ui/icons';\nimport { utilService } from '../services/util.service'\n\n\nexport class CardAdd extends Component {\n\n    state = {\n        titleTxt: ''\n    }\n\n    handleChange = (ev) => {\n        const { value } = ev.target;\n        if (ev.key === 'Enter') {\n            ev.preventDefault();\n            this.onAddCard()\n            return;\n        }\n        this.setState({ titleTxt: value });\n    }\n\n    onAddCard = () => {\n        const { titleTxt } = this.state;\n        if (!titleTxt) {\n            this.textArea.focus();\n            return;\n        }\n\n        const { board, currList, onSaveBoard } = this.props;\n        const listIdx = board.lists.findIndex(list => list.id === currList.id);\n\n        const card = {\n            id: utilService.makeId(),\n            title: titleTxt,\n            description: '',\n            comments: [],\n            checklists: [],\n            members: [],\n            byMember: 'loggedinUser',\n            labelIds: [],\n            createdAt: Date.now(),\n            style: {\n\n            }\n        }\n\n        board.lists[listIdx].cards.push(card)\n\n\n\n        onSaveBoard(board)\n        this.setState({ titleTxt: '' }, () => {\n            this.textArea.focus()\n        })\n    }\n\n    render() {\n        const { titleTxt } = this.state\n        const { toggleCardAdd } = this.props;\n        return (\n            <div className=\"card-add\">\n                <TextareaAutosize className=\"card-add-input\" ref={(textArea) => this.textArea = textArea} value={titleTxt} autoFocus onChange={this.handleChange} onKeyDown={this.handleChange} placeholder=\"Enter a title for this card...\" aria-label=\"empty textarea\" />\n                <div className=\"card-add-active\">\n                    <button className=\"primary-btn\" onMouseDown={this.onAddCard}>Add card</button>\n                    <a className=\"clean-link\" onMouseDown={() => toggleCardAdd()} ><CloseRounded/></a>\n                </div>\n            </div>\n        )\n    }\n}\n","\nimport { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { setLabelsMode } from '../../store/board.actions.js'\n\nclass _CardPreviewLabel extends Component {\n    state = {\n        isLabelesOpend: false\n    }\n    get label() {\n        const { labelId, labels } = this.props\n        const label = labels.find(label => {\n            return label.id === labelId\n        })\n        if (!label) return ''\n        return label\n    }\n\n    toggleLabelsMode = (ev) => {\n        ev.preventDefault();\n        // (this.state.isLabelesOpend ? 'close-anim' : 'open-anim')\n\n        this.setState({ isLabelesOpend: !this.state.isLabelesOpend })\n        this.props.setLabelsMode(this.state.isLabelesOpend)\n\n    }\n\n    render() {\n        const label = this.label\n        const { isLabelesOpend } = this.props\n        return (\n            <div className={`card-preview-label card-label ${isLabelesOpend ? 'open' : 'close'} `} style={{ backgroundColor: label.color }}\n                onClick={this.toggleLabelsMode}>\n                {isLabelesOpend && label.title && (\n                    <span className=\"label-title\">{label.title}</span>\n                )}\n            </div>\n        )\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n        isLabelesOpend: state.boardModule.isLabelesOpend,\n    }\n}\n\nconst mapDispatchToProps = {\n    setLabelsMode\n}\n\nexport const CardPreviewLabel = connect(mapStateToProps, mapDispatchToProps)(_CardPreviewLabel)\n","import React, { Component } from 'react'\nimport CheckBoxOutlineBlankIcon from '@material-ui/icons/CheckBoxOutlineBlank'\nimport CheckBoxIcon from '@material-ui/icons/CheckBox';\nimport { openPopover } from '../../store/popover.actions';\nimport { connect } from 'react-redux';\nimport { onSaveBoard } from '../../store/board.actions'\nimport {ReactComponent as DateIcon} from '../../assets/img/cmps/card-details/icon-dates.svg'\n\n\nclass _DueDateDisplay extends Component {\n\n    dueDateFormat = (dueDate) => {\n        const currYear = new Date().getFullYear()\n        const dueYear = new Date(dueDate).getFullYear()\n        if (dueYear !== currYear) {\n            return new Date(dueDate).toLocaleString('en-GB', { year: 'numeric', month: 'short', day: 'numeric' })\n        }\n        else return new Date(dueDate).toLocaleString('en-GB', { month: 'short', day: 'numeric' })\n    }\n\n    getDueStatus = () => {\n        const now = Date.now()\n        const { card } = this.props\n        let dueStatus = '';\n        if (card.dueDateDone) dueStatus = 'done';\n        else if (now > card.dueDate) dueStatus = 'overdue';\n        else {\n            const timeDiff = card.dueDate - now;\n            if (timeDiff < 86400000) dueStatus = 'due-soon'\n        }\n        return dueStatus\n    }\n\n    onToggleCardDone = () => {\n        this.props.toggleCardDone()\n    }\n\n    get dueMsg() {\n        switch (this.getDueStatus()) {\n            case 'done': return 'COMPLETE';\n            case 'due-soon': return 'DUE SOON';\n            case 'overdue': return 'OVERDUE';\n            default: return ''\n        }\n    }\n\n\n    onOpenPopover = (ev, type) => {\n        const { card, openPopover } = this.props\n        ev.preventDefault()\n        const elPos = ev.target.getBoundingClientRect()\n        const props = { card }\n        openPopover(type, elPos, props)\n    }\n\n    render() {\n        const { card, toggleCardDone, displayType } = this.props\n        const dueStatus = this.getDueStatus();\n        return <> { displayType === 'preview' ?\n            <div className={`card-preview-date ${dueStatus}`} onClick={toggleCardDone}>\n                <div className=\"card-preview-icon-date\">\n                <i class=\"far fa-clock\"></i>\n                </div>\n                <div>\n                    {this.dueDateFormat(card.dueDate)}\n                </div>\n            </div>\n            :\n            <div className=\"card-details-date item-container\">\n                <h3 className=\"card-details-item-header\">DUE DATE</h3>\n                <div className=\"flex align-center\">\n\n                    {card.dueDateDone ?\n                        <CheckBoxIcon className=\"checked\" onClick={this.onToggleCardDone} /> :\n                        <CheckBoxOutlineBlankIcon className=\"non-checked\" onClick={this.onToggleCardDone} />}\n                    <button className=\"secondary-btn\" onClick={(ev) => this.onOpenPopover(ev, 'DATE')}>\n                        <div className=\"flex align-center\">\n                            <span> {this.dueDateFormat(card.dueDate)}</span>\n                            <span className={`due-msg ${dueStatus}`}>{this.dueMsg}</span>\n                            down\n                        </div>\n                    </button>\n                </div>\n            </div >\n        }</>\n\n    }\n}\nfunction mapStateToProps(state) {\n    return {\n        currPopover: state.popoverModule.currPopover,\n        board: state.boardModule.board\n    }\n}\n\nconst mapDispatchToProps = {\n    openPopover,\n    onSaveBoard\n}\n\nexport const DueDateDisplay = connect(mapStateToProps, mapDispatchToProps)(_DueDateDisplay)\n\n\n","import { Component } from 'react'\nexport class CardPreviewChecklist extends Component {\n\n    get todosMap() {\n        const { checklists } = this.props\n        const todosMap = checklists.reduce((acc, checklist) => {\n            acc['todosCount'] += checklist.todos.length\n            checklist.todos.forEach(todo => {\n                if (todo.isChecked) acc['doneTodosCount']++\n            })\n            return acc;\n        }, { todosCount: 0, doneTodosCount: 0 })\n        return todosMap\n    }\n\n    render() {\n        const { doneTodosCount, todosCount } = this.todosMap\n        return (\n            <div className={`card-preview-checklist ${doneTodosCount === todosCount && 'done'}`}>\n                <div className=\"check-icon\">\n                <i class=\"far fa-check-square\"></i>\n                </div>\n                <span>{`${doneTodosCount}/${todosCount}`}</span>\n            </div>\n        )\n    }\n}\n","import { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { onSaveBoard } from '../store/board.actions';\nimport { CardPreviewLabel } from './card-preview/card-preview-labels';\nimport { boardService } from '../services/board.service.js';\nimport { ProfileAvatar } from '../cmps/profile-avatar.jsx';\nimport { DueDateDisplay } from './card-preview/due-date-display.jsx';\nimport { CardPreviewChecklist } from '../cmps/card-preview/card-preview-checklist.jsx';\nimport { Subject as SubjectIcon } from '@material-ui/icons';\nimport { ReactComponent as AttachmentIcon } from '../assets/img/cmps/card-details/icon-attachment.svg';\nimport { AttachFile as AttachFileIcon } from '@material-ui/icons';\nimport EditIcon from '@material-ui/icons/CreateOutlined'\nimport {eventBusService} from '../services/event-bus.service'\n\nclass _Card extends Component {\n  componentDidMount() {\n    const { card, isEditMode } = this.props;\n    if (isEditMode)\n    this.setState({ cardTitle: card.title })\n  }\n\n\n  onOpenCardEdit = (ev) => {\n    const { card } = this.props\n    ev.preventDefault();\n    const elPos = this.cardContainer.getBoundingClientRect();\n    eventBusService.emit('card-edit', { elPos, card });\n}\n\n  get cardStyles() {\n    const { isEditMode } = this.props;\n    const { coverMode, bgColor, bgImgUrl } = this.props.card.style;\n\n    if (coverMode === 'full' && bgImgUrl && !isEditMode)\n      return {\n        color: '#fff',\n        backgroundImage: `url(${bgImgUrl})`,\n        borderTopLeftRadius: '3px',\n        borderTopRightRadius: '3px',\n        minHeight: '260px',\n      };\n    else if (coverMode === 'full' && !isEditMode)\n      return {\n        backgroundColor: bgColor,\n        minHeight: '56px',\n        borderTopLeftRadius: '3px',\n        borderTopRightRadius: '3px',\n      };\n    if (coverMode === 'header' && bgImgUrl) return {};\n    if (coverMode === 'header' && !isEditMode) return {};\n    if (isEditMode && !coverMode) return { borderRadius: '3px' };\n    else if (isEditMode) return {};\n    else return { borderRadius: '3px' };\n  }\n\n  get getCardHeaderStyles() {\n    const { isEditMode } = this.props;\n    const { coverMode, bgColor, bgImgUrl } = this.props.card.style;\n    if (coverMode === 'full' && bgImgUrl && isEditMode)\n      return {\n        backgroundImage: `url(${bgImgUrl})`,\n        minHeight: '260px',\n      };\n    if (coverMode === 'header' && bgImgUrl)\n      return {\n        backgroundImage: `url(${bgImgUrl})`,\n        minHeight: '260px',\n      };\n    if (coverMode === 'full' || coverMode === 'header')\n      return { backgroundColor: bgColor };\n    else return {};\n  }\n\n  get getCardHeaderStyles() {\n    const { isEditMode } = this.props;\n    const { coverMode, bgColor, bgImgUrl } = this.props.card.style;\n    if (coverMode === 'full' && bgImgUrl && isEditMode)\n      return {\n        backgroundImage: `url(${bgImgUrl})`,\n        minHeight: '260px',\n      };\n    if (coverMode === 'header' && bgImgUrl)\n      return {\n        backgroundImage: `url(${bgImgUrl})`,\n        minHeight: '130px',\n      };\n    if (coverMode === 'full' || coverMode === 'header')\n      return { backgroundColor: bgColor };\n    else return {};\n  }\n\n  isChecklistsEmpty = ({ checklists }) => {\n    return checklists.every((checklist) => !checklist.todos.length);\n  };\n\n  render() {\n    const { isEditMode, card, board, handleChange, cardTitle } = this.props;\n    // const {coverMode} = card.style\n    var coverMode;\n    if (card.style) {\n      coverMode = card.style.coverMode;\n    } else {\n      card.style = {};\n    }\n\n    return (\n      <div className=\"card-preview-container\" ref={(div) => { this.cardContainer = div }} onContextMenu={this.onOpenCardEdit}>\n        {!isEditMode && (\n          <div className=\"card-preview-edit-btn\" onClick={this.onOpenCardEdit}>\n            <EditIcon />\n          </div>\n        )}\n\n        <div\n          className={`card-preview  ${card.style.bgImgUrl && 'is-imaged'} ${\n            (coverMode === 'full' && !isEditMode) && 'cover-full'\n          }`}\n          style={this.cardStyles}\n        >\n          {(coverMode === 'header' || (coverMode === 'full' && isEditMode)) && (\n            <div\n              className=\"card-preview-header\"\n              style={this.getCardHeaderStyles}\n            ></div>\n          )}\n          <div className=\"card-content\">\n          {(coverMode !== 'full' || isEditMode)  && (\n            <div className=\"card-preview-labels open\">\n              {card.labelIds &&\n                card.labelIds.map((labelId) => (\n                  <CardPreviewLabel\n                    key={labelId}\n                    labelId={labelId}\n                    labels={board.labels}\n                  />\n                ))}\n            </div>\n          )}\n          {  (coverMode !== 'full' || isEditMode) &&  <div className=\"card-preview-name clean-link\">{card.title}</div> }\n          </div>\n          {coverMode !== 'full' || isEditMode && (\n            <div className=\"card-preview-bagdes\">\n              <div className=\"card-preview-icons\">\n                {!!card.dueDate && (\n                  <DueDateDisplay\n                    card={card}\n                    toggleCardDone={this.toggleCardDone}\n                    displayType=\"preview\"\n                  />\n                )}\n                {!!card.checklists && !this.isChecklistsEmpty(card) && (\n                  <CardPreviewChecklist checklists={card.checklists} />\n                )}\n                {card.description && (\n                  <div>\n                    <SubjectIcon />\n                  </div>\n                )}\n                {card.attachs && (\n                  <div>\n                    <AttachFileIcon />\n                  </div>\n                )}\n              </div>\n              {!!card.members && !!card.members.length && (\n                <div className=\"card-preview-members\">\n                  {card.members.map((member) => {\n                    return isEditMode ? (\n                      <ProfileAvatar\n                        member={member}\n                        key={member._id}\n                        size={28}\n                      />\n                    ) : (\n                      <ProfileAvatar\n                        member={member}\n                        key={member._id}\n                        size={28}\n                        onOpenPopover={this.onOpenPopover}\n                      />\n                    );\n                  })}\n                </div>\n              )}\n            </div>\n          )}{' '}\n        {\n          (coverMode === 'full') && \n          <div className=\"full-cover-card\">\n          {  (!isEditMode) &&  <div className=\"card-preview-name-full clean-link\">{card.title}</div> }\n\n          </div>\n        }\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = {\n  onSaveBoard,\n};\n\nexport const Card = connect(null, mapDispatchToProps)(_Card);\n","import { Component } from 'react'\nimport { Draggable, Droppable } from 'react-beautiful-dnd';\nimport { Link } from 'react-router-dom'\nimport { Card } from '../single-card';\n\nexport class CardPreview extends Component {\n\n    render() {\n        const { board, card, currList, isDragged } = this.props;\n        return (\n            <>\n                <div className=\"card-preview-container\">\n                    <Link className=\"clean-link\" to={`/board/${board._id}/${currList?.id}/${card.id}`}>\n                        <Card className={isDragged ? \"clean-link on-grab-drag-drop\" : 'clean-link'} card={card} board={board} />\n                    </Link>\n                </div>\n            </>\n        )\n    }\n}\n\n\n","import { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { CardAdd } from './card-add.jsx';\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\nimport { CardPreview } from './card-preview/card-preview.jsx';\nimport { MoreHoriz } from '@material-ui/icons';\nimport { onSaveBoard } from '../store/board.actions.js'\nimport { closePopover, openPopover } from '../store/popover.actions.js'\nimport { ReactComponent as AddIcon } from '../assets/img/icons/add.svg'\n\n\nclass _ListPreview extends Component {\n  state = {\n    isAddToggeld: false,\n    cards: '',\n    titleTxt: '',\n    isOnEditState: false,\n  };\n\n  onOpenPopover = (ev, PopoverName) => {\n    const elPos = ev.target.getBoundingClientRect()\n    const { board, currList, onSaveBoard, closePopover } = this.props\n    const props = {\n      currList,\n      board,\n      onSaveBoard,\n      closePopover\n    }\n    this.props.openPopover(PopoverName, elPos, props)\n  }\n\n\n  toggleCardAdd = () => {\n    const { isAddToggeld } = this.state;\n    this.setState({ isAddToggeld: !isAddToggeld });\n  };\n\n  handleOnDragEnd = (result) => {\n    const { listIdx } = this.props;\n    const { cards } = this.props.currList;\n    this.props.handleOnDragEndCards(result, listIdx, cards);\n  };\n\n  toggleEdit = () => {\n    const { isOnEditState } = this.state;\n    const { currList } = this.props;\n    this.setState({ isOnEditState: !isOnEditState, titleTxt: currList.title });\n  };\n\n  onSaveTitle = () => {\n    this.toggleEdit();\n    const { titleTxt } = this.state;\n    const { board, currList, onSaveBoard } = this.props;\n    const listIdx = board.lists.findIndex((list) => list.id === currList.id);\n    board.lists[listIdx].title = titleTxt;\n    onSaveBoard(board);\n  };\n\n  handleChange = (ev) => {\n    if (ev.keyCode === 13) {\n      ev.preventDefault();\n      this.onSaveTitle();\n      return;\n    }\n    this.setState({ titleTxt: ev.target.value });\n  };\n\n  render() {\n    const { board, currList, onSaveBoard, listIdx } = this.props;\n    const { isAddToggeld, isOnEditState, titleTxt } = this.state;\n    this.state.cards = currList.cards;\n    return (\n      <div className=\"list-preview\" key={listIdx}>\n        <div className=\"list-header\">\n          {isOnEditState ? (\n            <input\n              type=\"text\"\n              className=\"card-list-header-input\"\n              value={titleTxt}\n              autoFocus\n              onChange={this.handleChange}\n              onKeyDown={this.handleChange}\n              onBlur={this.onSaveTitle}\n            />\n          ) : (\n            <h2 onClick={this.toggleEdit}>{currList.title}</h2>\n          )}{' '}\n\n          <div onClick={(ev) => this.onOpenPopover(ev, 'LIST_OPTIONS')} className=\"card-list-btn-menu\">\n            <MoreHoriz className=\"list-menu\" />\n          </div>\n        </div>\n        <div className=\"card-container\">\n          {/* <DragDropContext onDragEnd={this.handleOnDragEnd}> */}\n          <Droppable droppableId={`${listIdx}`}>\n            {(provided) => (\n              <ul\n                className=\"card-list-element clean-list\"\n                {...provided.droppableProps}\n                ref={provided.innerRef}\n              >\n                {(!currList.cards.length) && <li className=\"dragged\"></li>}\n                {currList.cards.map((currCard, cardIdx) => (\n                  <Draggable\n                    key={currCard.id}\n                    draggableId={currCard.id}\n                    index={cardIdx}\n                  >\n                    {(provided) => (\n                      <li\n                        ref={provided.innerRef}\n                        {...provided.draggableProps}\n                        {...provided.dragHandleProps}\n                        onDrag={(ev) => {\n                          {\n                            console.log('ev', ev);\n                          }\n                          this.props.onCardClicked();\n                        }}\n                      >\n                        <CardPreview\n                          isDragged={this.props.isDragged}\n                          key={currCard.id}\n                          card={currCard}\n                          cardIdx={cardIdx}\n                          currList={currList}\n                          board={board}\n                          onSaveBoard={onSaveBoard}\n                        />\n                      </li>\n                    )}\n                  </Draggable>\n                ))}\n                {provided.placeholder}\n              </ul>\n            )}\n          </Droppable>\n          {/* </DragDropContext> */}\n          {isAddToggeld && (\n            <CardAdd\n              board={board}\n              currList={currList}\n              onSaveBoard={onSaveBoard}\n              toggleCardAdd={this.toggleCardAdd}\n              cards={this.state.cards}\n            />\n          )}\n        </div>\n        {!isAddToggeld && (\n          <div className=\"list-footer flex align-center\" onClick={this.toggleCardAdd}>\n          <AddIcon className=\"add-icon-svg\"/> Add card\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = {\n  closePopover,\n  onSaveBoard,\n  openPopover\n};\n\nexport const ListPreview = connect(null, mapDispatchToProps)(_ListPreview);\n","import React from 'react'\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router'\nimport { loadBoards, loadBoard, loadRecentBoards } from \"../store/board.actions\";\nimport { MoreHoriz } from '@material-ui/icons';\nimport { Link } from 'react-router-dom';\n\nexport class _NavBarBoard extends React.Component {\n    state = {\n        title: 'Board Name',\n        isOnEditState: false,\n        star: false\n    }\n\n    openNav = () => {\n        document.getElementById(\"mySidenav\").style.width = \"328px\";\n    }\n\n    componentWillUnmount() {\n        this.unlisten();\n    }\n    componentWillMount() {\n        this.unlisten = this.props.history.listen((location) => {\n            const splittedPath = location.pathname.split('/');\n\n            const boardId = splittedPath[2];\n            if (!boardId || boardId === this.props.match.params.boardId) return;\n            this.props.loadBoard(boardId).then(() => {\n\n                const { board } = this.props\n                this.setState({ title: board.title })\n                this.setState({ star: board.star })\n            })\n        });\n    }\n\n    componentDidMount() {\n        const boardId = this.props.match.params.boardId\n        this.props.loadBoard(boardId).then(() => {\n            const { board } = this.props\n            this.setState({ title: board.title })\n            this.setState({ star: board.star })\n        })\n    }\n\n    onSaveBoardName = () => {\n        const { title } = this.state\n        const { board, onSaveBoard } = this.props\n        if (board) {\n            board.title = title\n            onSaveBoard(board);\n        }\n    }\n\n    onOpenPopover = (ev, PopoverName, props) => {\n        const elPos = ev.target.getBoundingClientRect();\n\n        this.props.openPopover(PopoverName, elPos, props);\n    };\n    handleChange = (ev) => {\n        if (ev.keyCode === 13) {\n            ev.preventDefault();\n            this.onSaveBoardName();\n            return;\n        }\n        this.setState({ title: ev.target.value });\n    }\n    render() {\n        const { isOnEditState, title, star } = this.state\n        const { board, onSaveBoard } = this.props\n        return (\n            <section className=\"board-nav-bar-container flex\">\n                <div className=\"first-board-part\">\n\n                <Link to={`/board/${board._id}/dashboard`} className=\"dashboard-btn clean-link\">\n                     \n                    <button className=\"_2w6KZMbwKqxZVN _3TTqkG5muwOzqZ ZOUktZwsING7-0\"\n                        data-test-id=\"board-views-switcher-button\" type=\"button\" title=\"Board views\">\n                        <svg width=\"15\" height=\"15\" role=\"presentation\" focusable=\"false\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                            <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M2 7V15C2 16.1046 2.89543 17 4 17H6C7.10457 17 8 16.1046 8 15V7C8 5.89543 7.10457 5 6 5H4C2.89543 5 2 5.89543 2 7ZM4 7V15H6V7L4 7Z\" fill=\"currentColor\">\n                            </path>\n                            <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M9 7V13C9 14.1046 9.89543 15 11 15H13C14.1046 15 15 14.1046 15 13V7C15 5.89543 14.1046 5 13 5H11C9.89543 5 9 5.89543 9 7ZM11 7V13H13V7L11 7Z\" fill=\"currentColor\">\n                            </path>\n                            <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M16 17V7C16 5.89543 16.8954 5 18 5H20C21.1046 5 22 5.89543 22 7V17C22 18.1046 21.1046 19 20 19H18C16.8954 19 16 18.1046 16 17ZM18 17V7L20 7V17H18Z\" fill=\"currentColor\">\n                            </path>\n                        </svg>\n                        <span className=\"_3wFtm5r_eYKs0G\">Dashboard</span>\n                        {/* <svg width=\"15\" height=\"15\" role=\"presentation\" focusable=\"false\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                            <path d=\"M11.2929 16.7071L4.22185 9.63606C3.83132 9.24554 3.83132 8.61237 4.22185 8.22185C4.61237 7.83133 5.24554 7.83133 5.63606 8.22185L12 14.5858L18.364 8.22185C18.7545 7.83132 19.3877 7.83132 19.7782 8.22185C20.1687 8.61237 20.1687 9.24554 19.7782 9.63606L12.7071 16.7071C12.3166 17.0977 11.6834 17.0977 11.2929 16.7071Z\" fill=\"currentColor\">\n                            </path>\n                        </svg> */}\n                    </button>\n                    </Link>\n\n                    {/* <button className=\"board-board-btn flex\">\n                        <span className=\"sc-bdVaJa kBFJig\" role=\"img\" aria-label=\"ListIcon\"><svg width=\"15\" height=\"15\" role=\"presentation\" focusable=\"false\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M2 7V15C2 16.1046 2.89543 17 4 17H6C7.10457 17 8 16.1046 8 15V7C8 5.89543 7.10457 5 6 5H4C2.89543 5 2 5.89543 2 7ZM4 7V15H6V7L4 7Z\" fill=\"currentColor\"></path><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M9 7V13C9 14.1046 9.89543 15 11 15H13C14.1046 15 15 14.1046 15 13V7C15 5.89543 14.1046 5 13 5H11C9.89543 5 9 5.89543 9 7ZM11 7V13H13V7L11 7Z\" fill=\"currentColor\"></path><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M16 17V7C16 5.89543 16.8954 5 18 5H20C21.1046 5 22 5.89543 22 7V17C22 18.1046 21.1046 19 20 19H18C16.8954 19 16 18.1046 16 17ZM18 17V7L20 7V17H18Z\" fill=\"currentColor\"></path></svg></span>\n                        <span className=\"board-board-btn-span\">\n                            Board\n                        </span>\n                    </button> */}\n                    {isOnEditState ? (<input className=\"name-board-board-btn\"\n                        type=\"text\"\n                        className=\"card-list-header-input\"\n                        value={title}\n                        autoFocus\n                        onChange={this.handleChange}\n                        onKeyDown={this.handleChange}\n                        onBlur={() => {\n                            this.onSaveBoardName()\n                            this.setState({ isOnEditState: !isOnEditState })\n                        }}\n\n                    />) : (\n                        <p onClick={() => {\n                            this.setState({ isOnEditState: !isOnEditState })\n                        }}>{title}</p>\n                    )}\n                    <button className={star ? \" active star-board-btn\" : \"star-board-btn\"} onClick={() => {\n                        this.setState({ star: !star })\n                        board.star = !star;\n                        onSaveBoard(board);\n\n                    }}>\n                        <svg width=\"15\" height=\"15\" role=\"presentation\" focusable=\"false\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M7.49495 20.995L11.9999 18.6266L16.5049 20.995C16.8059 21.1533 17.1507 21.2079 17.4859 21.1504C18.3276 21.006 18.893 20.2066 18.7486 19.3649L17.8882 14.3485L21.5328 10.7959C21.7763 10.5585 21.9348 10.2475 21.9837 9.91094C22.1065 9.06576 21.5209 8.28106 20.6758 8.15825L15.6391 7.42637L13.3866 2.86236C13.2361 2.55739 12.9892 2.31054 12.6843 2.16003C11.9184 1.78206 10.9912 2.0965 10.6132 2.86236L8.36072 7.42637L3.32403 8.15825C2.98747 8.20715 2.67643 8.36564 2.43904 8.60917C1.84291 9.22074 1.85542 10.1998 2.46699 10.7959L6.11158 14.3485L5.25121 19.3649C5.19372 19.7 5.24833 20.0448 5.40658 20.3459C5.80401 21.1018 6.739 21.3924 7.49495 20.995ZM19.3457 10.0485L15.6728 13.6287L16.5398 18.684L11.9999 16.2972L7.45995 18.684L8.327 13.6287L4.65411 10.0485L9.72993 9.31093L11.9999 4.71146L14.2699 9.31093L19.3457 10.0485Z\" fill=\"currentColor\">\n                        </path>\n                        </svg>\n                    </button>\n                    {/* <span className=\"sperator-nav-board\">|</span>\n                    <button className=\"workspace-board-btn\">View workspace</button>\n                    <span className=\"sperator-nav-board\">|</span> */}\n                </div>\n                <div className=\"board-title\" >\n\n                </div>\n                <div className=\"second-board-part\">\n                    {/* todo <InvitedMembers InvitedMembers={}/> */}\n                    <button className=\"invite-member-board-btn\" onClick={(ev) => this.onOpenPopover(ev, 'INVITE')}>Invite</button>\n                    <button onClick={this.openNav} className=\"show-more-activity\"><span><MoreHoriz /></span> Show Menu</button>\n\n                </div>\n            </section>\n        )\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n        recentBoards: state.boardModule.recentBoards,\n        boards: state.boardModule.boards,\n        board: state.boardModule.board,\n        loggedInUser: state.userModule.loggedInUser\n    }\n}\n\nconst mapDispatchToProps = {\n    loadRecentBoards,\n    loadBoards,\n    loadBoard\n}\n\nexport const NavBarBoard = connect(mapStateToProps, mapDispatchToProps)(withRouter(_NavBarBoard))\n","import { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { NavBarBoard } from './nav-bar-board'\nimport { loadBoard, loadRecentBoards, loadBoards } from \"../store/board.actions\";\n\nclass _MainBoardHeader extends Component {\n\n    state = {\n        title: '',\n    }\n\n    componentDidMount() {\n        this.props.loadRecentBoards()\n\n        this.setState({ title: this.props.board.title })\n    }\n\n    render() {\n        const { board, onSaveBoard } = this.props\n        const { title } = this.state\n        return (\n            <div className=\"main-board-header\">\n                <NavBarBoard board={board} onSaveBoard={onSaveBoard} title={title} />\n                {/* <div className=\"board-title\" >\n                    <h1>{title}</h1>\n                </div> */}\n                <div className=\"flex header-section\">\n                </div>\n            </div>\n        )\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n        recentBoards: state.boardModule.recentBoards,\n        boards: state.boardModule.boards,\n        board: state.boardModule.board,\n    }\n}\n\nconst mapDispatchToProps = {\n    loadBoards,\n    loadBoard,\n    loadRecentBoards\n}\n\nexport const MainBoardHeader = connect(mapStateToProps, mapDispatchToProps)(_MainBoardHeader)\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgExclamationLg(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    fill: \"currentColor\",\n    className: \"bi bi-exclamation-lg\",\n    viewBox: \"0 0 16 16\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6.002 14a2 2 0 1 1 4 0 2 2 0 0 1-4 0zm.195-12.01a1.81 1.81 0 1 1 3.602 0l-.701 7.015a1.105 1.105 0 0 1-2.2 0l-.7-7.015z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgExclamationLg);\nexport default __webpack_public_path__ + \"static/media/exclamation-lg.e232d308.svg\";\nexport { ForwardRef as ReactComponent };","import { Component } from 'react';\nimport { utilService } from '../services/util.service';\nimport { CloseRounded } from '@material-ui/icons';\nimport { ReactComponent as AddIcon } from '../assets/img/icons/add.svg'\n\n\nexport class ListAdd extends Component {\n  state = {\n    isToggled: false,\n    titleTxt: '',\n  };\n\n  handleChange = (ev) => {\n    if (ev.keyCode === 13) {\n      ev.preventDefault();\n      this.onAddList();\n      return;\n    }\n\n    this.setState({ titleTxt: ev.target.value });\n  };\n\n  toggleListAdd = () => {\n    const { isToggled } = this.state;\n    this.setState({ isToggled: !isToggled });\n  };\n\n  onAddList = () => {\n    const { titleTxt } = this.state;\n    if (!titleTxt) return;\n\n\n    const { board, onSaveBoard } = this.props;\n    const list = {\n      id: utilService.makeId(),\n      title: titleTxt,\n      cards: [],\n    };\n\n    board.lists.push(list);\n    this.setState({ titleTxt: '' }, () => onSaveBoard(board));\n  };\n\n  render() {\n    const { titleTxt, isToggled } = this.state;\n\n    return (\n      <div className=\"list-add-containter\">\n        {isToggled ? (\n          <div className=\"list-add-toggle\">\n            <input\n              className=\"list-add-input\"\n              value={titleTxt}\n              autoFocus\n              onBlur={this.toggleListAdd}\n              onChange={this.handleChange}\n              onKeyDown={this.handleChange}\n              placeholder=\"list title\"\n            />\n            <div className=\"add-list-open\">\n              <button className=\"add-list primary-btn\" onMouseDown={this.onAddList}>Add list</button>\n              <a className=\"close-btn\" onMouseDown={this.toggleListAdd}><CloseRounded /></a>\n            </div>\n          </div>\n        ) : (\n          <div className=\"card-list-add\" onClick={this.toggleListAdd}>\n             <AddIcon className=\"add-icon-svg\"/> Add another list\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n","var _defs, _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgChart(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    className: \"chart-icon\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    width: \"75pt\",\n    height: \"44.999999pt\",\n    viewBox: \"0 0 75 44.999999\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"image\", {\n    id: \"image7\",\n    xlinkHref: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAV4AAACWCAAAAACzjL+rAAAAAmJLR0QA/4ePzL8AAA6+SURBVHic7Vx5QFXFGv/mXrjKKuKKIpSg+Xxom2guiLlg9sQ9A8k0lwhTU0MtrdQySi2LSvNBVmaKomlPDX0Kgvhcyh0pxLSSxVxSBBHZ7p3+uNtZZs45FzhcuG9+/zAz55yZ7/zOb77vm7nnAMDAwMDAwMDAwMDAwMDAwMDAwMDAUD/ooLG3BQ6NCHsb4Ng4aW8DHBqBmDkHFcF8g6rIxva2wJHRDd9izkE9PAdb7W2CA0NbgEcz9aqGIe1/LmP0qoZJsAWQvY1wWHhd1Q1nea9qmOCyHwOjVy1Mh53A6FULPR65lcfoVQ1TYSMAC20qwf1Pt/Bqpl61MNE9tRoYvWphBiQBADjZ2w7HREhQYSEAU69KmAlfAwALberA7zIMNwAw56AOXnbapgcApl5V4JLXcsxdAGDqVQWTW2aUGEtMvXUPp9yOkwpMRfta4pB4tuOlfFOR0VvnQAvhMwDACDN6VcDwbn+dAwzIAIxeFfAarMEAgIGpVwWE9inKML0+ghGjt66xCD4zLikAA3YoeptHDuvetrLg0t6kIrvZ8ETYnTSzeB0q7206d4GXqXhn1Uf37WTFgcFxKQAAgAEcid4HdgfBwa0H88Bv4LMDITv8D7tYEZpRHG70DfVMr5Om2qBi977HfC/EZJgqAz7vUtC7QMXRqDjc7/1dxlI906ttqq8yqPZGZtPM4MzwEkvVY3foiVA7+IeR398eoQcTt1Cf2+n6snK9eu+7zgnOHWFlF+6OvBA8R7XBqHCKg5XV2IAN2AQH8b3ev3mGHOG19PlfScfb9W3G9IS8Z3kz1EF+DIpslsZnF46mNYusbys834bleotyMTY4yjtmQyFZ2JQMT9W3FYvbnjhjYddgMGCDgziHvA6dLgmauuTk+9WvEYHZTUYUmitGF2H/VRtCCAFgA9Qi7nm1gT+FbYXQZtuJA2fr8euRj5skFQDw7sPO6kUarZPGoNcbcM1paPfMqJAyD59rgma30kodwM0fklOramejUozaWRp2Hzj02n1RjJy0BoO+Nrp1HjFlqBaqf+/06FnBkYBL+SsfG/AgwK0t68/UykplcPvF781d1qrxnuwc2qorKqtrIdzW7xZsf9qwe+aQXAgWHhsCWSf+HRm+PLvFy6ePjlX/Ppf5Ze/mJg2NPu8NnPOCK1zYmnkfo5AVqUMER1MHLTgEAABth0V4wYWVG6tVNSb4GArPA4AG5XtrgYD5U5xh/5dXMABAk12e/Y7yDoeml4SXm8pO/V/sCBcX7VAxzOlOdF/3GQDf8zZeej1i57kbvt9wHUz38fSSnN7FnOPNjndZtsdcwYB6zg2E46/8pJo977yRF84JoWaSGym94asD4dCH161a0SYGHQq/aznusad/9lTu3gqgfgt9DAmv31HHnl5HNON+sdSss6Rh0oukp3GL+Ci49N55nptr/nU73oZk4aQi4E5VhHWRM3Q3Zm6re2sB3E91TlhtHgk4hYZJr1Zy5zLsq3bVH2/Xc9nFAF7xQZCanJav6xAyfjBkz+Lp1Hhmy7f6w6ZZKvxQ9G3UxTFV1nFMLzlAQ6UXIfrOu/PyWM3pt65xlWssasNnW34M+mRXNf+gCWFveRROTK9DSwEAYHpC1bA8/sM2oWHQi5SvLDps72n4aIuBH6BNxaYhA7r5wJ/nMzLLCYcBA4D3iicM7y6t259Nuh13XbCDP4y50ADoRVpttV7pyaHJra/OvWitY94fUUX8FDRRsdr9E27ZbiYVbie7bH8Ni8ywf2KGAAHSOGmrKpWKNybeOfP1e8YyaTIS+OTWMABA13UtL4fn1MBcMtDmiNxRFZSh7UyvEUrJRSvmw7oEzg+xgstF4iGf5/3pY8Xj99tiqBTiXr8XVshr4QypratR6gG6zS/qX002gOn9LeNfbNmyMBeMq31+m/Fk05+yXS0en3Czjv4JVtRqNI37P3PMQxutaET0uu4cWTrluJFQIXtkQnkPgfMU9OllIf+CQ3VhVMh3Tiu2cZ8rb+RGpF6PlEFFUbk8QoW6BY5PsBy3PgzONacvDhnUel/t9yAe2ueZFGeWq8UG67NuAJmDMrjuC7kVlWepEgjlni1uxIh/Sa8vmyZNVJywUBCY7nvwBT1tGMANITFTBN3egTeiTO/dCJdG3EaeayAct54QtMkjeULt+PXP9Ds/uow3iqnSsFdtImg3Rt6IuCrWIL9Azh1oSUbnrc23RdaGX9+MgJzR1m060tiNhN61McVjOD8TElkEok+QOC1gu/f2iJrz23F/wK+jzOsT8iNuJL53dnxlxHlrlUCVlBugXALQaUezxOiaxrcee9rkjDWyS59TjSJzCN2EZhy31MT5LebclDA14l3CzTcwxrfSxz3RJK1mNg1N8T41psg0uGVJjAWzpS7Uq+ng4+Hu6lJSUVRYUFEH/Qnhe6r1qnUAFCeKSEXiiplQ6rlVtziuJjZNW+u8f9p9YvDk1mpJb6v+wd0D/XXWhhs52Vknsmqb8PDgerDX/hnGtRoAUOY5CKelsEh5CMMSNe8ss3kDrUl8NCS+oQeyA6qjPYfgsUMfRgAA1wuLysvByd3Fv60WAODO4Yzdv9aiYx60O8OvDC8l7t9IbSzQGpHgKYyL1+6daOMGWufNj1e9uomasnDMqjG97ac+HwBw/8zJM1duVIP59xuNV/vA7r06AkDWjh3npXtQiLUxxSP+MFckySM7B+nsAaBvYovrL3Le/5AFil7lnv/CaZIvEIxRY/X2ih2thRs/pJ6rQoI+MQD2ejx0mBfAqS83FdM6UIyV8yufOWPumTeMsJHsNGRyNMDQfm0f2LIgHxSi8+cD4T+vFFP4FFhUI3ofXTkYKnclZSHE6ZB/d07dho9qBqVfxV+uyQBWrIqtnHyY278tErWeS1rMWdrQ1CUupe+vVvStgNf8WF3RvO3cl34EffPsqwG9/kuf1xQnJN0F0mqQM55mwJTeUP3dytO2D2GG87oplZMO04KZ0jyBLlwz/N8Pg4LViaVy9rjMWuiNN70pcNUSQraZXpfF81xK12ysUDIZDe2jI3WwZ1FNnXCz5LB7k3lvnRPVSCgpWFzwaRm8rCvcXvPpTSlzWk+b6QM/Lf5RIqYhAde20ts/sTPe+OE9INovijEYe0+e6mFIevN3G4cBAIBHkjtdm2D51YbEE5EuXjJKoVfcqh2xsAtU7NpwoJJsjKZv9LgmcO69FCwUqVTqaxu9zm8v0OTM4eRcRO/GL7q9FKOrTIgTvd4sBxTzgcupaebLZEKYbC4sVBmBaDTo5ScR3ElJSRO+KgyeIU+N8gWctiYVS/QqbrBtz8F/ay/9B4nmNYPcLVn+toiN0txfG684NgMAwAPrB0LiOxX0gSiznsgcr0Z3F9g/MiIAAH47nZVbcOVWOQBq1dq3S9eeQVqAK0mbL/P7N16PhIxy67bQOyipVf70C2LDiEGbWzT4zR+LqpI//VHxUO6vzXO5Pjud1jvPyVH8LLedvnYV3cZDTz/Z28XUUt7UVKg6mbr3HG0UutBsojfmE6fM6DJ+L+TwLM4iDA++FKmDrC++UZQIu0QvbGvYsLyEajgtO6MQTa2Rn4dzUNA/O3bw8dYCQMnVq7/mZJ0p552FBI+a7owV04tWxkJCHGfpz+uIcuuc28XeUZN9oTxlS8o9mZF8XopuA0cXZQv7tfRP8UX0iCYZfSjtCIPGo7yCeKroDUOqv1FKr9P656vm7URERsnxW9SEoe9z4TooTzuQcZ66ieI+YkKYMxxZcQQocZNblfCiwgyJc4QamKRIk5IoJr7DZUtiptsyumKCdcuV4hRkGjGA24DwYa4ARZkZp89yPgE2wqVH3yH9dHA76dtcOnXySZco+lAJFfFCm4TS49FbFNKrSx5ZNp6z+pINZhJnNun75IB/AAC+cvly/s3r98oqtJ4ert5+DwQFagHKMzb/t5LaG12JVOUJRScV6CXnPIlP4nvINjsHtDGqZJx56UU0R84ZCgxt/mjww93aC4e5e/bY0ePlkndFnZKcBEnEoGAYWzSoSKKiVmtNEb1rY0pH/iy4lBywaVogEe3h5+fTso0nalZ1r/h+cWHBpavSbkY4qIQ7AMp5QHIIUvoFAEx6PVYmulmghN6lS8rGn6DeG+X2KfeuIIZLMUoNqBIalVWgAvLE5/H3xmjXK6B36hf6iEMUe2nZkKwHoZ6k3I3apEKep5KLWpbTRG5GAe88yNPbJ1037xvuoCRa+ANTfS6lRp/ZtgQb0bnSs14JURhRlSzzdY0Jsl/E++7Qrd/A65jsFhSIm+4ZuBKlZ1WiMYW2Ck4lOlL5NsEQSlRAhZx6mx7ucWQ0+TMQ2qyl1mguT9oVSq3GZK8lfsMlWtRS8wHqEaWQU+/qHgXPWb42VDTpFfhaGdkJ+pMTqZK+hJfw/CpfATKJhG2QUe/oHdVh5uUE/4nLhjTRJfRDsvNO0iXQsnuFuVPtOZSAtHr918PSU0QzOJsGClMnqdxULvAoFLBIo6JuzaaoyikHkupF6aGpYwm2K82IpFiRizuKpCfnZWTb1YakemeF3p5ukik1A0B8kdRco8RsVNwmjlZU6hQmT2pCSr0B59wm7jRXaO5PPNGkJCrHpxKVSsXzBsAoDxLqRV+4fW/8llOaJeUOgVCh8SGVnfFHl9xusDck1Dvxm9uP/GUqSy4PxVvNgu83lPlR4XqClozSLW54oNPbPLdVzNeWmvBuhdFNLmzJhjJjNw7AKA905/Buq2MbOPdlkNIg8Z85kSKZxE8qomrjJdUKqnqDzqBe2TaQAUQ3oEy1Eq2NHFT1fuCUeB5AkIQpye9JqQRtH6+Bxfm6B029Q/eVdL1ByTvFIG2NEuHodApBUS+Kg1WWf2JFTvgF+ZGBLsX/N07lMQ5f89TyodFqNUIgIuxtfIMHysKzjJQqIxQ1ms87GwSG4wIXGUIZnTXHETybMaoa+uObLgghxGa8KtiJl9jbBAcB8ZNtn3ZzZT+SYWBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBQiL8BX2E73aMo1jIAAAAASUVORK5CYII=\"\n  }), /*#__PURE__*/React.createElement(\"mask\", {\n    id: \"mask0\"\n  }, /*#__PURE__*/React.createElement(\"use\", {\n    xlinkHref: \"#image7\"\n  })), /*#__PURE__*/React.createElement(\"image\", {\n    id: \"image6\",\n    xlinkHref: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAV4AAACWCAIAAAAZhXcgAAAABmJLR0QA/wD/AP+gvaeTAAAEyklEQVR4nO3dW3YqOQwFUNPrzn/K9Ae96NxgoCj8kOy9B5BQsnwiFxUoBQAAAAAAAAAAAAAAAGBLl9kvAIjler2WUv6Z/TKAiEQDUOFAAfzvdpoopgagSjQAFQ4UwH/up4liagCqTA1AKX+PDMXUAFSJBqDCgQL4fZoopgagSjQAFQ4UsLvH00QxNQBVpgbYWnVkKKYGoEo0ABUOFLCvZ6eJYmoAqkwNsKkXI0MxNQBVpgbY0euRoZgagCpTA2zn7chQTA1AlakB9nJkZCimBqBKNAAVDhSwkYOniWJqAKpMDfR15M/U5aIPRzg+MhTRQD8fNWIREP2JBub7NBdupEM/Hyd1p9exvF+F1tM/ncuFG5XsRDQMUi20ti7f5cKNMjZ3YlH+9Hgd8Ohxw38fIhxxrs7evKSlZ11YHQSeTQciIwKT23n3DjYA3504ZzmadXU6Zx0oztO+R7yt0uVyMSYE5EBBRwfTU8h28k3mmhome7t4ibZNwz/+P39UogqsRDTMsdII3fta3NM558t1EQ0TrJEL46/i9hsFxBHfr45oiCvsHpgbbYaIMURDLMHbPdS8Y4h4pskyKesEGf//4nS3Hbk6z1Y31Cq+FZQ3eu/bZq0sHUopooExeu/b5ieUzQOiYT23rmN2XW/IDdi0ne5cbJsObeu5aRHX0O+5oFC3G8/ZMCDarpoHpfnL9XpdIBfKEun2kebX683LQKY/HbzYdtrn3c0eCyca5guyIYO8jOau1+va6dDrlk2PH8oLBxdycDevmgt3q6ZDv4VzryGikX28zM2F13a4xrZEw9a22jDrXWzXK1pzyors9XIOnheG/a44ljlZ9F6+RcrEp/bMhbvsATFg+XIXiHM2z4WbvOkwZvmyVofT5MJdxnQYtnz5SsM35MIvudJh5PJ5h4KtJcrKwS81U2TypUTbYLD4s8P4tTM17EIu5DVl7aKH5UHHaxf/70MPcuGtsI0xa+2CluOtlp9mE7UnWpELx4VqhrkLF6gQR/R9MjRSW7QiFz4VpA2mL1yIKrw1+t5sjOZoYnqHZTS3AYIsWfQ9MHmmSp4RQZosqc0/TSdu6weqUc6AiFPA1IatfrT1itj00Wp0kyggYhYwta6rH3O9YrV7zBr9FD8g4tcwr+arH3mxAjV65DL9EjYgEtUwtS8bIMUyhWjxFJV6FCogktYwu496INcazW/uXPV6FCEgstdwMZfLZYEVmdzWC1TwZlZALFNAovFoR2PbvtfFYvyt66VfRuxQPabb+nmvYZrExIZ1Y6LR0aC/F76nzUp8expQ4QtRgAofAAdUeKcNqBgRDXIB0ukeDXIBgqu+a9Y3GuQCjNTwQbvtPqAC8hr5rzp/hv0moCrCP+8+8pw/9BVz57/V5UXLBZb084MYkm7449pfnlwgo+W3+qfca2ALdv6nNvqEXJZhnw/QssRygYbs/7kcKBjNnk+h2SIZGTZnwy/G1ECFfU6bDjAyZGHPc5CpYTU2P034pOPQ7HNm+bbz5MI37HzCcqBoyVZnGet/F3hDdj772HpqsNXhmcWjweaHc87vnCmnCVsdxogyNdjzEErfaLDhIalm0SAFYCW+8xIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABgWf8CIXr4GSLN8pAAAAAASUVORK5CYII=\"\n  }))), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"surface1\"\n  }, /*#__PURE__*/React.createElement(\"use\", {\n    xlinkHref: \"#image6\",\n    mask: \"url(#mask0)\",\n    transform: \"matrix(0.3,0,0,0.3,-8.024999,0)\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgChart);\nexport default __webpack_public_path__ + \"static/media/chart.9ed6ed91.svg\";\nexport { ForwardRef as ReactComponent };","\nimport React, { Component } from 'react'\nimport { Bar, defaults, } from 'react-chartjs-2'\n\n\n\nexport class BoardCharts extends Component {\n\n    state = {\n        gradientColor: '',\n    }\n\n    componentDidMount() {\n        defaults.font.size = 16\n        defaults.color = '#fff'\n        defaults.plugins.legend.display = false\n        setTimeout(() => this.setState({ gradientColor: this.getGradientColor() }), 50)\n    }\n\n    get cardsPerMemberData() {\n        const { cardsPerMemberMap } = this.props.chartsData\n        return {\n            labels: Object.keys(cardsPerMemberMap),\n            datasets: [\n                {\n                    data: Object.values(cardsPerMemberMap),\n                    backgroundColor: this.state.gradientColor,\n                    barThickness: 20\n                }\n            ]\n        }\n    }\n\n\n    get cardsPerLabelData() {\n        const { cardsPerLabelMap } = this.props.chartsData\n        let labels = [];\n        let values = [];\n        const sortedLabels = Object.entries(cardsPerLabelMap).sort((labelA, labelB) => labelB[1].count - labelA[1].count).slice(0, 5)\n        sortedLabels.forEach(label => {\n            labels.push(label[0])\n            values.push(label[1].count)\n        })\n        \n        return {\n            labels,\n            datasets: [\n                {\n                    data: values,\n                    backgroundColor: this.state.gradientColor,\n                    barThickness: 20,\n                    borderWidth: 0,\n\n                },\n            ],\n        }\n    }\n\n\n    get cardsPerListData() {\n        const { cardsPerListMap } = this.props.chartsData\n        return {\n            labels: Object.keys(cardsPerListMap),\n            datasets: [\n                {\n                    data: Object.values(cardsPerListMap),\n                    backgroundColor: this.state.gradientColor,\n                    borderWidth: 0,\n                    barThickness: 20\n                },\n            ],\n        }\n    }\n\n    getGradientColor(canvas = this.canvas) {\n        if (!canvas) return\n        const ctx = canvas.getContext(\"2d\");\n        const gradient = ctx.chart.ctx.createLinearGradient(0, 0, 300, 0)\n        gradient.addColorStop(0, '#4fa8f8');\n        gradient.addColorStop(0.3, '#2fb4f5');\n        gradient.addColorStop(0.6, '#23beee');\n        gradient.addColorStop(0.85, '#37c7e5');\n        gradient.addColorStop(1, '#55ceda');\n        return gradient\n\n\n        // #4fa8f8, #2fb4f5, #23beee, #37c7e5, #55ceda);\n    }\n    render() {\n\n        return (\n            <div className=\"board-charts flex wrap justify-center align-center\">\n                <div className=\" flex column\">\n                    <h3>Tasks per label</h3>\n                    <div className=\"chart\">\n                        <Bar\n                            data={this.cardsPerLabelData}\n                            options={{\n                                maintainAspectRatio: false,\n\n                                title: {\n                                    display: true,\n                                    text: 'Tasks per label',\n                                },\n                                legend: {\n                                    display: false,\n                                },\n                                cutout: '60%',\n                            }}\n                            ref={(canvas) => { this.canvas = canvas }}\n                        />\n                    </div>\n                </div>\n                <div className=\"flex column\">\n                    <h3>Tasks per member</h3>\n                    <div className=\"chart\">\n                        <Bar\n                            data={this.cardsPerMemberData}\n                            options={{\n                                indexAxis: 'y',\n                                maintainAspectRatio: false,\n                                legend: {\n                                    labels: {\n                                        // This more specific font property overrides the global property\n                                        fontColor: 'black'\n                                    }\n                                }\n                            }\n                            }\n\n\n                        />\n                    </div>\n                </div>\n                <div className=\"flex column\">\n                    <h3>Tasks per list</h3>\n                    <div className=\"chart\">\n                        <Bar\n                            data={this.cardsPerListData}\n                            options={{\n                                indexAxis: 'y',\n                                maintainAspectRatio: false\n                            }}\n                        />\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport CloseRoundedIcon from '@material-ui/icons/CloseRounded'\nimport { ScreenOverlay } from '../cmps/screen-overlay'\nimport AssignmentIcon from '@material-ui/icons/Assignment';\nimport QueryBuilderIcon from '@material-ui/icons/QueryBuilder';\nimport { ReactComponent as ExclamationIcon } from '../assets/img/icons/exclamation-lg.svg'\nimport { ReactComponent as ChartIcon } from '../assets/img/icons/chart.svg'\nimport { BoardCharts } from '../cmps/BoardCharts'\nimport { CircularProgressbar } from 'react-circular-progressbar';\nimport { Loader } from '../cmps/loader'\nimport 'react-circular-progressbar/dist/styles.css';\n\nclass _Dashboard extends Component {\n\n    state = {\n        chartsData: null\n    }\n\n    componentDidMount() {\n        const cardsPerMemberMap = this.cardsPerMemberMap\n        const cardsPerLabelMap = this.cardsPerLabelMap\n        const cardsPerListMap = this.cardsPerListMap\n        this.setState({ chartsData: { cardsPerMemberMap, cardsPerLabelMap, cardsPerListMap } })\n    }\n\n    get allCards() {\n        const { lists } = this.props.board\n        return lists.reduce((acc, list) => {\n            acc = acc.concat(list.cards)\n            return acc\n        }, [])\n    }\n\n    get cardsCount() {\n        const { lists } = this.props.board\n        const cardsCount = lists.reduce((acc, list) => {\n            acc += list.cards.length\n            return acc\n        }, 0)\n        return cardsCount\n    }\n\n    get overdueCardsCount() {\n        const { lists } = this.props.board\n        const overdueCardsCount = lists.reduce((acc, list) => {\n            const overdueCardsCountPerList = list.cards.reduce((acc, card) => {\n                if (card.dueDate < Date.now() && card.dueDate && !card.isDone) acc++\n                return acc\n            }, 0)\n            acc += overdueCardsCountPerList\n            return acc\n        }, 0)\n        return overdueCardsCount\n    }\n\n    get dueSoonCardsCount() {\n        const { lists } = this.props.board\n        const dueSoonCardsCount = lists.reduce((acc, list) => {\n            const dueSoonCardsCountPerList = list.cards.reduce((acc, card) => {\n                if (card.dueDate && Date.now() <= card.dueDate) {\n                    const timeDiff = card.dueDate - Date.now()\n                    if ((timeDiff < 86400000) && card.dueDate) acc++\n                }\n                return acc\n            }, 0)\n            acc += dueSoonCardsCountPerList\n            return acc\n        }, 0)\n        return dueSoonCardsCount\n    }\n\n    get cardsPerMemberMap() {\n        const { members } = this.props.board\n        const allCards = this.allCards\n        const cardsPerMemberMap = members.reduce((acc, member) => {\n            if (!acc[member.fullname]) acc[member.fullname] = 0\n            const cardsPerMemberCount = allCards.reduce((acc, card) => {\n                const memberIdx = card.members.findIndex(currMember => currMember._id === member._id)\n                if (memberIdx > -1 && !card.isDone) acc++\n                return acc\n            }, 0)\n            acc[member.fullname] = cardsPerMemberCount\n            return acc\n        }, {})\n        return cardsPerMemberMap\n    }\n\n    get cardsPerLabelMap() {\n        const { labels } = this.props.board\n        const allCards = this.allCards\n        const cardsPerLabelMap = labels.reduce((acc, label) => {\n            if (!acc[label.title]) acc[label.title] = { count: 0 }\n            const cardsPerLabelCount = allCards.reduce((acc, card) => {\n                const labelIdx = card.labelIds.findIndex(currLabelId => currLabelId === label.id)\n                if (labelIdx > -1 && !card.isDone) acc++\n                return acc\n            }, 0)\n            acc[label.title].count = cardsPerLabelCount\n            return acc\n        }, {})\n        return cardsPerLabelMap\n\n\n    }\n\n    get cardsPerListMap() {\n        const { lists } = this.props.board\n        const cardsPerListMap = lists.reduce((acc, list) => {\n            if (!acc[list.title]) acc[list.title] = 0\n            acc[list.title] = list.cards.length\n            return acc\n        }, {})\n        return cardsPerListMap\n    }\n\n    get progressCircleStyle() {\n        return {\n            path: {\n                stroke: ` #2fb4f5`,\n                transition: 'stroke-dashoffset 0.5s ease 0s',\n                transformOrigin: 'center center',\n            },\n            trail: {\n                stroke: '#ffffff',\n                strokeLinecap: 'butt',\n                transform: 'rotate(0.25turn)',\n                transformOrigin: 'center center',\n            },\n            text: {\n                fill: '#ffffff',\n                fontSize: '25px',\n\n            },\n        }\n    }\n    get dueSoonPercentage() {\n        return +((this.dueSoonCardsCount / this.cardsCount * 100).toFixed(1))\n    }\n    get overduePercentage() {\n\n        return +((this.overdueCardsCount / this.cardsCount * 100).toFixed(1))\n    }\n\n    goBackToBoard = () => {\n        const { board } = this.props\n        this.props.history.push(`/board/${board._id}`)\n    }\n\n    render() {\n        const { chartsData } = this.state\n        if (!chartsData) return <Loader />\n        return (\n            <>\n                <ScreenOverlay styleMode=\"heavy-dark\" />\n                <section className=\"dashboard-container flex column\">\n                    <CloseRoundedIcon className=\"close-svg\" onClick={() => this.goBackToBoard()} />\n                    <div className=\"general-statistics flex justify-center wrap\">\n\n                        <div className=\"stats flex justify-space-between  \">\n                            <div className=\"content flex  column justify-space-between\">\n\n                                <h3 className=\"flex align-center\"><AssignmentIcon />All Tasks </h3>\n                                <h4>{this.cardsCount}</h4>\n                            </div>\n                            <ChartIcon />\n                        </div>\n\n                        <div className=\"stats flex justify-space-between  \">\n                            <div className=\"content flex  column justify-space-between\">\n                                <h3 className=\"flex align-center\">  <QueryBuilderIcon /> Due Soon  </h3>\n                                <h4>{this.dueSoonCardsCount}</h4>\n                            </div>\n                            <CircularProgressbar value={this.dueSoonPercentage} text={`${this.dueSoonPercentage}%`}\n                                styles={this.progressCircleStyle} />\n                        </div>\n\n                        <div className=\"stats flex justify-space-between  \">\n                            <div className=\"content flex  column justify-space-between\">\n\n                                <h3 className=\"flex align-center\"><ExclamationIcon />Overdue </h3>\n                                <h4>{this.overdueCardsCount}</h4>\n                            </div>\n                            <CircularProgressbar value={this.overduePercentage} text={`${this.overduePercentage}%`}\n                                styles={this.progressCircleStyle} />\n                        </div>\n                    </div>\n                    <BoardCharts chartsData={chartsData} />\n                </section>\n            </>\n        )\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n        board: state.boardModule.board,\n    }\n}\n\nexport const Dashboard = connect(mapStateToProps, null)(_Dashboard)\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPerson(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    fill: \"currentColor\",\n    className: \"bi bi-person\",\n    viewBox: \"0 0 16 16\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPerson);\nexport default __webpack_public_path__ + \"static/media/person.1694d0ed.svg\";\nexport { ForwardRef as ReactComponent };","import { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport { closePopover, openPopover } from '../store/popover.actions'\nimport { onSaveBoard } from '../store/board.actions'\nimport { boardService } from '../services/board.service';\nimport { Card } from './single-card';\nimport { ScreenOverlay } from './screen-overlay'\nimport WebAssetIcon from '@material-ui/icons/WebAsset';\nimport LabelIcon from '@material-ui/icons/LocalOfferOutlined';\nimport CoverIcon from '@material-ui/icons/VideoLabel';\nimport CopyIcon from '@material-ui/icons/FileCopyOutlined';\nimport { ReactComponent as MemberIcon } from '../assets/img/icons/person.svg'\n\nclass _CardEdit extends Component {\n\n    state = {\n        top: null,\n        left: null,\n        width: null,\n        cardTitle: ''\n    }\n\n    handleChange = (ev) => {\n        if (ev.key === 'Enter') {\n            this.onSaveCard(ev)\n            return\n        }\n        const { name, value } = ev.target\n        this.setState({ [name]: value })\n    }\n\n    componentDidMount() {\n        this.setState({ cardTitle: this.props.card.title })\n        this.onSetPopoverPos()\n    }\n\n    onSaveCard = ({ target }) => {\n        const { board, card, onCloseCardEdit, onSaveBoard, closePopover } = this.props;\n        if (target.name === 'cardTitle' || 'save') card.title = this.state.cardTitle;\n        if (target.name === 'archive') card.isArchived = true;\n        const savedBoard = boardService.updateCardInBoard(board, card)\n        onSaveBoard(savedBoard);\n        closePopover();\n        onCloseCardEdit();\n    }\n\n    onOpenPopover = (ev, popoverName) => {\n        const elPos = ev.target.getBoundingClientRect()\n        const props = {\n            card: this.props.card\n        }\n        this.props.openPopover(popoverName, elPos, props)\n    }\n\n    onSetPopoverPos = () => {\n        const { top, left, width } = this.props.elPos\n        this.setState({ top, left, width })\n    }\n\n    get list() {\n        const { card, board } = this.props\n        const list = board.lists.find(list => list.cards.some(currCard => card.id === currCard.id))\n        return list\n    }\n\n    render() {\n        const { card, board, onCloseCardEdit, EditBtnsPosition } = this.props\n        const { top, left, width, cardTitle } = this.state\n        console.log('btns postions : ' , EditBtnsPosition) \n\n        return <>\n            <ScreenOverlay goBack={onCloseCardEdit} styleMode={'darken'} closeBtn={true}>\n                <div className=\"edit-pop-over\" style={{ top: `${top}px`, left: `${left}px`, width: `${width}px` }} ref={(div) => { this.selectedDiv = div }} >\n                    <div>\n                        <Card card={card} isEditMode={true} board={board} handleChange={this.handleChange} cardTitle={cardTitle} />\n                        <button className=\"edit-pop-over-save primary-btn\" name=\"save\"\n                            onClick={this.onSaveCard}>Save</button>\n                    </div>\n                    <div className={`edit-pop-over-btns ${EditBtnsPosition}`}>\n                        <Link\n                            to={`/board/${board._id}/${this.list.id}/${card.id}`}\n                            className=\"open-card-btn clean-btn\"\n                            onClick={() => onCloseCardEdit()}>\n                            <WebAssetIcon />\n                            Open card\n                        </Link>\n                        <button\n                            className=\"edit-labels-btn clean-btn\"\n                            onClick={(ev) => this.onOpenPopover(ev, 'LABELS')}>\n                            <LabelIcon />\n                            Edit labels\n                        </button>\n                        <button\n                            className=\"change-members-btn clean-btn\"\n                            onClick={(ev) => this.onOpenPopover(ev, 'MEMBERS')}>\n                            <MemberIcon />\n                            Change members\n                        </button>\n                        <button\n                            className=\"change-cover-btn clean-btn\"\n                            onClick={(ev) => this.onOpenPopover(ev, 'COVER')}>\n                            <CoverIcon />\n                            Change cover\n                        </button>\n                        <button\n                            className=\"move-btn clean-btn\"\n                            onClick={(ev) => this.onOpenPopover(ev, 'MOVE')}>\n                            <i className=\"fas fa-arrow-right icon-sm\"></i>\n                            Move\n                        </button>\n                        <button\n                            className=\"copy-btn clean-btn\"\n                            onClick={(ev) => this.onOpenPopover(ev, 'COPY')}>\n                            <CopyIcon />\n                            Copy\n                        </button>\n                        <button\n                            className=\"edit-dates-btn clean-btn\"\n                            onClick={(ev) => this.onOpenPopover(ev, 'DATE')}>\n                            <i className=\"far fa-clock icon-sm \"></i>\n                            Edit dates\n                        </button>\n                        <button\n                            className=\"archive-btn clean-btn\"\n                            name=\"archive\"\n                            onClick={(ev) => this.onSaveCard(ev)}>\n                            <i className=\"fas fa-archive icon-sm\"></i>\n                            Archive\n                        </button>\n                    </div>\n                </div>\n            </ScreenOverlay>\n        </>\n    }\n}\n\n\nconst mapDispatchToProps = {\n    closePopover,\n    openPopover,\n    onSaveBoard\n}\n\nfunction mapStateToProps(state) {\n    return {\n        board: state.boardModule.board\n    }\n}\nexport const CardEdit = connect(mapStateToProps, mapDispatchToProps)(_CardEdit)","import React from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router';\nimport {\n    onEditBoard,\n    onSaveBoard\n} from '../store/board.actions';\nimport { socketService } from '../services/socket.service';\n\nexport class _Chat extends React.Component {\n  state = {\n    isOpen: false,\n    msg: { txt: '' },\n    msgs: [],\n    topic: 'Corollo',\n    typingUser: null\n  };\n\n  componentDidMount() {\n    const {board} = this.props\n    if(board.chatHistory) this.setState({msgs: board.chatHistory}) \n    console.log(this.selectedDiv)\n    this.selectedDiv.scrollIntoView({behavior: \"smooth\"});\n\n\n    socketService.setup()\n    socketService.emit('chat topic', this.state.topic)\n    socketService.on('chat addMsg', this.addMsg)\n    socketService.on('userIsTyping', this.toggleUserIsTyping)\n    socketService.on('userStoppedTyping', this.toggleUserIsTyping)\n}\n\ncomponentDidUpdate(prevState) {\n\n  if(!prevState.msg) return\n    if (!prevState.msg.txt\n        && [...this.state.msg.txt].length > 0) {\n        console.log('I am typing');\n        socketService.emit('iAmTyping', this.props.user)\n    }\n    if (prevState.msg.txt\n        && !this.state.msg.txt) {\n        console.log('I stopped typing');\n        socketService.emit('iStoppedTyping', this.props.user)\n    }\n\n}\n\ncomponentWillUnmount() {\n  const { board } = this.props\n  var boardToSave = board\n  this.props.onSaveBoard(boardToSave)\n\n    socketService.off('chat addMsg')\n    socketService.off('userIsTyping')\n    socketService.off('userStoppedTyping')\n    socketService.terminate()\n\n\n\n}\n\naddMsg = newMsg => {\n  \n    const { board } = this.props\n\n    this.setState(prevState => ({ msgs: [...prevState.msgs, newMsg] }))\n\n    let boardToSave = board\n    boardToSave.chatHistory ?\n        boardToSave.chatHistory.push(newMsg) : boardToSave.chatHistory = [newMsg]\n    // console.log(boardToSave);\n    this.props.onEditBoard(boardToSave)\n    this.setState({ msgs: this.state.msgs })\n\n    this.selectedDiv.scrollIntoView({behavior: \"smooth\"});\n\n\n}\n\ntoggleUserIsTyping = (user) => {\n    user ?\n        this.setState(prevState => (\n            {\n                ...prevState,\n                typingUser: user.username\n            })) :\n        this.setState(prevState => (\n            {\n                ...prevState,\n                typingUser: null\n            }))\n\n}\n\nonAddUserQuestion = (ev) => {\n    ev.preventDefault()\n    const { questions, currTxt } = this.state\n    let updatedQuests = [...questions, currTxt]\n    this.setState(prevState => (\n        {\n            ...prevState,\n            questions: updatedQuests, currTxt: ''\n        }))\n}\n\nsendMsg = ev => {\n    ev.preventDefault()\n    if(!this.state.msg.txt) return\n    const from = (this.props.user) ? this.props.user.fullname : 'guest'\n    const userImg = (this.props.user) ? this.props.user.imgUrl : ''\n    console.log('user',  this.props.user)\n    socketService.emit('chat newMsg', { from, txt: this.state.msg.txt, userImg: userImg})\n    this.setState({ msg: { from: from, txt: '' } })\n}\n\nmsgHandleChange = ev => {\n    const { name, value } = ev.target\n    this.setState(prevState => {\n        return { //Would it be better to spread ...prevState here insted of return?\n            msg: {\n                ...prevState.msg,\n                [name]: value\n            }\n        }\n    })\n}\n\n\n  openElement = (ev) => {\n    this.selectedDiv.scrollIntoView();\n    this.setState({ isOpen: true });\n    console.log('open?', this.state.isOpen);\n  };\n\n  closeElement = (ev) => {\n\n    ev.preventDefault();\n    ev.stopPropagation();\n    this.setState({ isOpen: false });\n    console.log('open?', this.state.isOpen);\n  };\n\n  render() {\n      const {board,user} = this.props\n      const currUser = (user) ? user.fullname : 'guest'\n      console.log('chat' , board.chatHistory);\n    const { typingUser } = this.state\n    const { isOpen } = this.state;\n    return (\n      <div\n        className={`floating-chat enter  ${isOpen && 'expand'}`}\n        onClick={this.openElement}\n      >\n       {!isOpen &&  <i className=\"fa fa-comments\" aria-hidden=\"true\"></i>}\n        <div className={`chat  ${isOpen && 'enter'}`}>\n          <div className=\"header\">\n  \n            <span className=\"title\">what's on your mind?</span>\n            <button>\n              <i className=\"fa fa-times\" onClick={this.closeElement}></i>\n            </button>\n          </div>\n          <ul className=\"messages\">\n            \n                {board.chatHistory?.map((msg, idx) => (\n                  <div key={idx} ref={(div) => {\n                    if(idx === board.chatHistory.length - 1)  this.selectedDiv = div;\n                  }} className= {`messege flex  ${(msg.from === currUser ? 'self' : 'other')}`}>\n                    <img className='user-img' src={msg.userImg} alt=\"\" />\n                    <li  className={(msg.from === currUser ? 'self' : 'other')} key={idx}>{msg.txt}</li>\n                  </div>\n                    ))}\n          </ul>\n          <div className=\"typing-user\">\n                    {typingUser && <p>{typingUser} is typing...</p>}\n                </div>\n          <div className=\"footer\">\n            <form onSubmit={this.sendMsg}>\n              <input\n         className=\"text-box\" \n                type=\"text\"\n                value={this.state.msg.txt}\n                onChange={this.msgHandleChange}\n                name=\"txt\"\n                autoComplete=\"off\"\n              />\n              <button id=\"sendMessage\">send</button>\n            </form>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n\n    user: state.userModule.user,\n    board: state.boardModule.board\n  };\n}\n\nconst mapDispatchToProps = {\nonEditBoard,\nonSaveBoard\n};\n\nexport const Chat = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withRouter(_Chat));\n","import React from 'react';\nimport { Activities } from './activities.jsx';\n\nexport class SideNavRight extends React.Component {\n\n  componentDidMount = () => {\n  }\n\n \n closeNav  = () =>  {\n    document.getElementById(\"mySidenav\").style.width = \"0\";\n  }\n\n  render() {\n    const { activities } = this.props\n    return (\n    <div id=\"mySidenav\" className=\"sidenav\">\n\n      <div className=\"sidenav-header\">\n        <div className=\"board-menu-header-content\">\n        <h3 className=\"board-menu-header-title js-board-menu-title-text\">Menu</h3>\n    <a href=\"javascript:void(0)\" className=\"closebtn\" onClick={this.closeNav}>&times;</a>\n        </div>\n      \n      </div>\n    <hr className=\"board-menu-header-divider\"></hr>\n\n<section className=\"board-menu-content u-fancy-scrollbar js-board-menu-content-wrapper\">\n  \n\n                <Activities \n                  activities={activities}\n                  isInCardLocation={false} \n               />\n\n\n</section>\n  </div>\n)\n}\n}\n","import React, { useState } from 'react';\nimport { connect } from 'react-redux';\nimport { CardDetails } from '../pages/card-details.jsx';\nimport { Route } from 'react-router';\nimport { Loader } from '../cmps/loader.jsx';\nimport { ListPreview } from '../cmps/list-preview.jsx';\nimport { MainBoardHeader } from '../cmps/main-board-header.jsx';\nimport { ListAdd } from '../cmps/list-add.jsx';\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\nimport { SideNav } from '../cmps/sidenav.jsx';\nimport { Dashboard } from './Dashboard.jsx';\nimport { socketService } from '../services/socket.service.js';\nimport { eventBusService } from '../services/event-bus.service';\nimport { CardEdit } from '../cmps/CardEdit.jsx';\nimport $ from 'jquery';\nimport {Chat} from '../cmps/chat.jsx'\n\nimport {\n  loadBoard,\n  onAddBoard,\n  onRemoveBoard,\n  loadBoards,\n  onSaveBoard,\n  onEditBoard,\n  updateRecentBoard,\n} from '../store/board.actions.js';\n\nimport { isEmpty } from 'lodash';\nimport { SideNavRight } from '../cmps/sidenav-right.jsx';\nimport NaturalDragAnimation from 'natural-drag-animation-rbdnd'; //todo\n\nclass _BoardApp extends React.Component {\n  state = {\n    isMainBoard: true,\n    isCardClicked: false,\n    isDragged: false,\n    isCardEditOpen: false,\n    currCard: null,\n    elPos: null,\n    EditBtnsPosition: 'right',\n  };\n\n  componentWillUnmount() {\n    window.removeEventListener('mouseup', this.HandleDrop);\n    this.unlisten();\n  }\n\n  HandleDrop = () => {\n    this.setState({ isDragged: false });\n  };\n\n  componentWillMount() {\n    this.unlisten = this.props.history.listen((location) => {\n      const splittedPath = location.pathname.split('/');\n\n      const boardId = splittedPath[2];\n      if (!boardId || boardId === this.props.match.params.boardId) return;\n      this.props.updateRecentBoard(boardId);\n      this.onBoardChange(boardId);\n    });\n  }\n\n  removeEvent;\n\n  async componentDidMount() {\n    window.addEventListener('mouseup', this.HandleDrop);\n    try {\n      const { boardId } = this.props.match.params;\n      window.addEventListener('popstate', function () {\n        console.log('updateRecentBoard as changed');\n        console.log('this.props', this.props);\n        if (this.props) {\n          const { updateRecentBoard } = this.props;\n          if (updateRecentBoard) updateRecentBoard(boardId);\n        }\n      });\n\n      await this.loadBoard(boardId);\n\n      socketService.emit('SOCKET_EVENT_START_BOARD', boardId);\n      socketService.on('SOCKET_EVENT_ON_RELOAD_BOARD', this.props.loadBoard);\n\n      this.removeEvent = eventBusService.on('card-edit', ({ elPos, card }) => {\n        let distanseFromRight = $(window).width() - elPos.left + elPos.width;\n        console.log('distanse from right window , ', elPos, distanseFromRight);\n        if (distanseFromRight < 700) this.setState({ EditBtnsPosition: 'left' });\n        else this.setState({ EditBtnsPosition: 'right' });\n        this.setState({ isCardEditOpen: true, currCard: card, elPos });\n      });\n    } catch (err) {}\n  }\n\n  loadBoard = async (boardId) => {\n    await Promise.all([\n      this.props.loadBoard(boardId),\n      this.props.updateRecentBoard(boardId),\n      this.props.loadBoards(),\n    ]);\n  };\n\n  componentWillUnmount() {\n    socketService.off('SOCKET_EVENT_ON_RELOAD_BOARD');\n    socketService.terminate();\n    this.unlisten();\n  }\n\n  onBoardChange = (boardId) => {\n    this.props.loadBoard(boardId);\n  };\n\n  onRemoveBoard = (boardId) => {\n    this.props.onRemoveBoard(boardId);\n  };\n  onAddBoard = () => {\n    this.props.onAddBoard();\n  };\n\n  onCloseCardEdit = () => {\n    this.setState({ isCardEditOpen: false });\n  };\n  handleOnDragEnd = (result) => {\n    const { destination, source, draggableId } = result;\n    if (!result.destination) return;\n    const { lists } = this.props.board;\n    if (destination.droppableId != 'all-lists') {\n      const start = lists[source.droppableId];\n      const finish = lists[destination.droppableId];\n\n      if (start === finish) {\n        const cards = Array.from(start.cards);\n        const [reorderedItem] = cards.splice(source.index, 1);\n        cards.splice(destination.index, 0, reorderedItem);\n        this.props.board.lists[source.droppableId].cards = cards;\n      } else {\n        var itemsArr = this.updateElemDND(\n          start.cards,\n          finish.cards,\n          source,\n          destination\n        );\n        this.updateBoardDND(itemsArr, source, destination);\n      }\n    } else {\n      const items = Array.from(lists);\n      const [reorderedItem] = items.splice(source.index, 1);\n      items.splice(destination.index, 0, reorderedItem);\n      this.props.board.lists = items;\n      this.props.onEditBoard(this.props.board);\n    }\n  };\n\n  updateBoardDND = (itemsArr, src, des) => {\n    this.props.board.lists[src.droppableId].cards = itemsArr.srcItems;\n    this.props.board.lists[des.droppableId].cards = itemsArr.desItems;\n    this.props.onEditBoard(this.props.board);\n  };\n\n  updateElemDND = (srcItemsIn, desItemsIn, src, des) => {\n    const srcItems = Array.from(srcItemsIn);\n    const desItems = Array.from(desItemsIn);\n    const [reorderedItem] = srcItems.splice(src.index, 1);\n    desItems.splice(des.index, 0, reorderedItem);\n    return { srcItems, desItems };\n  };\n\n  onCardClicked = () => {\n    this.setState({ isCardClicked: true });\n  };\n\n  render() {\n    // console.log(this.props.board.activities);\n    const { board, onSaveBoard, boards, user } = this.props;\n    const {\n      isMainBoard,\n      isDragged,\n      currCard,\n      elPos,\n      isCardEditOpen,\n      EditBtnsPosition,\n    } = this.state;\n    if (!board) return <Loader />;\n    const {\n      board: { activities },\n    } = this.props;\n\n    return (\n      <>\n        <section className=\"main-board flex row\">\n          <SideNav boards={boards} isMainBoard={isMainBoard} user={user} />\n          <div className=\"layout-helper flex column\">\n            <MainBoardHeader\n              board={board}\n              onSaveBoard={onSaveBoard}\n              title={board.title}\n            />\n            <div className=\"board-content\">\n              <Route\n                path=\"/board/:boardId/:listId/:cardId\"\n                exact\n                component={CardDetails}\n              />\n              <Route path=\"/board/:boardId/dashboard\" component={Dashboard} />\n\n              <DragDropContext onDragEnd={this.handleOnDragEnd}>\n                <Droppable\n                  droppableId=\"all-lists\"\n                  direction=\"horizontal\"\n                  type=\"list\"\n                >\n                  {(provided) => (\n                    <ul\n                      className=\"lists-container clean-list flex row\"\n                      {...provided.droppableProps}\n                      ref={provided.innerRef}\n                      >\n                      {board.lists.map((currList, listIdx) => (\n                        <Draggable\n                          key={currList.id}\n                          draggableId={currList.id}\n                          index={listIdx}\n                        >\n                          {(provided) => (\n                            <li\n                              onMouseDown={async () => {\n                                await this.setState({ isDragged: true });\n                              }}\n                              className=\"list-wrapper\"\n                              ref={provided.innerRef}\n                              {...provided.draggableProps}\n                              {...provided.dragHandleProps}\n                              // onMouse={async () => {\n                              //   await this.setState({ isDragged: false })\n                              // }}\n                            >\n                              <ListPreview\n                                className={isDragged ? 'list-dragged' : ''}\n                                isDragged={isDragged}\n                                board={board}\n                                key={listIdx}\n                                listIdx={listIdx}\n                                currList={currList}\n                                onSaveBoard={onSaveBoard}\n                                handleOnDragEndCards={this.handleOnDragEndCards}\n                                onCardClicked={this.onCardClicked}\n                              />\n                            </li>\n                          )}\n                        </Draggable>\n                      ))}\n                      {provided.placeholder}\n                      <ListAdd board={board} onSaveBoard={onSaveBoard} />\n                    </ul>\n                  )}\n                </Droppable>\n              </DragDropContext>\n            </div>\n          </div>\n          <SideNavRight activities={activities} isInCardLocation={false} />\n          {isCardEditOpen && (\n            <CardEdit\n              board={board}\n              card={currCard}\n              EditBtnsPosition={EditBtnsPosition}\n              elPos={elPos}\n              onCloseCardEdit={this.onCloseCardEdit}\n            />\n          )}\n            <Chat/>\n\n        </section>\n      </>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    board: state.boardModule.board,\n    boards: state.boardModule.boards,\n    user: state.userModule.user,\n  };\n}\nconst mapDispatchToProps = {\n  loadBoard,\n  onRemoveBoard,\n  onEditBoard,\n  onAddBoard,\n  loadBoards,\n  onSaveBoard,\n  updateRecentBoard,\n};\n\nexport const BoardApp = connect(mapStateToProps, mapDispatchToProps)(_BoardApp);\n","import { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport { ReactComponent as HomepageLogo } from '../assets/img/logos/home-logo.svg'\n\nexport class LoginHeader extends Component {\n\n    state = {\n        isNavBgVisible: false\n    }\n\n    render() {\n\n        return (\n            <header className=\"login-header\">\n                <nav className=\"flex\">\n                    <div className=\"logo\">\n                        <HomepageLogo />\n                        Corollo\n                    </div>\n\n                </nav>\n            </header>\n        )\n    }\n}\n","import { userService } from \"../services/user.service.js\";\nimport { showErrorMsg } from '../services/event-bus.service.js'\nimport { socketService, SOCKET_EMIT_USER_WATCH, SOCKET_EVENT_USER_UPDATED } from \"../services/socket.service.js\";\n\nexport function loadUsers() {\n    return async dispatch => {\n        try {\n            dispatch({ type: 'LOADING_START' })\n            const users = await userService.getUsers()\n            dispatch({ type: 'SET_USERS', users })\n        } catch (err) {\n            console.log('UserActions: err in loadUsers', err)\n        } finally {\n            dispatch({ type: 'LOADING_DONE' })\n        }\n    }\n}\n\nexport function removeUser(userId) {\n    return async dispatch => {\n        try {\n            await userService.remove(userId)\n            dispatch({ type: 'REMOVE_USER', userId })\n        } catch (err) {\n            console.log('UserActions: err in removeUser', err)\n        }\n    }\n}\n\nexport function onLogin(credentials) {\n    return async (dispatch) => {\n        try {\n            const user = await userService.login(credentials)\n            console.log('user in onLogin',user);\n            console.log('credentials',credentials);\n            dispatch({\n                type: 'SET_USER',\n                user\n            })\n        } catch (err) {\n            showErrorMsg('Cannot login')\n            console.log('Cannot login', err)\n        }\n    }\n}\n\nexport function onGoogleLogin(tokenId) {\n    return async dispatch => {\n        try {\n            const user = await userService.googleLogin(tokenId)\n            dispatch({ type: 'SET_USER', user })\n            socketService.emit('user-watch', user._id)\n        } catch (err) {\n            console.log('UserActions: err in login', err)\n        }\n    }\n}\n\n\nexport function onSignup(credentials) {\n    return (dispatch) => {\n        userService.signup(credentials)\n            .then(user => {\n                dispatch({\n                    type: 'SET_USER',\n                    user\n                })\n            })\n            .catch(err => {\n                showErrorMsg('Cannot signup')\n                console.log('Cannot signup', err)\n            })\n\n    }\n}\n\nexport function onLogout() {\n    return (dispatch) => {\n        userService.logout()\n            .then(() => dispatch({\n                type: 'SET_USER',\n                user: null\n            }))\n            .catch(err => {\n                showErrorMsg('Cannot logout')\n                console.log('Cannot logout', err)\n            })\n    }\n}\n\nexport function loadAndWatchUser(userId) {\n    return async (dispatch) => {\n        try {\n            debugger\n            const user = await userService.getById(userId);\n            dispatch({ type: 'SET_WATCHED_USER', user })\n            socketService.emit(SOCKET_EMIT_USER_WATCH, userId)\n            socketService.off(SOCKET_EVENT_USER_UPDATED)\n            socketService.on(SOCKET_EVENT_USER_UPDATED, user => {\n                console.log('USER UPADTED FROM SOCKET');\n                dispatch({ type: 'SET_WATCHED_USER', user })\n            })\n        } catch (err) {\n            showErrorMsg('Cannot load user')\n            console.log('Cannot load user', err)\n        }\n    }\n}\n\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { withRouter } from 'react-router-dom'\nimport { onLogin, onSignup, onGoogleLogin, onLogout } from '../store/user.actions.js'\nimport { GoogleLogin } from 'react-google-login'\n\n\nexport class _LoginSignup extends React.Component {\n    state = {\n        credentials: {\n            username: '',\n            password: '',\n            fullname: '',\n            imgUrl: ''\n\n        },\n        isSignup: false\n    }\n    componentDidMount() {\n        const { isSignup } = this.props\n\n        this.setState({ isSignup })\n    }\n    clearState = () => {\n        const clearTemplate = {\n            credentials: {\n                username: '',\n                password: '',\n                fullname: ''\n            },\n            isSignup: false\n        }\n        this.setState({ clearTemplate })\n        const { user } = this.props\n        this.props.history.push('/')\n    }\n\n    handleChange = (ev) => {\n        const field = ev.target.name;\n        const value = ev.target.value;\n        this.setState({ credentials: { ...this.state.credentials, [field]: value } });\n    }\n\n    onLogin = (ev = null) => {\n        if (!this.state.credentials.username || !this.state.credentials.password) return;\n\n        if (ev) ev.preventDefault();\n        this.props.onLogin(this.state.credentials)\n\n        this.clearState()\n    }\n\n    onSignup = (ev = null) => {\n        if (!this.state.credentials.username || !this.state.credentials.password || !this.state.credentials.fullname) return;\n        if (ev) ev.preventDefault();\n        this.props.onSignup(this.state.credentials);\n        this.clearState()\n    }\n\n    toggleSignup = () => {\n        this.setState({ isSignup: !this.state.isSignup })\n    }\n    onSuccessGoogle = (res) => {\n        const { tokenId } = res\n        const { onGoogleLogin } = this.props\n        onGoogleLogin(tokenId)\n    }\n\n    onFailureGoogle = (res) => {\n        console.log('Login with google failed', res)\n    }\n\n\n    render() {\n        const { username, password, fullname } = this.state.credentials;\n        const { isSignup } = this.state;\n        return (\n            <div className=\"login-page\">\n                <p>\n                    <button href=\"#\" onClick={this.toggleSignup}>{!isSignup ? 'Signup' : 'Login'}</button>\n                </p>\n                {!isSignup && <form className=\"login-form\" onSubmit={this.onLogin}>\n                    <input\n                    className=\"username\"\n                        type=\"text\"\n                        name=\"username\"\n                        value={username}\n                        placeholder=\"Username\"\n                        onChange={this.handleChange}\n                        required\n                        autoFocus\n                    />\n                    <input\n                     className=\"password\"\n                        type=\"password\"\n                        name=\"password\"\n                        value={password}\n                        placeholder=\"Password\"\n                        onChange={this.handleChange}\n                        required\n                    />\n                    <button className=\"login-btn-in\">Login!</button>\n                </form>}\n\n                <p>OR</p>\n\n                <GoogleLogin\n                    className=\"google-login-btn flex align-center justify-center\"\n                    clientId='640315421255-e4mv3dirnt2lbm4ati92b1euclri0j8d.apps.googleusercontent.com'\n                    buttonText='Continue with Google'\n                    onSuccess={this.onSuccessGoogle}\n                    onFailure={this.onFailureGoogle}\n                    cookiePolicy={'single_host_origin'}\n                />\n\n                <div className=\"signup-section\">\n                    {isSignup && <form className=\"signup-form\" onSubmit={this.onSignup}>\n                        <input\n                            type=\"text\"\n                            name=\"fullname\"\n                            value={fullname}\n                            placeholder=\"Fullname\"\n                            onChange={this.handleChange}\n                            required\n                        />\n                        <input\n                            type=\"text\"\n                            name=\"username\"\n                            value={username}\n                            placeholder=\"Username\"\n                            onChange={this.handleChange}\n                            required\n                        />\n                        <input\n                            type=\"password\"\n                            name=\"password\"\n                            value={password}\n                            placeholder=\"Password\"\n                            onChange={this.handleChange}\n                            required\n                        />\n                        <button className=\"signup-btn\" >Signup!</button>\n                    </form>}\n                </div>\n            </div>\n        )\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n        loggedInUser: state.userModule.loggedInUser,\n        loginErr: state.userModule.loginErr\n    }\n}\n\n\nconst mapDispatchToProps = {\n    onLogin,\n    onSignup,\n    onGoogleLogin\n}\n\nexport const LoginSignup = connect(mapStateToProps, mapDispatchToProps)(withRouter(_LoginSignup))\n\n\n//export const LoginSignup = withRouter(_LoginSignup)","import React from 'react'\nimport { connect } from 'react-redux'\nimport { LoginHeader } from '../cmps/login-signup-header.jsx'\nimport { onLogin, onSignup, onGoogleLogin } from '../store/user.actions.js'\nimport { LoginSignup } from '../cmps/login-signup.jsx'\n\nclass _LoginSignupPage extends React.Component {\n    state = {\n        email: '',\n        isSignup: false\n    }\n    componentDidMount() {\n        const { loginSignup, email } = this.props.match.params;\n        this.setState({ email })\n        if (loginSignup === 'sign-up') {\n            this.setState({ isSignup: true })\n        }\n    }\n\n    render() {\n        const { isSignup } = this.state\n        return (\n            <section className=\"login-page-container\">\n                <header>\n                    <LoginHeader />\n                </header>\n                <main className=\"main-login-wrapper\">\n                    <div className=\"layout-twothirds-center account-form\">\n                        <LoginSignup onLogin={this.props.onLogin} onSignup={this.props.onSignup} onGoogleLogin={this.props.onGoogleLogin} user={this.props.user} isSignup={isSignup} />\n                    </div>\n                </main>\n                <div className=\"background\">\n\n                </div>\n\n            </section>\n        )\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n        user: state.userModule.user,\n        loggedInUser: state.userModule.loggedInUser,\n        // loginErr: state.userModule.loginErr\n    }\n}\n\n\nconst mapDispatchToProps = {\n    onLogin,\n    onSignup,\n    onGoogleLogin\n}\n\nexport const LoginSignupPage = connect(mapStateToProps, mapDispatchToProps)(_LoginSignupPage)","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgNotificBell(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    role: \"presentation\",\n    focusable: \"false\",\n    viewBox: \"0 0 24 24\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M12 2C11.4477 2 11 2.44772 11 3V3.078C10.2728 3.19668 9.65318 3.44603 9.1328 3.79295C8.39456 4.28511 7.91489 4.93416 7.60557 5.55279C7.29822 6.1675 7.14952 6.77011 7.07611 7.2106C7.039 7.43322 7.02007 7.62092 7.01035 7.75688C7.00549 7.82503 7.0029 7.88067 7.00153 7.92176C7.00085 7.94232 7.00046 7.95929 7.00025 7.9724L7.00005 7.98916L7.00001 7.99533L7 7.99786L7 7.99898C7 7.9995 7 8 8 8H7V11.723L4.14251 16.4855C3.95715 16.7944 3.95229 17.1792 4.1298 17.4927C4.30731 17.8062 4.63973 18 5 18H19C19.3603 18 19.6927 17.8062 19.8702 17.4927C20.0477 17.1792 20.0429 16.7944 19.8575 16.4855L17 11.723V8H16C17 8 17 7.9995 17 7.99898L17 7.99786L17 7.99533L17 7.98916L16.9997 7.9724C16.9995 7.95929 16.9992 7.94232 16.9985 7.92176C16.9971 7.88067 16.9945 7.82503 16.9896 7.75688C16.9799 7.62092 16.961 7.43322 16.9239 7.2106C16.8505 6.77011 16.7018 6.1675 16.3944 5.55279C16.0851 4.93416 15.6054 4.28511 14.8672 3.79295C14.3468 3.44603 13.7272 3.19668 13 3.078V3C13 2.44772 12.5523 2 12 2ZM9.00042 7.98839L9 8.00435V12C9 12.1812 8.95074 12.3591 8.85749 12.5145L6.76619 16H17.2338L15.1425 12.5145C15.0493 12.3591 15 12.1812 15 12V8.00436L14.9996 7.98839C14.999 7.97089 14.9977 7.9406 14.9947 7.89937C14.9888 7.81658 14.9765 7.69178 14.9511 7.5394C14.8995 7.22989 14.7982 6.8325 14.6056 6.44721C14.4149 6.06584 14.1446 5.71489 13.7578 5.45705C13.3773 5.20338 12.825 5 12 5C11.175 5 10.6227 5.20338 10.2422 5.45705C9.85544 5.71489 9.58511 6.06584 9.39443 6.44721C9.20178 6.8325 9.10048 7.22989 9.04889 7.5394C9.0235 7.69178 9.01118 7.81658 9.00527 7.89937C9.00233 7.9406 9.001 7.97089 9.00042 7.98839ZM14 19C14 20.1046 13.1046 21 12 21C10.8954 21 10 20.1046 10 19H14Z\",\n    fill: \"currentColor\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgNotificBell);\nexport default __webpack_public_path__ + \"static/media/notific-bell.6bbbe799.svg\";\nexport { ForwardRef as ReactComponent };","import { HomePage } from './pages/home-page.jsx'\nimport { AboutUs } from './pages/about-us.jsx'\nimport { Workspace } from './pages/workspace.jsx'\nimport { ChatApp } from './pages/chat-app.jsx'\nimport { BoardApp } from './pages/board-app.jsx'\n\nimport { LoginSignupPage } from './pages/login-page.jsx'\n\n// Routes accesible from the main navigation (in AppHeader)\nconst routes = [\n    {\n        path: '/',\n        component: HomePage,\n        label: 'Home 🏠',\n    },\n    {\n        path: '/workspace',\n        component: Workspace,\n        label: 'Workspace'\n    },\n    {\n        path: '/board/:boardId/:listId?/:cardId?',\n        component: BoardApp,\n        label: 'board'\n    },\n    {\n        path: '/log/:loginSignup?/:email?/',\n        component: LoginSignupPage,\n        label: 'login'\n    },\n    {\n        path: '/chat',\n        component: ChatApp,\n        label: 'Chat'\n    },\n    {\n        path: '/about',\n        component: AboutUs,\n        label: 'About us'\n    },\n\n]\n\nexport default routes;","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Link, NavLink } from 'react-router-dom'\nimport { ReactComponent as AddIcon } from '../assets/img/icons/add.svg'\nimport { ReactComponent as BellIcon } from '../assets/img/icons/notific-bell.svg'\nimport { openPopover } from '../store/popover.actions'\nimport { socketService } from \"../services/socket.service\";\nimport { onLogin, onLogout, onSignup, loadUsers, removeUser } from '../store/user.actions.js'\nimport { LoginSignup } from './login-signup.jsx'\nimport Logo from '../assets/img/logos/corollo.png'\n\n\n\nclass _AppHeader extends React.Component {\n\n    state = {\n        filterTxt: '',\n        currOpenModal: '',\n        isNewNotific: false,\n    }\n\n    componentDidMount() {\n        this.searchInput = React.createRef();\n        socketService.on('SOCKET_EVENT_ON_ADD_ACTIVITY', activity => {\n            this.setState({ isNewNotific: true })\n        })\n    }\n\n    handleChange = (ev) => {\n        const title = ev.target.name;\n        const value = ev.target.type\n    };\n\n    onOpenPopover = (ev, PopoverName) => {\n        //debugger\n        const elPos = ev.target.getBoundingClientRect();\n        const props = {\n            boards: this.props.boards,\n        };\n        this.props.openPopover(PopoverName, elPos, props);\n    };\n\n    render() {\n        const { isNewNotific } = this.state\n        var { isBoardStyle, openPopover, user } = this.props\n        const [name, lastname] = user ? user.fullname.split(' ') : ['', '']\n\n        if (!isBoardStyle) {\n            isBoardStyle = false;\n        }\n        return (\n            <section>\n                <div className={`main-header flex  ${!isBoardStyle ? 'in-board' : 'out-board'}`}>\n\n                    <button className=\"btn-header flex\" >\n                        <svg width=\"20\" height=\"20\" role=\"presentation\" focusable=\"false\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M4 5C4 4.44772 4.44772 4 5 4H7C7.55228 4 8 4.44772 8 5V7C8 7.55228 7.55228 8 7 8H5C4.44772 8 4 7.55228 4 7V5ZM4 11C4 10.4477 4.44772 10 5 10H7C7.55228 10 8 10.4477 8 11V13C8 13.5523 7.55228 14 7 14H5C4.44772 14 4 13.5523 4 13V11ZM11 4C10.4477 4 10 4.44772 10 5V7C10 7.55228 10.4477 8 11 8H13C13.5523 8 14 7.55228 14 7V5C14 4.44772 13.5523 4 13 4H11ZM10 11C10 10.4477 10.4477 10 11 10H13C13.5523 10 14 10.4477 14 11V13C14 13.5523 13.5523 14 13 14H11C10.4477 14 10 13.5523 10 13V11ZM17 4C16.4477 4 16 4.44772 16 5V7C16 7.55228 16.4477 8 17 8H19C19.5523 8 20 7.55228 20 7V5C20 4.44772 19.5523 4 19 4H17ZM16 11C16 10.4477 16.4477 10 17 10H19C19.5523 10 20 10.4477 20 11V13C20 13.5523 19.5523 14 19 14H17C16.4477 14 16 13.5523 16 13V11ZM5 16C4.44772 16 4 16.4477 4 17V19C4 19.5523 4.44772 20 5 20H7C7.55228 20 8 19.5523 8 19V17C8 16.4477 7.55228 16 7 16H5ZM10 17C10 16.4477 10.4477 16 11 16H13C13.5523 16 14 16.4477 14 17V19C14 19.5523 13.5523 20 13 20H11C10.4477 20 10 19.5523 10 19V17ZM17 16C16.4477 16 16 16.4477 16 17V19C16 19.5523 16.4477 20 17 20H19C19.5523 20 20 19.5523 20 19V17C20 16.4477 19.5523 16 19 16H17Z\" fill=\"currentColor\"></path></svg>\n                    </button>\n                    <div className=\"logo flex \">\n                        <Link to=\"/\">\n                            {/* <img className=\"main-logo\" src=\"https://a.trellocdn.com/prgb/dist/images/header-logo-spirit-loading.87e1af770a49ce8e84e3.gif\"></img> */}\n                           <img  className=\"main-logo\" src={Logo}/>\n                        </Link>\n                    </div>\n                    <div className=\"btn-header-container flex\">\n                        <Link to=\"/workspace\" className=\"btn-header clean-link\">\n                            {/* <HomeIcon /> */}\n                            <button className=\"btn-header flex\" onClick={() => {\n                            }}>\n                                {/* <BoardIcon /> */}\n                                <div className=\"txt-btn-wraper\">\n                                    Workspace\n                                    <svg width=\"16\" height=\"16\" role=\"presentation\" focusable=\"false\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M11.2929 16.7071L4.22185 9.63606C3.83132 9.24554 3.83132 8.61237 4.22185 8.22185C4.61237 7.83133 5.24554 7.83133 5.63606 8.22185L12 14.5858L18.364 8.22185C18.7545 7.83132 19.3877 7.83132 19.7782 8.22185C20.1687 8.61237 20.1687 9.24554 19.7782 9.63606L12.7071 16.7071C12.3166 17.0977 11.6834 17.0977 11.2929 16.7071Z\" fill=\"currentColor\"></path></svg>\n                                </div>\n                                {/* <ElementOverlay /> */}\n                            </button>\n                        </Link>\n                        <button className=\"btn-header flex\" onClick={(ev) => this.onOpenPopover(ev, 'RECENT_BOARDS')}>\n                            {/* <BoardIcon /> */}\n                            <div className=\"txt-btn-wraper\">\n                                Recent\n                                <svg width=\"16\" height=\"16\" role=\"presentation\" focusable=\"false\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M11.2929 16.7071L4.22185 9.63606C3.83132 9.24554 3.83132 8.61237 4.22185 8.22185C4.61237 7.83133 5.24554 7.83133 5.63606 8.22185L12 14.5858L18.364 8.22185C18.7545 7.83132 19.3877 7.83132 19.7782 8.22185C20.1687 8.61237 20.1687 9.24554 19.7782 9.63606L12.7071 16.7071C12.3166 17.0977 11.6834 17.0977 11.2929 16.7071Z\" fill=\"currentColor\"></path></svg>\n                            </div>\n                        </button>\n                        <button className=\"btn-header flex\" onClick={(ev) => this.onOpenPopover(ev, 'STARRED')}>\n                            <div className=\"txt-btn-wraper\">\n                                Starred\n                                <svg width=\"16\" height=\"16\" role=\"presentation\" focusable=\"false\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M11.2929 16.7071L4.22185 9.63606C3.83132 9.24554 3.83132 8.61237 4.22185 8.22185C4.61237 7.83133 5.24554 7.83133 5.63606 8.22185L12 14.5858L18.364 8.22185C18.7545 7.83132 19.3877 7.83132 19.7782 8.22185C20.1687 8.61237 20.1687 9.24554 19.7782 9.63606L12.7071 16.7071C12.3166 17.0977 11.6834 17.0977 11.2929 16.7071Z\" fill=\"currentColor\"></path></svg>\n                            </div>\n                        </button>\n                    <button className=\"btn-header-more flex\" onClick={(ev) => this.onOpenPopover(ev, 'MORE_OPTIONS')}>\n                            {/* <BoardIcon /> */}\n                            <div className=\"txt-btn-wraper\">\n                                More\n                                <svg width=\"16\" height=\"16\" role=\"presentation\" focusable=\"false\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M11.2929 16.7071L4.22185 9.63606C3.83132 9.24554 3.83132 8.61237 4.22185 8.22185C4.61237 7.83133 5.24554 7.83133 5.63606 8.22185L12 14.5858L18.364 8.22185C18.7545 7.83132 19.3877 7.83132 19.7782 8.22185C20.1687 8.61237 20.1687 9.24554 19.7782 9.63606L12.7071 16.7071C12.3166 17.0977 11.6834 17.0977 11.2929 16.7071Z\" fill=\"currentColor\"></path></svg>\n                            </div>\n                        </button>\n                        <button className=\"create-btn flex\" >\n                            <div className=\"txt-btn-wraper\" onClick={() => {\n                                openPopover('CREATE_BOARD')\n                            }}>\n                                <AddIcon/>\n                            </div>\n                        </button>\n                    </div>\n\n                    \n\n                    <div className=\"btn-header-container flex\" >\n                        <div className=\"search-input-container\" ref={this.searchInput} onClick={(ev) => {\n                            this.onOpenPopover(ev, 'SEARCH_HEADER')\n\n                        }}>\n                            <span className=\"sc-bdVaJa kBFJig\" role=\"img\" aria-label=\"SearchIcon\">\n                                <svg className=\"search-icon\" width=\"24\" height=\"24\" role=\"presentation\" focusable=\"false\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                                    <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M10.5 18C6.35786 18 3 14.6421 3 10.5C3 6.35786 6.35786 3 10.5 3C14.6421 3 18 6.35786 18 10.5C18 12.2269 17.4164 13.8175 16.4356 15.0852L20.3769 19.0953C20.764 19.4892 20.7586 20.1223 20.3647 20.5095C19.9708 20.8966 19.3376 20.8911 18.9505 20.4972L15.0129 16.4909C13.7572 17.4383 12.1942 18 10.5 18ZM16 10.5C16 13.5376 13.5376 16 10.5 16C7.46243 16 5 13.5376 5 10.5C5 7.46243 7.46243 5 10.5 5C13.5376 5 16 7.46243 16 10.5Z\" fill=\"currentColor\">\n                                    </path>\n                                </svg>\n                            </span>\n                            <input autoComplete=\"off\" autoCorrect=\"off\" spellCheck=\"false\" className=\"search-input-header\"\n                                data-test-id=\"header-search-input\" id=\"9lkgOKT6X4ViGFKUiWS6OBVxAsVyJLk2\" type=\"search\" placeholder=\"Search\" onChange={this.hndleChange} />\n                        </div>\n                        {/* <svg width=\"24\" height=\"24\" role=\"presentation\" focusable=\"false\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M10.5 18C6.35786 18 3 14.6421 3 10.5C3 6.35786 6.35786 3 10.5 3C14.6421 3 18 6.35786 18 10.5C18 12.2269 17.4164 13.8175 16.4356 15.0852L20.3769 19.0953C20.764 19.4892 20.7586 20.1223 20.3647 20.5095C19.9708 20.8966 19.3376 20.8911 18.9505 20.4972L15.0129 16.4909C13.7572 17.4383 12.1942 18 10.5 18ZM16 10.5C16 13.5376 13.5376 16 10.5 16C7.46243 16 5 13.5376 5 10.5C5 7.46243 7.46243 5 10.5 5C13.5376 5 16 7.46243 16 10.5Z\" fill=\"currentColor\"></path></svg> */}\n\n\n\n                        {/* <div> //todo\n                            <button className=\"btn-header wide-layout\" >\n                                <AddIcon />\n                            </button>\n                        </div> */}\n                        <div>\n                            <button className={`btn-header ${isNewNotific ? 'new-notific' : ''}`} >\n                                <BellIcon />\n                            </button>\n                        </div>\n                        {user && <button className=\"user-logo-in-app-header \" onClick={(ev) => {\n                            this.onOpenPopover(ev, 'USER')\n                        }}><div className=\"letter-logo-workspace-header\">\n                                {name[0]}{lastname[0]}\n                            </div>\n                        </button>}\n                    </div>\n                </div>\n            </section>\n        )\n    }\n\n}\n\n\n\nfunction mapStateToProps(state) {\n    return {\n        boards: state.boardModule.boards,\n        users: state.userModule.users,\n        user: state.userModule.user,\n        count: state.userModule.count,\n    }\n}\nconst mapDispatchToProps = {\n    onLogin,\n    onSignup,\n    onLogout,\n    loadUsers,\n    removeUser,\n    openPopover\n}\n\n\n\nexport const AppHeader = connect(mapStateToProps, mapDispatchToProps)(_AppHeader)","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABEoAAADCCAMAAABpNNd0AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAuhQTFRFAAAA////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////LuDs6gAAAPh0Uk5TAFWq/xw5jsZx4ww6UWJzhJWmt8fa6/DZwKuUfmdQIxNFd6j+cgcdT4Cx+sqRWSFJk+l0IBJh9s8uC1/bgh8ES/XEZQ0P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G4unul2CPWw8sB8ZjPs8GeG61FWthJWCYFL0XQnxqRniunMQoNPIATsiUWD/XBw4+af/w8z2qb28fvsthTtP+ibGxq2/fPGN/KmIrcRF9XDofx/6roT41Axx3TlUVbORs7/NCb61GcriH/z8WmKmb5yxLfORPR7cedI3MZaOeeDpa/OHIrYSF9XD0P994HWgBHSuqk4j1/B8yyhsbVqY9r9PztlUdg5e+783n7sqTC68vfbkmYsf/Zx7DYnTQ/4ciV5hqGZwHdo2SNytASWg51kL3cg1PN8yOlubNhx1/I1bmx8gvvrHj+1w0UuPzAuYRuvqbsyZ1o/V902MtZNfnfC6ew2J00P+HFWoPnHrlN/9buvGE6VsbXAd2jZI3K0BJaDnWVNu5BJVLP79/PufWHru+/cc88SS389USKB1dTfmzMB8sGfCACpU/3bMSRde+NHDPxRCddsGyacXggcsCdsW5WsICTM05kzd5sMQ1ZtH737wwuNepb4614u2mz6fXggesChsWfuaSCQr6WXt5nnztmx5AXV3cSltN30+vRA8YFHYOrSviURCnHr+z0kkEmCgVvL/PhYTQIusHeYAAAAASUVORK5CYII=\"","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { loadAndWatchUser } from '../store/user.actions'\n\nexport class _UserDetails extends Component {\n\n  async componentDidMount() {\n    this.props.loadAndWatchUser(this.props.match.params.id)\n  }\n\n  render() {\n    const { user } = this.props\n    return (\n      <section className=\"user-details\">\n        <h1>User Details</h1>\n        {user && <div>\n          <h3>\n            {user.fullname}\n          </h3>\n          <pre>\n            {JSON.stringify(user, null, 2)}\n          </pre>\n        </div>}\n      </section>\n    )\n  }\n}\n\n\n\nconst mapStateToProps = state => {\n  return {\n    user: state.userModule.watchedUser\n  }\n}\nconst mapDispatchToProps = {\n  loadAndWatchUser\n}\n\nexport const UserDetails = connect(mapStateToProps, mapDispatchToProps)(_UserDetails)\n","import CheckIcon from '@material-ui/icons/Check';\nimport EditIcon from '@material-ui/icons/Edit';\n\nexport function PopoverLabelPreview({ label, toggleLabel, isSelected, toggleEditMode, isFilterPreview }) {\n    return <li className=\"flex\">\n        {!isFilterPreview ?\n            <>\n                <div style={{ backgroundColor: label.color, color: 'white' }} name=\"label\"\n                    onClick={() => toggleLabel(label, 'labels')}\n                    className=\"label-pop-over-preview flex justify-space-between\">\n                    <span>{label.title}</span>\n                    {isSelected && <span className=\"icon-check\" >\n                        <CheckIcon style={{ width: '16px', height: '16px', color: 'white' }} />\n                    </span>}\n                </div>\n            </>\n            :\n            <div className=\"filter-label-preview flex align-center\"\n                onClick={() => toggleLabel(label, 'labels')}>\n                <span className=\"filter-label-color\" style={{ backgroundColor: label.color }} ></span>\n                <span className=\"\">{label.title}</span>\n                {isSelected && <i className=\"icon-check\" ><CheckIcon /> </i>}\n            </div>\n        }\n    </li>\n}","import CloseIcon from '@material-ui/icons/Close';\nimport { connect } from 'react-redux'\nimport { closePopover } from '../../store/popover.actions.js'\nimport { Component } from 'react'\nimport { boardService } from '../../services/board.service';\n// import { Popover } from '@material-ui/core';\n\nexport class _Popover extends Component {\n\n    state = {\n        top: null,\n        left: null,\n        isOpen: true\n    }\n\n    componentDidMount() \n    {\n        window.addEventListener('resize', () => {\n            if (window.innerWidth > 1000) return\n            this.onSetPopoverPos()\n        });\n        this.onSetPopoverPos()\n    }\n\n\n    componentDidUpdate(prevProps) {\n        if (this.props.elPos !== prevProps.elPos) {\n            this.onSetPopoverPos()\n        }\n    }\n\n\n    onSetPopoverPos = () => {\n        const { elPos, displayMode } = this.props\n        if (!this.selectedDiv) return\n        const elRect = this.selectedDiv.getBoundingClientRect()\n        let { left, top } = boardService.setPopoverPos(elPos, elRect)\n        if (displayMode === 'menu-popovers') {\n            top = 40;\n            left = window.innerWidth - elRect.width;\n        }\n\n        this.setState({ top, left })\n    }\n\n    handleClose = () => {\n        this.setState({isOpen : !this.state.isOpen})\n    }\n\n    render() {\n        const { children, title, closePopover, isOverlayOpen, overlay, displayMode } = this.props\n        const { top, left ,isOpen} = this.state\n\n        return <>\n            {overlay !== 'none' && isOverlayOpen && <div className=\"overlay\" onClick={closePopover} />}\n            <div className={`pop-over ${displayMode} `}\n                style={displayMode === 'menu' ? {} : { top: `${top}px`, left: `${left}px` }}\n                ref={(div) => { this.selectedDiv = div }} >\n                <div className={`pop-over-header ${displayMode} `}>\n                    <h3>{title}</h3>\n                    <button className=\"clean-btn\" onClick={closePopover}>\n                        <CloseIcon />\n                    </button>\n                </div>\n                <div className=\"pop-over-content\">\n                    {children}\n                </div>\n            </div>\n        </>\n\n    }\n}\n\n\nconst mapDispatchToProps = {\n    closePopover\n}\n\nfunction mapStateToProps(state) {\n    return {\n        isOverlayOpen: state.popoverModule.isOverlayOpen,\n        elPos: state.popoverModule.currPopover.elPos\n    }\n}\nexport const Popover = connect(mapStateToProps, mapDispatchToProps)(_Popover)","import CheckIcon from '@material-ui/icons/Check';\n// import { styles } from '@material-ui/pickers/views/Calendar/Calendar';\nimport {MoreHoriz} from '@material-ui/icons';\n\nexport function ColorPalette({ handleChange, selectedColor, count }) {\n\n    const colorCodes = [\n        '#60bd4f',\n        '#f2d600',\n        '#ff9e1a',\n        '#eb5a46',\n        '#c277e0',\n        '#0279bf',\n        '#52e898',\n        '#ff78cb',\n        '#334563',\n        '#b3bac5',\n\n    ]\n\n    function getStyles() {\n        const styles = colorCodes\n        return count ? styles.slice(0, count) : styles\n    }\n\n    return <div className=\"color-palette\">\n        {getStyles().map(colorCode => {\n            return <label key={colorCode} className=\"flex align-center justify-center\" style={{ background: colorCode }} name=\"label-color\" htmlFor={`color-${colorCode}`}>\n                <input type=\"radio\" name=\"color\" id={`color-${colorCode}`} value={colorCode} onClick={handleChange} />\n                {selectedColor === colorCode && <CheckIcon key={colorCode} style={{ width: '16px', height: '16px', color: 'white' }} />}\n            </label>\n        })}           \n        \n    </div>\n}","import { Component } from \"react\";\n\n\nimport { Popover } from './popover'\nimport { ColorPalette } from '../color-palette.jsx'\nexport class PopoverLabelEdit extends Component {\n\n    state = {\n        title: '',\n        color: ''\n    }\n\n    componentDidMount() {\n        this.setState({ title: this.props.labelToEdit?.title || '', color: this.props.labelToEdit?.color || '' })\n\n    }\n\n    handleChange = ({ target }) => {\n        const { name, value } = target\n        this.setState({ [name]: value })\n    }\n    onSaveLabel = () => {\n        if (!this.state.title || !this.state.color) return\n        this.props.saveLabel({ ...this.state, id: this.props.labelToEdit?.id || '' })\n        this.props.toggleEditMode()\n    }\n    onRemoveLabel = () => {\n        this.props.removeLabel(this.props.labelToEdit)\n        this.props.toggleEditMode()\n    }\n\n    render() {\n        const { title, color } = this.state\n        const { labelToEdit } = this.props\n\n        return <Popover\n            togglePopover={this.props.togglePopover}\n            title={labelToEdit.title ? 'Edit a label' : 'Create a label'}>\n            <div className=\"label-add-content\">\n                <label htmlFor=\"label-inout\">Name</label>\n                <input type=\"text\" name=\"title\" value={title} onChange={this.handleChange}\n                    className=\"pop-over-input\" />\n                <h4>Color</h4>\n                <ColorPalette handleChange={this.handleChange} selectedColor={color} />\n            </div>\n            <div className=\"flex justify-space-between\">\n                <button className=\"primary-btn\" onClick={this.onSaveLabel} >\n                    {labelToEdit.title ? 'Save' : 'Create'}\n                </button>\n                {labelToEdit.title && <button className=\"danger-btn\" onClick={this.onRemoveLabel}>\n                    Delete\n                </button>}\n            </div>\n        </Popover>\n    }\n}","import { Component } from \"react\"\nimport { PopoverLabelPreview } from \"./popover-label-preview\"\nimport { Popover } from './popover'\nimport { PopoverLabelEdit } from \"./popover-label-edit\"\nimport { onSaveBoard } from '../../store/board.actions.js'\nimport { connect } from 'react-redux'\nimport { boardService } from '../../services/board.service'\nimport { utilService } from \"../../services/util.service\";\n\nclass _PopoverLabels extends Component {\n\n    state = {\n        inputTxt: '',\n        presentedLabels: '',\n        labelToEdit: null,\n        isEditMode: false,\n    }\n\n    componentDidMount() {\n        this.setState({ presentedLabels: this.props.board.labels })\n\n    }\n\n    handleChange = ({ target }) => {\n        this.setState({ inputTxt: target.value })\n    }\n\n    get presentedLabels() {\n        const filterRegex = new RegExp(this.state.inputTxt, 'i')\n        return this.props.board.labels.filter(label => filterRegex.test(label.title))\n    }\n\n    toggleLabel = (label) => {\n        const { card, onSaveBoard, board } = this.props\n        const idx = card.labelIds.findIndex(labelId => labelId === label.id)\n        if (idx === -1) card.labelIds.push(label.id)\n        else card.labelIds.splice(idx, 1)\n        const updatedBoard = boardService.updateCardInBoard(board, card)\n        onSaveBoard(updatedBoard)\n    }\n\n    saveLabel = (labelToSave) => {\n        const { board, onSaveBoard } = this.props\n        if (labelToSave.id) {\n            const idx = board.labels.findIndex(label => label.id === labelToSave.id)\n            board.labels.splice(idx, 1, labelToSave)\n        }\n        else {\n            labelToSave.id = utilService.makeId()\n            board.labels.push(labelToSave)\n        }\n        onSaveBoard(board)\n    }\n\n    removeLabel = (labelToRemove) => {\n        const { board, onSaveBoard } = this.props\n        const idx = board.labels.findIndex(label => label.id === labelToRemove.id)\n        board.labels.splice(idx, 1)\n        onSaveBoard(board)\n    }\n\n    toggleEditMode = (label = null) => {\n        this.setState({ isEditMode: !this.state.isEditMode, labelToEdit: label })\n    }\n\n    isLabelInCard = (label) => {\n        return this.props.card.labelIds.some(labelId => labelId === label.id)\n    }\n    render() {\n        const { presentedLabels, inputTxt, isEditMode, labelToEdit } = this.state\n        if (!presentedLabels) return '';\n        return (<>\n            {isEditMode ?\n                <PopoverLabelEdit removeLabel={this.removeLabel}\n                    labelToEdit={labelToEdit} saveLabel={this.saveLabel} toggleEditMode={this.toggleEditMode} />\n                :\n                <Popover title={\"Labels\"} >\n                    <div className=\"labels-pop-over\">\n                        <input className=\"pop-over-input\" type=\"text\" value={inputTxt}\n                            onChange={this.handleChange} placeholder={\"Search Labels\"} />\n                        <h4>LABELS</h4>\n                        <ul className=\"clean-list\">\n\n                            {this.presentedLabels.map(label => <PopoverLabelPreview key={label.id} label={label}\n                                toggleLabel={this.toggleLabel} isSelected={this.isLabelInCard(label)}\n                                toggleEditMode={this.toggleEditMode} />)}\n                        </ul>\n                        <button className=\"secondary-btn\" onClick={this.toggleEditMode}>Create a new label</button>\n                    </div>\n                </Popover>\n            }\n        </>\n        )\n    }\n\n}\nfunction mapStateToProps(state) {\n    return {\n        board: state.boardModule.board,\n    }\n}\n\nconst mapDispatchToProps = {\n    onSaveBoard\n}\n\n\nexport const PopoverLabels = connect(mapStateToProps, mapDispatchToProps)(_PopoverLabels)\n","import { DatePicker, MuiPickersUtilsProvider } from '@material-ui/pickers';\nimport MomentUtils from '@date-io/moment';\nimport { boardService } from '../../services/board.service';\nimport { closePopover } from '../../store/popover.actions';\nimport { connect } from 'react-redux';\nimport { onSaveBoard } from '../../store/board.actions';\nimport React, { Component } from 'react';\nimport { Popover } from './popover';\nimport { activityService } from '../../services/activity.service';\n\nclass _PopoverDate extends Component {\n\n    state = {\n        date: null\n    }\n\n    componentDidMount() {\n\n        const date = this.props.card.dueDate ? new Date(this.props.card.dueDate).toLocaleString() : new Date()\n        this.setState({ date })\n    }\n\n\n    handleChange = (ev) => {\n        this.setState({ date: ev._d })\n    }\n\n    saveDueDate = (date) => {\n        const { card, onSaveBoard, closePopover, board } = this.props\n        const dueDateBefore = card.dueDate\n\n        card.dueDate = date ? Date.parse(date) : 0;\n        \n        let updatedBoard = boardService.updateCardInBoard(board, card)\n        if(dueDateBefore) {\n            if(card.dueDate) { updatedBoard = activityService.addActivityToBoard(updatedBoard, 'changed-duedate', new Date(card.dueDate).toLocaleString(), card) }\n            else { updatedBoard = activityService.addActivityToBoard(updatedBoard, 'removed', 'due date', card) }\n        }\n        onSaveBoard(updatedBoard)\n        closePopover()\n    }\n\n    onRemoveDate = () => {\n        this.saveDueDate(null)\n    }\n\n    render() {\n        const { date } = this.state\n        if (!date) return ''//loading\n        return <Popover title=\"Date\">\n            <div className=\"date-pop-over-content\">\n \n            <MuiPickersUtilsProvider utils={MomentUtils}>\n                    <DatePicker\n                        autoOk\n                        variant=\"static\"\n                        openTo=\"date\"\n                        value={date}\n                        onChange={this.handleChange}\n\n                    />\n                </MuiPickersUtilsProvider>\n\n                <div className=\"btn-container flex column\">\n                    <button className=\"primary-btn\" onClick={() => this.saveDueDate(date)} >Save</button>\n                    <button className=\"secondary-btn\" onClick={this.onRemoveDate}>Remove</button>\n                </div>\n            </div>\n\n        </Popover>\n    }\n}\nfunction mapStateToProps(state) {\n    return {\n        board: state.boardModule.board,\n        user: state.userModule.loggedInUser\n    }\n}\n\nconst mapDispatchToProps = {\n    onSaveBoard,\n    closePopover\n}\n\n\nexport const PopoverDate = connect(mapStateToProps, mapDispatchToProps)(_PopoverDate)\n","\nimport { ProfileAvatar } from '../profile-avatar';\nimport CheckIcon from '@material-ui/icons/Check';\n\nexport function PopoverMemberPreview({ member, toggleMember, isSelected }) {\n\n    return <li onClick={() => toggleMember(member, 'members')} className=\"member-pop-over-preview flex\">\n\n        <ProfileAvatar member={member} size={32} />\n        <span>{member.fullname}</span>\n        {isSelected && <span className=\"icon-check\" >\n            <CheckIcon style={{ width: '16px' }} />\n        </span>}\n    </li>\n}","import { Component } from 'react';\nimport { Popover } from './popover';\nimport { boardService } from '../../services/board.service'\nimport { PopoverMemberPreview } from './popover-member-preview'\nimport { onSaveBoard } from '../../store/board.actions.js';\nimport { connect } from 'react-redux'\nimport { socketService } from '../../services/socket.service'\nimport { onLogin, onSignup, onGoogleLogin } from '../../store/user.actions.js'\nimport { activityService } from '../../services/activity.service';\n\nclass _PopoverMembers extends Component {\n\n    state = {\n        inputTxt: '',\n        presentedMembers: '',\n    }\n\n    componentDidMount() {\n        this.setState({ presentedMembers: this.props.board.members })\n\n    }\n\n    handleChange = ({ target }) => {\n        this.setState({ inputTxt: target.value }, () => {\n            const filterRegex = new RegExp(this.state.inputTxt, 'i')\n            this.setState({ presentedMembers: this.props.board.members.filter(member => filterRegex.test(member.fullname)) })\n        })\n    }\n\n    toggleMember = (member) => {\n        const { card, board, loggedInUser } = this.props\n        if (!card.members) {\n            card.members = [];\n        }\n        const idx = card.members.findIndex(cardMember => cardMember._id === member._id)\n\n        if (idx === -1) {\n            card.members.push(member)\n        } else {\n            card.members.splice(idx, 1)\n        }\n        let updatedBoard = boardService.updateCardInBoard(board, card)\n        updatedBoard = activityService.addActivityToBoard(updatedBoard, (idx === -1) ? 'added' : 'removed', member.fullname, card)\n        this.props.onSaveBoard(updatedBoard)\n    }\n\n    isMemberInCard = (member) => {\n        const { members } = this.props.card;\n        return (members) ? members.some(cardMember => cardMember._id === member._id) : false\n    }\n    render() {\n        const { presentedMembers, inputTxt } = this.state\n        if (!presentedMembers) return '';\n        return <Popover title={\"Members\"} >\n            <div className=\"members-pop-over-content\">\n                <input className=\"pop-over-input\" type=\"text\" value={inputTxt}\n                    onChange={this.handleChange} placeholder={\"Search members\"} />\n                <h4>BOARD MEMBERS</h4>\n                <ul className=\"clean-list\">\n                    {presentedMembers && presentedMembers.map(member => <PopoverMemberPreview key={member._id} member={member}\n                        toggleMember={this.toggleMember} isSelected={this.isMemberInCard(member)} />)}\n                </ul>\n            </div>\n        </Popover>\n\n\n    }\n\n}\n\nfunction mapStateToProps(state) {\n    return {\n        board: state.boardModule.board,\n        loggedInUser: state.userModule.loggedInUser\n    }\n}\n\nconst mapDispatchToProps = {\n    onSaveBoard\n}\n\n\nexport const PopoverMembers = connect(mapStateToProps, mapDispatchToProps)(_PopoverMembers)\n\n","export const cloudinaryService = {\n    uploadFile\n}\nfunction uploadFile(ev) {\n    const CLOUD_NAME = 'plcrased'\n    const PRESET_NAME = 'suhu9tpl'\n    const UPLOAD_URL = `https://api.cloudinary.com/v1_1/${CLOUD_NAME}/auto/upload`;\n    const formData = new FormData();\n    formData.append('file', ev.target.files[0])\n    formData.append('upload_preset', PRESET_NAME);\n\n    return fetch(UPLOAD_URL, {\n        method: 'POST',\n        body: formData\n    })\n        .then(res => res.json())\n        .then(res => {\n            console.log(res)\n\n            return res\n        })\n        .catch(err => console.error(err))\n}  \n\n","import { Component } from 'react'\nimport { cloudinaryService } from '../services/cloudinary.service'\n\nexport class FileUpload extends Component {\n  state = {\n    fileUrl: null,\n    isUploading: false,\n  }\n  uploadFile = async (ev) => {\n    this.setState({ isUploading: true })\n\n    try{\n      const {secure_url} = await cloudinaryService.uploadFile(ev)\n      this.props.onFileUpload(secure_url)\n    }catch (err){\n    }\n    this.setState({ isUploading: false})\n  }\n  get uploadMsg() {\n    const { fileUrl, isUploading } = this.state\n    if (fileUrl) return 'File Uploaded'\n    return isUploading ? 'Uploading...' : 'Upload Image'\n  }\n  render() {\n    return (\n      <div className=\"upload-preview\" >\n        <input className=\"secondary-btn.full\" type=\"file\" onChange={ this.uploadFile } accept=\"img/*\" id=\"file-upload\" />\n      </div>\n    )\n  }\n}","import { Component } from 'react';\nimport { utilService } from '../../services/util.service';\nimport { ColorPalette } from '../color-palette';\nimport { Popover } from './popover';\nimport { boardService } from '../../services/board.service'\nimport { onSaveBoard } from '../../store/board.actions'\nimport { connect } from 'react-redux';\nimport { FileUpload } from '../file-upload';\n\nclass _PopoverCover extends Component {\n\n    state = {\n        bgColor: this.props.card.style?.bgColor || '',\n        coverMode: this.props.card.style?.coverMode || null,\n        bgImgUrl: this.props.card.style?.bgImgUrl || '',\n    }\n    componentDidMount() {\n        this.setState({})\n    }\n\n    saveCover = ({ bgImgUrl, bgColor, coverMode }) => {\n        const { card, onSaveBoard, board } = this.props\n        card.style = {\n            coverMode,\n            bgImgUrl,\n            bgColor,\n        }\n        const updatedBoard = boardService.updateCardInBoard(board, card)\n\n        //todo\n        onSaveBoard(updatedBoard)\n    }\n\n\n\n    onFileUpload = (fileUrl) => {\n        this.setState({ bgImgUrl: fileUrl, bgColor: '', coverMode: 'full' })\n        this.onSaveCover()\n    }\n\n    handleChange = ({ target }) => {\n        let { coverMode } = this.state\n        if (!coverMode) coverMode = 'header';\n        this.setState({ bgColor: target.value, bgImgUrl: '', coverMode: coverMode }, this.onSaveCover)\n    }\n\n    onRemoveCover = () => {\n        this.setState({ bgColor: '', coverMode: '', bgImgUrl: '' }, this.onSaveCover)\n        // this.props.removeCoverBg()\n    }\n\n    onSetMode = (mode) => {\n        this.setState({ coverMode: mode }, this.onSaveCover)\n    }\n\n    onSaveCover = () => {\n        const { bgColor, bgImgUrl, coverMode } = this.state\n        if ((coverMode && bgImgUrl) || (coverMode && bgColor) || (!coverMode && !bgColor && !bgImgUrl)) this.saveCover(this.state)\n        else return\n    }\n\n\n\n    render() {\n        const { bgColor, coverMode, bgImgUrl } = this.state\n        return <Popover title=\"Cover\">\n            <div className=\"cover-pop-over-content\">\n                <h4>SIZE</h4>\n                <div className=\"cover-options flex justify-space-between align-center\">\n                    <div className={`header-cover-preview ${coverMode === 'header' ? 'selected' : ''}`} onClick={() => this.onSetMode('header')} >\n                        <div className=\"header-section\" style={{ backgroundColor: bgColor ? bgColor : '#5e6c844d' }}></div>\n                    </div>\n                    <div className={`full-cover-preview ${coverMode === 'full' ? 'selected' : ''}`} onClick={() => this.onSetMode('full')} style={{ backgroundColor: bgColor ? bgColor : '#5e6c844d' }}> </div>\n                </div>\n                {(bgColor || bgImgUrl) && <div className=\"flex\">\n                    <button className=\"secondary-btn full\" onClick={this.onRemoveCover}>Remove Cover</button>\n                </div>}\n                <h4>COLOR</h4>\n                <ColorPalette selectedColor={bgColor} handleChange={this.handleChange} />\n                <h4>ATTACHMENTS</h4>\n                <FileUpload onFileUpload={this.onFileUpload} />\n            </div>\n        </Popover>\n    }\n}\nconst mapDispatchToProps = {\n    onSaveBoard,\n}\nfunction mapStateToProps(state) {\n    return {\n        board: state.boardModule.board\n    }\n}\n\n\nexport const PopoverCover = connect(mapStateToProps, mapDispatchToProps)(_PopoverCover)","import Axios from 'axios'\n\n\nconst API_KEY = 'ZK0e9-HAhaTYuESu2zGuWRV-TT9fdamCnsRKiElNcwE'\n\nexport const unSplashService = {\n    getInitialImgs,\n    searchImgs\n}\n\nasync function query(keyword = 'random', quantity = 30, start) {\n    const res = await Axios.get(`https://api.unsplash.com/search/photos?query=${keyword}?&page=${start}&per_page=${quantity}}&client_id=${API_KEY}`)\n    return res.data\n}\n\nasync function getInitialImgs() {\n    const { results } = await query();\n    return Promise.resolve(\n        results.map(img => {\n            return { id: img.id, small: img.urls.small, full: img.urls.full }\n        })\n    )\n}\n\nasync function searchImgs(keyword) {\n    const { results } = await query(keyword);\n    return Promise.resolve(\n        results.map(img => {\n            return { id: img.id, small: img.urls.small, full: img.urls.full }\n        })\n    )\n}","import { Component } from 'react'\nimport { unSplashService } from '../services/unsplash.service'\nimport{Loader} from '../cmps/loader.jsx'\nimport InfiniteScroll from 'react-infinite-scroll-component';\n\nexport class ImagePalette extends Component {\n\n    state = {\n        imgs: [],\n        keyword: ''\n    }\n\n    componentDidMount() {\n        this.fetchImages()\n    }\n\n    loadImgs = async () => {\n        try {\n            const imgs = await unSplashService.getInitialImgs()\n            \n            this.setState({ imgs : imgs})\n        } catch (err) {\n            console.log(err)\n        }\n    }\n\n    handleChange = ({ target }) => {\n        const { value } = target\n        this.setState({ keyword: value }, () => {\n            if (value.length >= 3) this.onSearch()\n            else if (value.length === 0) this.loadImgs()\n        })\n    }\n\n    onSearch = async () => {\n        try {\n            const imgs = await unSplashService.searchImgs(this.state.keyword)\n            this.setState({ imgs })\n        } catch (err) {\n            console.log(err)\n        }\n    }\n\n    fetchImages = async () => {\n        const { count, start,keyword } = this.state;\n        this.setState({ start: this.state.start++});\n        const imgs = await unSplashService.getInitialImgs(keyword,count,start)\n\n         \n        this.setState({ imgs: this.state.imgs.concat(imgs) })\n        \n      };\n\n    render() {\n        const { imgs, keyword } = this.state\n        const { handleChange } = this.props\n        console.log('images', imgs);\n\n        if (!imgs) return <Loader/>\n\n             return       <div className=\"image-palette\"\n             id=\"scrollableDiv\"\n             style={{\n               overflowY: 'auto',\n               overflowX:'auto',\n               \n   \n             }}\n             >\n            <div className=\"image-palette-search\">\n                <span className=\"search-icon\"></span>\n                <input type=\"text\" className=\"search-input\" value={keyword}\n                    onChange={this.handleChange} onKeyDown={this.handleChange} />\n            </div>\n  \n\n\n            <div className=\"images\">\n                {imgs.map(img => {\n                    return <label\n                        key={img.id}\n                        name=\"label-img\"\n                        className=\"flex align-center justify-center\"\n                        style={{ backgroundImage: `url(${img.small})` }}\n                        htmlFor={`img-${img.id}`}>\n                        <input type=\"radio\" name=\"color\" id={`img-${img.id}`} value={img.full}\n                            onClick={handleChange} />\n                    </label>\n                })}\n            </div>\n\n  \n        </div>\n    }\n}\n\n","import { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { ScreenOverlay } from '../screen-overlay';\nimport { ColorPalette } from '../color-palette';\nimport { closePopover } from '../../store/popover.actions';\nimport { onSaveBoard } from '../../store/board.actions';\nimport { withRouter } from 'react-router-dom';\nimport { ImagePalette } from '../image-palette.jsx';\nimport { openPopover } from '../../store/popover.actions.js';\nimport { MoreHoriz, ThreeSixtyOutlined } from '@material-ui/icons';\nimport { Button, Hidden } from '@material-ui/core';\n\nimport { Popover } from '@material-ui/core';\n// import {CloseIcon} from '@material-ui/icons';\n\nclass _PopoverCreateBoard extends Component {\n  state = {\n    title: '',\n    color: '',\n    isOpen: false,\n  };\n\n  handleClick = (ev) => {\n    this.setState({ isOpen: true });\n  };\n\n  handleClose = (ev) => {\n    this.setState({ isOpen: false });\n  };\n\n  componentDidMount() {\n    this.setState({ color: '#0079bf' });\n  }\n\n  handleChange = ({ target }) => {\n    \n    const { name, value } = target;\n    console.log('name + value', name , value);\n    this.setState({ [name]: value });\n  };\n\n  onOpenPopover = (ev, PopoverName, isNew) => {\n    const elPos = ev.target.getBoundingClientRect();\n    console.log('board', this.props.board);\n    const props = {\n      handleChange: this.handleChange,\n      color: this.state.color,\n    };\n    this.props.openPopover(PopoverName, elPos, props, isNew);\n  };\n  onCreateBoard = async () => {\n    const { title, color } = this.state;\n    const { loggedInUser, onSaveBoard, closePopover } = this.props;\n    const boardToSave = {\n      createdBy: loggedInUser,\n      title: title,\n      createdAt: Date.now(),\n      createdBy: {\n        _id: '',\n        fullname: '',\n        imgUrl: '',\n      },\n      style: {\n        background: color,\n      },\n      labels: [],\n      members: [],\n      lists: [],\n      activities: [],\n    };\n    try {\n      await onSaveBoard(boardToSave);\n      if (this.props.board)\n        this.props.history.push(`/board/${this.props.board._id}`);\n      closePopover();\n    } catch (err) {}\n  };\n\n  render() {\n    const { title, color, isOpen } = this.state;\n    const { closePopover } = this.props;\n    return (\n      <ScreenOverlay goBack={closePopover} styleMode=\"darken\">\n        <div className=\"create-board-popover\">\n          <div className=\"create-board-preview flex align-center\">\n            <div\n              className=\"board-preview\"\n              style={{\n                backgroundColor: color,\n                backgroundImage: 'url(' + color + ')',\n                backgroundSize: 'cover',\n                backgroundPosition: 'center center',\n              }}\n            >\n              <input\n                type=\"text\"\n                name=\"title\"\n                value={title}\n                onChange={this.handleChange}\n                placeholder=\"Add board title\"\n              />\n            </div>\n            <div className=\"create-preview-colors\">\n                <ColorPalette\n                  count={6}\n                  onOpenPopover={this.onOpenPopover}\n                  handleChange={this.handleChange}\n                  selectedColor={color}\n                />\n\n                <div className=\"image-palette\">\n     \n              <a\n                ref={(div) => {\n                  this.selectedDiv = div;\n                }}\n                className=\"add-image-box\"\n                variant=\"contained\"\n                onClick={this.handleClick}\n              >\n                <MoreHoriz />\n              </a>\n              </div>\n            </div>\n          </div>\n          <button\n            className={`primary-btn ${title ? '' : 'disabled'}`}\n            onClick={this.onCreateBoard}\n          >\n            Create board\n          </button>\n        </div>\n\n        {/* material ui popover.. allow the user add another photos and coloros */}\n        <Popover\n          className=\"pop-over1\"\n          anchorEl={this.selectedDiv}\n          open={isOpen}\n          anchorReference = 'none'\n          onClose={this.handleClose}\n\n        >\n          <ImagePalette  \n\n                handleChange={this.handleChange}\n              />\n        </Popover>\n      </ScreenOverlay>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    loggedInUser: state.userModule.loggedInUser,\n    board: state.boardModule.board,\n  };\n}\n\nconst mapDispatchToProps = {\n  closePopover,\n  onSaveBoard,\n  openPopover,\n};\n\nexport const PopoverCreateBoard = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withRouter(_PopoverCreateBoard));\n","\nimport { connect } from 'react-redux';\nimport { utilService } from '../../services/util.service';\nimport { Component } from 'react';\nimport { boardService } from '../../services/board.service';\nimport { closePopover } from '../../store/popover.actions';\nimport { onSaveBoard } from \"../../store/board.actions\";\nimport { Popover } from './popover';\n\nclass _PopoverChecklist extends Component {\n\n    state = {\n        title: ''\n    }\n\n    handlechange = ({ target }) => {\n        this.setState({ title: target.value })\n    }\n\n    addChecklist = (ev) => {\n        ev.preventDefault()\n        const { card, onSaveBoard, board } = this.props\n        if (!card.checklists) card.checklists = []\n        const checklist = {\n            id: utilService.makeId(),\n            title: this.state.title,\n            todos: []\n        }\n        card.checklists.push(checklist)\n        const updatedBoard = boardService.updateCardInBoard(board, card)\n\n        //todo\n        onSaveBoard(updatedBoard)\n        this.props.closePopover()\n\n    }\n\n    render() {\n        return <Popover title={\"Add A Checklist\"}>\n            <div className=\"checklist-pop-over-content\">\n                <form onSubmit={this.addChecklist}>\n                    <label htmlFor=\"checklist-input\" className=\"pop-over-label\">Title</label>\n                    <input className=\"pop-over-input\" id=\"checklist-input\" type=\"text\" value={this.state.title} onChange={this.handlechange} placeholder=\"Enter a title...\" autoFocus />\n                    <button className=\"primary-btn wide-btn\">Add</button>\n                </form>\n            </div>\n        </Popover>\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n        board: state.boardModule.board,\n        loggedInUser: state.userModule.loggedInUser\n    }\n}\n\nconst mapDispatchToProps = {\n    onSaveBoard,\n    closePopover\n}\n\nexport const PopoverChecklist = connect(mapStateToProps, mapDispatchToProps)(_PopoverChecklist)\n\n","\nimport { connect } from 'react-redux';\nimport { Component } from 'react';\nimport { closePopover } from '../../store/popover.actions';\nimport { onSaveBoard, loadBoard, loadBoards } from \"../../store/board.actions\";\nimport { Popover } from './popover';\nimport { Link, NavLink } from 'react-router-dom'\nimport { } from '../../store/board.actions'\n\nclass _PopoverStarred extends Component {\n\n    componentDidMount() {\n        this.props.loadBoards()\n    }\n\n    render() {\n        const { boards } = this.props\n        const starredBoards = boards.filter((board) => {\n            return board.star === true\n        })\n        return <Popover title={\"Starred boards\"}>\n            <div className=\"Starred-pop-over-content\">\n                <ul className=\"board-list-navbar\">\n                    {starredBoards.map((board) => {\n                        return (\n                            <Link to={`/board/${board._id}`} key={board._id} className=\"clean-link\">\n                                <div className=\"nav-bar-btns flex row\">\n                                    <li className=\"board-preview-navbar\" key={board._id} style={board.style && {\n                                        backgroundImage: \"url(\" + board.style.background + \")\",\n                                        backgroundRepeat: 'no-repeat',\n                                        backgroundAttachment: 'fixed',\n                                        backgroundPosition: 'center'\n                                    }}>\n\n                                    </li>\n\n                                    <h4 className=\"nav-bar-btns-name\">{board.title}</h4>\n                                </div>\n                            </Link>\n                        );\n                    })}\n                </ul>\n            </div>\n        </Popover>\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n\n        boards: state.boardModule.boards,\n        board: state.boardModule.board,\n        loggedInUser: state.userModule.loggedInUser\n    }\n}\n\nconst mapDispatchToProps = {\n    onSaveBoard,\n    loadBoard,\n    loadBoards,\n    closePopover\n}\n\n\nexport const PopoverStarred = connect(mapStateToProps, mapDispatchToProps)(_PopoverStarred)\n\n","\nimport { connect } from 'react-redux';\nimport { utilService } from '../../services/util.service';\nimport { Component } from 'react';\nimport { boardService } from '../../services/board.service';\nimport { closePopover } from '../../store/popover.actions';\nimport { onSaveBoard, loadRecentBoards } from \"../../store/board.actions\";\nimport { Popover } from './popover';\nimport { Link, NavLink } from 'react-router-dom'\nclass _PopoverRecentBoard extends Component {\n\n    componentDidMount() {\n        this.props.loadRecentBoards()\n    }\n    render() {\n        const { recentBoards } = this.props\n        return <Popover title={\"Recent boards\"}>\n            <div className=\"recent-pop-over-content\">\n                <ul className=\"board-list-navbar\">\n                    {recentBoards && recentBoards.length > 0 && recentBoards.map((board) => {\n                        return (\n                            board && <Link to={`/board/${board._id}`} key={board._id} className=\"clean-link\">\n                                <div className=\"nav-bar-btns flex row\">\n                                    <li className=\"board-preview-navbar\" key={board._id} style={board.style && {\n                                        backgroundImage: \"url(\" + board.style.background + \")\",\n                                        backgroundRepeat: 'no-repeat',\n                                        backgroundAttachment: 'fixed',\n                                        backgroundPosition: 'center'\n                                    }}>\n                                    </li>\n                                    <h4 className=\"nav-bar-btns-name\">{board.title}</h4>\n                                </div>\n                            </Link>\n                        );\n                    })}\n                </ul>\n            </div>\n        </Popover>\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n        recentBoards: state.boardModule.recentBoards,\n    }\n}\n\nconst mapDispatchToProps = {\n    closePopover,\n    loadRecentBoards\n}\n\n\nexport const PopoverRecentBoard = connect(mapStateToProps, mapDispatchToProps)(_PopoverRecentBoard)\n\n","\nimport { connect } from 'react-redux';\nimport { utilService } from '../../services/util.service';\nimport { Component } from 'react';\nimport { boardService } from '../../services/board.service';\nimport { closePopover } from '../../store/popover.actions';\nimport { onSaveBoard } from \"../../store/board.actions\";\nimport { Popover } from './popover';\nimport { onLogin, onSignup, onGoogleLogin, onLogout } from '../../store/user.actions.js'\nclass _PopoverUser extends Component {\n\n    state = {\n        title: ''\n    }\n\n    handlechange = ({ target }) => {\n        this.setState({ title: target.value })\n    }\n\n    addChecklist = (ev) => {\n        ev.preventDefault()\n        const { card, onSaveBoard, board } = this.props\n        if (!card.checklists) card.checklists = []\n        const checklist = {\n            id: utilService.makeId(),\n            title: this.state.title,\n            todos: []\n        }\n        card.checklists.push(checklist)\n        const updatedBoard = boardService.updateCardInBoard(board, card)\n\n        //todo\n        onSaveBoard(updatedBoard)\n        this.props.closePopover()\n    }\n\n    render() {\n        return <Popover title={\"Account\"}>\n            {/* <hr /> */}\n\n            <button className=\"logout-btn-user-popover btn\" onClick={() => {\n                this.props.onLogout()\n                this.props.closePopover()\n            }}>Log out</button>\n        </Popover>\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n        board: state.boardModule.board,\n        loggedInUser: state.userModule.loggedInUser,\n        loginErr: state.userModule.loginErr\n    }\n}\n\nconst mapDispatchToProps = {\n    onLogin,\n    onSignup,\n    onGoogleLogin,\n    onSaveBoard,\n    closePopover,\n    onLogout\n}\n\n\nexport const PopoverUser = connect(mapStateToProps, mapDispatchToProps)(_PopoverUser)\n\n","import { Component } from \"react\"\nimport { FileUpload } from \"../file-upload\"\nimport { Popover } from \"./popover\"\n\nexport class PopoverAttachment extends Component {\n\n    state = {\n        file: null,\n        link: null,\n        formData: null,\n        linkTxt: '',\n    }\n\n    handleChange = ({ target }) => {\n        this.setState({ linkTxt: target.value })\n    }\n\n    onAttachLink = (ev) => {\n        ev.preventDefault()\n        if (!this.state.linkTxt) return\n        this.props.addFile(this.state.linkTxt)\n    }\n\n    onFileUpload = (fileUrl) => {\n        this.props.addFile(fileUrl)\n    }\n\n    render() {\n        const { inputTxt } = this.state\n        return <Popover title=\"Attach from...\">\n            <div className=\"attach-pop-over-content\">\n                <FileUpload onFileUpload={this.onFileUpload} />\n                <form onSubmit={this.onAttachLink}>\n                    <label className=\"pop-over-label\" htmlFor=\"attach-input\">Attach a link</label>\n                    <input type=\"text\" className=\"pop-over-input\" value={inputTxt} id=\"attach-input\"\n                        onChange={this.handleChange} placeholder=\"Attach any link here...\" />\n                    <button className=\"primary-btn btn-wide\">Attach</button>\n                </form>\n            </div>\n        </Popover>\n    }\n}","\nimport { connect } from 'react-redux';\nimport { utilService } from '../../services/util.service';\nimport { Component } from 'react';\nimport { boardService } from '../../services/board.service';\nimport { closePopover } from '../../store/popover.actions';\nimport { onSaveBoard, loadRecentBoards } from \"../../store/board.actions\";\nimport { Popover } from './popover';\nimport { Link, NavLink } from 'react-router-dom'\nclass _PopoverSearchAppheader extends Component {\n    componentDidMount() {\n        this.props.loadRecentBoards()\n    }\n    render() {\n        const { boards } = this.props\n        const { recentBoards } = this.props\n        return <Popover>\n            <div className=\"recent-pop-over-content\">\n                <ul className=\"board-list-navbar\">\n                    {recentBoards && recentBoards.length > 0 && recentBoards.map((board) => {\n                        return (\n                            board && <Link to={`/board/${board._id}`} key={board._id} className=\"clean-link\">\n                                <div className=\"nav-bar-btns flex row\">\n                                    <li className=\"board-preview-navbar\" key={board._id} style={board.style && {\n                                        backgroundImage: \"url(\" + board.style.background + \")\",\n                                        backgroundRepeat: 'no-repeat',\n                                        backgroundAttachment: 'fixed',\n                                        backgroundPosition: 'center'\n                                    }}>\n                                    </li>\n                                    <h4 className=\"nav-bar-btns-name\">{board.title}</h4>\n                                </div>\n                            </Link>\n                        );\n                    })}\n                </ul>\n            </div>\n        </Popover>\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n        recentBoards: state.boardModule.recentBoards,\n        boards: state.boardModule.boards,\n    }\n}\n\nconst mapDispatchToProps = {\n    closePopover,\n    loadRecentBoards\n}\n\nexport const PopoverSearchAppheader = connect(mapStateToProps, mapDispatchToProps)(_PopoverSearchAppheader)\n\n","import { Component } from \"react\";\nimport { Popover } from \"./popover\";\n\nexport class PopoverList extends Component {\n\n    onArchiveList = () => {\n        const { currList, onSaveBoard, board, closePopover } = this.props\n        currList.isArchived = true;\n        board.lists = board.lists.filter((list => list.id !== currList.id))\n        onSaveBoard(board)\n        closePopover()\n    }\n\n    render() {\n        return <Popover title=\"List actions\">\n            <ul className=\"list-actions clean-list\">\n                <li onClick={this.onArchiveList}>Archive</li>\n            </ul>\n        </Popover>\n    }\n}\n","import { Component } from 'react';\nimport { Popover } from './popover';\nimport { boardService } from '../../services/board.service'\nimport { PopoverMemberPreview } from './popover-member-preview'\nimport { onSaveBoard } from '../../store/board.actions.js';\nimport { connect } from 'react-redux'\nimport { socketService } from '../../services/socket.service'\nimport { onLogin, onSignup, onGoogleLogin } from '../../store/user.actions.js'\nimport { ColorPalette } from \"../color-palette\";\n\n\nclass _PopoverImagePicker extends Component {\n\n    render() {\n        const { handleChange, color } = this.props;\n        return <Popover title={\"image picker\"} >\n            <ColorPalette count={12} isGradient={false} handleChange={handleChange} selectedColor={color} />\n        </Popover>\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n        board: state.boardModule.board,\n        loggedInUser: state.userModule.loggedInUser\n    }\n}\n\nconst mapDispatchToProps = {\n    onSaveBoard\n}\n\nexport const PopoverImagePicker = connect(mapStateToProps, mapDispatchToProps)(_PopoverImagePicker)\n\n","\nimport { Component } from 'react';\nimport { Popover } from './popover';\nimport { Link, NavLink } from 'react-router-dom'\nimport { openPopover } from '../../store/popover.actions';\n\nexport class PopoverMoreOptions extends Component {\n\n\n  onOpenPopover = (ev, PopoverName) => {\n    \n    //debugger\n    const elPos = ev.target.getBoundingClientRect();\n    const props = {\n        boards: this.props.boards,\n    };\n    openPopover(PopoverName, elPos, props);\n};\n\n\n    render() {\n        return <Popover title={\"More options\"}>\n\n<div>\n\n          <Link>\n                                <button className=\" flex\" onClick={() => {\n                            }}>\n                                {/* <BoardIcon /> */}\n                                <div className=\"txt-btn-wraper\">\n                                    Workspace\n                                    <svg width=\"16\" height=\"16\" role=\"presentation\" focusable=\"false\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M11.2929 16.7071L4.22185 9.63606C3.83132 9.24554 3.83132 8.61237 4.22185 8.22185C4.61237 7.83133 5.24554 7.83133 5.63606 8.22185L12 14.5858L18.364 8.22185C18.7545 7.83132 19.3877 7.83132 19.7782 8.22185C20.1687 8.61237 20.1687 9.24554 19.7782 9.63606L12.7071 16.7071C12.3166 17.0977 11.6834 17.0977 11.2929 16.7071Z\" fill=\"currentColor\"></path></svg>\n                                </div>\n                                {/* <ElementOverlay /> */}\n                            </button>\n                        </Link>\n                        <button className=\" flex\" onClick={(ev) => this.onOpenPopover(ev, 'RECENT_BOARDS')}>\n                            {/* <BoardIcon /> */}\n                            <div className=\"txt-btn-wraper\">\n                                Recent\n                                <svg width=\"16\" height=\"16\" role=\"presentation\" focusable=\"false\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M11.2929 16.7071L4.22185 9.63606C3.83132 9.24554 3.83132 8.61237 4.22185 8.22185C4.61237 7.83133 5.24554 7.83133 5.63606 8.22185L12 14.5858L18.364 8.22185C18.7545 7.83132 19.3877 7.83132 19.7782 8.22185C20.1687 8.61237 20.1687 9.24554 19.7782 9.63606L12.7071 16.7071C12.3166 17.0977 11.6834 17.0977 11.2929 16.7071Z\" fill=\"currentColor\"></path></svg>\n                            </div>\n                        </button>\n                        <button className=\" flex\" onClick={(ev) => this.onOpenPopover(ev, 'STARRED')}>\n                            <div className=\"txt-btn-wraper\">\n                                Starred\n                                <svg width=\"16\" height=\"16\" role=\"presentation\" focusable=\"false\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M11.2929 16.7071L4.22185 9.63606C3.83132 9.24554 3.83132 8.61237 4.22185 8.22185C4.61237 7.83133 5.24554 7.83133 5.63606 8.22185L12 14.5858L18.364 8.22185C18.7545 7.83132 19.3877 7.83132 19.7782 8.22185C20.1687 8.61237 20.1687 9.24554 19.7782 9.63606L12.7071 16.7071C12.3166 17.0977 11.6834 17.0977 11.2929 16.7071Z\" fill=\"currentColor\"></path></svg>\n                            </div>\n                        </button>\n\n</div>\n \n        </Popover>\n    }\n}\n\n\n\n\n","\n\nimport { PopoverLabels } from \"../popover/popover-labels.jsx\";\nimport { PopoverDate } from \"./popover-date.jsx\";\nimport { PopoverMembers } from \"../popover/popover-members.jsx\";\nimport { connect } from 'react-redux'\nimport { PopoverCover } from '../popover/popover-cover.jsx'\nimport { PopoverCreateBoard } from '../popover/popover-create-board.jsx'\nimport { PopoverChecklist } from '../popover/popover-checklist.jsx'\nimport { PopoverStarred } from \"./popover-starred.jsx\";\nimport { PopoverRecentBoard } from \"./popover-recent-board.jsx\";\nimport { PopoverUser } from \"./popover-user.jsx\";\nimport { PopoverAttachment } from './popover-attachment.jsx'\nimport { PopoverSearchAppheader } from \"./popover-search-appheader.jsx\";\nimport { PopoverList } from './popover-list.jsx'\nimport { PopoverImagePicker } from './popover-image-picker.jsx'\nimport {PopoverMoreOptions} from './popover-more.jsx'\n \n\nfunction _DynamicPopover({ currPopover }) {\n\n  const { name, props, isNewPop } = currPopover\n\n//   if(isNewPop) {\n//     console.log('is new pop!!!!');\n \n//     return <section>\n//  <PopoverCreateBoard {...props}\n//  />\n// <PopoverImagePicker {...props}/>\n//     </section>  \n\n//   }\n\n  switch (name) {\n    //card popovers\n    case 'LABELS': return <PopoverLabels {...props} />; \n    case 'MORE_OPTIONS': return <PopoverMoreOptions {...props}/> \n    case 'DATE': return <PopoverDate {...props} />;\n    case 'MEMBERS': return <PopoverMembers {...props} />; \n    case 'COVER': return <PopoverCover {...props} />; \n    case 'CREATE_BOARD': return <PopoverCreateBoard {...props} />; \n    case 'CHECKLIST': return <PopoverChecklist {...props} />; \n    case 'LIST_OPTIONS': return <PopoverList {...props} />; \n    // case 'IMAGE_PICKER': return <PopoverImagePicker {...props}/>\n    //this is headers popovers\n    case 'STARRED': return <PopoverStarred {...props} />; \n    case 'RECENT_BOARDS': return <PopoverRecentBoard {...props} />;\n    case 'USER': return <PopoverUser {...props} />; \n    case 'ATTACHMENT': return <PopoverAttachment {...props} />;\n    case 'SEARCH_HEADER': return <PopoverSearchAppheader {...props} />;\n\n    default: return '';\n  }\n}\n\n\n\n\nfunction mapStateToProps(state) {\n  return {\n    isOverlayOpen: state.popoverModule.isOverlayOpen,\n    currPopover: state.popoverModule.currPopover\n  }\n}\n\nexport const DynamicPopover = connect(mapStateToProps, null)(_DynamicPopover)","import React from 'react'\n\n// const { Switch, Route } = ReactRouterDOM\nimport { Switch, Route, withRouter } from 'react-router'\n\nimport routes from './routes'\nimport { connect } from 'react-redux';\nimport { AppHeader } from './cmps/app-header'\nimport { UserDetails } from './pages/user-details'\nimport { DynamicPopover } from './cmps/popover/dynamic-popover.jsx'\nimport { socketService } from './services/socket.service.js';\n\nclass _RootCmp extends React.Component {\n\n    async componentDidMount() {\n        try {\n            socketService.setup()\n        } catch (err) {\n            console.log(err)\n        }\n    }\n\n    get isHeaderAppears() {\n        const { pathname } = this.props.location\n        return (pathname.includes('/board') || pathname.includes('workspace'))\n    }\n\n\n    get style() {\n        const { board, location } = this.props\n        if (!location.pathname.includes('/board')) return {}\n        const style = board ? {\n            backgroundImage: \"url(\" + board.style.background + \")\",\n            backgroundColor: board.style.background,\n            backgroundSize: 'cover',\n            height: '100vh',\n            overflow: 'hidden',\n            backgroundPosition: '50%',\n        } : {\n            background: \"ffff\",\n            height: '100vh',\n\n\n        }\n\n        return style\n    }\n\n\n\n\n    render() {\n        const { board, location } = this.props\n        return (\n            <div style={this.style}>\n                {this.isHeaderAppears && <header>\n                    <AppHeader board={board} isBoardStyle={location.pathname.includes('/board')} />\n                </header>}\n                <main>\n                    <Switch>\n                        {routes.map(route => <Route key={route.path} exact component={route.component} path={route.path} />)}\n                        <Route path=\"/user/:id\" component={UserDetails} />\n                    </Switch>\n                    <DynamicPopover />\n                </main>\n            </div>\n        )\n    }\n}\nfunction mapStateToProps(state) {\n    return {\n        board: state.boardModule.board,\n        currPopover: state.popoverModule.currPopover,\n    }\n}\n\nconst mapDispatchToProps = {\n\n}\n\nconst _RootCmpWithRoute = withRouter(_RootCmp)\nexport const RootCmp = connect(mapStateToProps, mapDispatchToProps)(_RootCmpWithRoute)\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom'\nimport { Provider } from 'react-redux'\n\nimport {store} from './store/store'\nimport {RootCmp} from './root-cmp';\nimport './assets/styles/main.scss';\n\n\n\nReactDOM.render(\n<React.StrictMode>\n    <Provider store={store}>\n      <Router>\n        <RootCmp />\n      </Router>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}