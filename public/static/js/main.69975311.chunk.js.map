{"version":3,"sources":["store/board.reducer.js","services/async-storage.service.js","services/http.service.js","services/socket.service.js","services/user.service.js","store/user.reducer.js","store/popover.reducer.js","store/store.js","assets/img/logos/home-logo.svg","assets/img/board.png","assets/img/logo.png","cmps/home-header.jsx","store/popover.actions.js","pages/home-page.jsx","pages/about-us.jsx","services/util.service.js","services/board.service.js","services/event-bus.service.js","store/board.actions.js","assets/img/icons/star.svg","cmps/star.jsx","cmps/board-preview.jsx","cmps/sidenav.jsx","cmps/workspace-header.jsx","cmps/workspace-nav-bar.jsx","cmps/search-nav-bar.jsx","pages/workspace.jsx","assets/img/loader.svg","pages/chat-app.jsx","assets/img/cmps/card-details/icon-members.svg","cmps/loader.jsx","assets/img/cmps/card-details/icon-checklists.svg","assets/img/cmps/card-details/icon-labels.svg","assets/img/cmps/card-details/icon-cover.svg","assets/img/cmps/card-details/icon-attachment.svg","assets/img/cmps/card-details/icon-dates.svg","services/activity.service.js","cmps/card-details/card-details-actions.jsx","assets/img/icons/add.svg","cmps/card-details/card-details-labels.jsx","cmps/card-details/card-details-dates.jsx","assets/img/cmps/card-details/icon-description.svg","cmps/card-details/card-details-discription.jsx","cmps/screen-overlay.jsx","cmps/profile-avatar.jsx","cmps/card-details/card-details-members.jsx","cmps/card-details/card-details-cover.jsx","cmps/card-details/card-details-checklist-item.jsx","assets/img/cmps/card-details/icon-checklist.svg","cmps/card-details/progress-bar.jsx","assets/img/cmps/card-details/icon-header.svg","cmps/card-details/card-details-checklist.jsx","cmps/card-details/card-details-checklists.jsx","assets/img/icons/icon-activity.svg","cmps/activity-preview.jsx","cmps/activities-list.jsx","assets/img/icons/paperclip-solid.svg","cmps/activities.jsx","cmps/card-details/card-attachments.jsx","pages/card-details.jsx","cmps/card-add.jsx","cmps/card-preview/card-preview-labels.jsx","cmps/card-preview/due-date-display.jsx","cmps/card-preview/card-preview-checklist.jsx","cmps/single-card.jsx","cmps/card-preview/card-preview.jsx","cmps/list-preview.jsx","cmps/nav-bar-board.jsx","cmps/main-board-header.jsx","cmps/list-add.jsx","cmps/sidenav-right.jsx","pages/board-app.jsx","cmps/login-signup-header.jsx","store/user.actions.js","cmps/login-signup.jsx","pages/login-page.jsx","assets/img/icons/notific-bell.svg","routes.js","cmps/app-header.jsx","assets/img/logos/corollo.png","pages/user-details.jsx","cmps/popover/popover-label-preview.jsx","cmps/popover/popover.jsx","cmps/color-palette.jsx","cmps/popover/popover-label-edit.jsx","cmps/popover/popover-labels.jsx","cmps/popover/popover-date.jsx","cmps/popover/popover-member-preview.jsx","cmps/popover/popover-members.jsx","services/cloudinary.service.js","cmps/file-upload.jsx","cmps/popover/popover-cover.jsx","cmps/image-palette.jsx","cmps/popover/popover-create-board.jsx","cmps/popover/popover-checklist.jsx","cmps/popover/popover-starred.jsx","cmps/popover/popover-recent-board.jsx","cmps/popover/popover-user.jsx","cmps/popover/popover-attachment.jsx","cmps/popover/popover-search-appheader.jsx","cmps/popover/popover-list.jsx","cmps/popover/popover-image-picker.jsx","cmps/popover/dynamic-popover.jsx","root-cmp.jsx","index.js"],"names":["initialState","boards","board","recentBoards","lastRemoveBoard","isLabelesOpend","storageService","query","get","entityType","entityId","then","entities","find","entity","_id","post","newEntity","push","_save","put","updatedEntity","idx","findIndex","splice","remove","postMany","newEntities","map","_makeId","delay","JSON","parse","localStorage","getItem","Promise","resolve","reject","setTimeout","setItem","stringify","length","text","possible","i","charAt","Math","floor","random","BASE_URL","axios","Axios","create","withCredentials","httpService","endpoint","data","ajax","a","method","url","params","res","response","status","sessionStorage","clear","window","location","assign","SOCKET_EVENT_USER_UPDATED","socketService","socket","setup","io","on","eventName","cb","off","removeAllListeners","emit","terminate","createSocketService","STORAGE_KEY_LOGGEDIN_USER","gWatchedUser","userService","login","logout","signup","getLoggedinUser","getUsers","getById","update","changeScore","userId","user","userCred","_saveLocalUser","score","removeItem","by","Error","addEventListener","freshUsers","watchedUser","u","count","users","currPopover","elPos","name","props","isNewPop","isBackScreen","_linearGradient","_g","rootReducer","combineReducers","boardModule","state","action","newState","type","boardId","filter","labelsMode","boardState","console","log","userModule","diff","popoverModule","popoverName","isOverlayOpen","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","_excluded","_extends","Object","target","arguments","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgHomeLogo","_ref","svgRef","title","titleId","role","alt","height","viewBox","width","className","xmlns","xmlnsXlink","ref","id","x1","x2","y1","y2","offset","stopColor","fill","fillRule","d","ForwardRef","HomeHeader","isNavBgVisible","onOpenPopover","ev","PopoverName","getBoundingClientRect","openPopover","handleScroll","pageYOffset","setState","removeEventListener","guest","fullname","split","lastname","to","onClick","Component","dispatch","closePopover","_HomePage","email","handleChange","preventDefault","value","placeholder","onChange","history","src","React","mapDispatchToProps","HomePage","connect","currPopoverName","FancyBox","style","float","onClose","children","Contacts","backgroundColor","Projects","useState","projs","setProjs","projList","proj","stopPropagation","p","transitionName","transitionEnterTimeout","transitionLeaveTimeout","Date","now","SplitPane","setWidth","display","left","flex","right","AboutUs","onTellMeMore","clearInterval","interval","toLocaleString","MyErrorBoundary","error","errorInfo","whiteSpace","toString","componentStack","utilService","makeId","txt","makeLorem","size","words","getRandomIntInclusive","min","max","ceil","ms","RECEBT_BOARDS_KEY","listeners","boardService","queryRecentBoards","saveRecentBoards","save","subscribe","listener","removeCard","card","lists","forEach","list","cards","some","boardCard","getEmptyBoard","createdAt","createdBy","imgUrl","labels","members","activities","updateCardInBoard","updateCard","addCardToBoard","listId","addCard","listIdx","currList","setPopoverPos","pos","elRect","top","viewportWidth","innerWidth","viewportHeight","innerHeight","filterBy","getByIdRecentBoards","cs","_notifySubscribersBoardsChanged","eventBusService","callListener","detail","dispatchEvent","CustomEvent","showUserMsg","showSuccessMsg","showErrorMsg","loadBoards","catch","err","loadRecentBoards","onSaveBoard","savedBoard","loadBoard","updateRecentBoard","onRemoveBoard","getState","onAddBoard","onEditBoard","boardToSave","myBus","Star","isStarred","star","focusable","clipRule","BoardPreview","isNewBoard","activeIndex","handleStarred","index","class","backgroundImage","background","backgroundRepeat","backgroundPosition","backgroundSize","lineheight","padding","position","textDecoration","SideNav","isOpen","isboardView","toggleMenu","document","querySelector","classList","toggle","isMainBoard","username","backgroundAttachment","WorkspaceHeader","WorkspaceNavBar","SearchNavBar","field","onSelectSort","sortByRecentlyUsed","sortByLeastRecentlyUsed","sortByAlfaBet_A_Z","sortByAlfaBet_Z_A","sort","b","recentBoardInsert","onSetFilter","onSelect","onFilter","htmlFor","onSubmit","_Workspace","boardsToShow","toUpperCase","includes","isWorkSpace","_style","_line","_line2","_line3","Workspace","_ChatApp","msg","msgs","topic","isBotMode","addMsg","newMsg","prevState","sendBotResponse","timeout","clearTimeout","from","changeTopic","sendMsg","loggedInUser","msgHandleChange","checked","autoComplete","ChatApp","SvgLoader","Loader","SvgIconMembers","preserveAspectRatio","transform","stroke","SvgIconChecklists","SvgIconLabels","SvgIconCover","_g2","_g3","_g4","_g5","_g6","_g7","_g8","_g9","_g10","_g11","_g12","_g13","_g14","_g15","_g16","SvgIconAttachment","x","y","enableBackground","xmlSpace","SvgIconDates","activityService","addActivityToBoard","activityType","savedActivity","byMember","cardData","createActivity","unshift","_CardDetailsActions","addFile","fileUrl","attachs","attach","fileName","updatedBoard","_path","CardDetailsActions","SvgAdd","CardDetailsLabels","label","color","DueDateDisplay","isChecked","dueDateDone","defaultChecked","dueDate","SvgIconDescription","Description","isOnEditState","description","onSaveDescription","goBackToCard","keyCode","autoFocus","onKeyDown","onBlur","dir","ScreenOverlay","goBack","styleMode","ProfileAvatar","onlineUsers","member","showStatus","StyledBadge","withStyles","theme","badge","toFixed","boxShadow","palette","paper","borderRadius","animation","border","content","opacity","Badge","onClickAvatar","overlap","anchorOrigin","vertical","horizontal","variant","onlineUserId","Avatar","styles","avatarStyles","word","join","CardDetailsMembers","CardDetailsCover","bgImgUrl","bgColor","getBackground","CardChecklistItem","checklistItem","onSaveChecklistItem","onAddingListItem","todo","onBoxChecked","updateTodoCheckedBox","ProgressBar","fillerStyles","activeColor","doneColor","completed","prevProps","finished","borderTopRightRadius","borderBottomRightRadius","SvgIconChecklist","CardChecklist","doneTodos","percentComplite","checklist","complite","todos","onSaveChecklist","todoId","todoIdx","onEditlistItem","counter","totTodo","onDeleteChecklist","itemIdx","CardChecklists","checklists","checklistIdx","currChecklist","onSaveCardChecklists","SvgIconHeader","ActivityPreview","activity","activityLocation","isInCardLocation","activityShowMsg","ActivitiesList","SvgIconActivity","Activities","cardActivities","currActivity","suitedActivities","SvgPaperclipSolid","CardAttachments","onDeleteCardAttachment","rel","href","_CardDetails","setLocalState","cardId","attachId","currAttach","onSaveCard","onSaveCardFromActions","goBackToBoard","match","cardLabels","labelIds","reduce","acc","labelId","coverMode","CardDetails","CardAdd","titleTxt","onAddCard","comments","textArea","focus","toggleCardAdd","TextareaAutosize","onMouseDown","_CardPreviewLabel","toggleLabelsMode","setLabelsMode","CardPreviewLabel","_DueDateDisplay","dueDateFormat","currYear","getFullYear","year","month","day","getDueStatus","dueStatus","onToggleCardDone","toggleCardDone","displayType","dueMsg","CardPreviewChecklist","todosCount","doneTodosCount","todosMap","_Card","isChecklistsEmpty","every","isEditMode","borderTopLeftRadius","minHeight","cardTitle","cardStyles","getCardHeaderStyles","Card","CardPreview","isDragged","_ListPreview","isAddToggeld","handleOnDragEnd","result","handleOnDragEndCards","toggleEdit","onSaveTitle","MoreHoriz","droppableId","provided","droppableProps","innerRef","currCard","cardIdx","draggableId","draggableProps","dragHandleProps","onDrag","onCardClicked","ListPreview","_NavBarBoard","openNav","getElementById","onSaveBoardName","unlisten","listen","pathname","NavBarBoard","withRouter","_MainBoardHeader","MainBoardHeader","ListAdd","isToggled","onAddList","toggleListAdd","SideNavRight","componentDidMount","closeNav","_BoardApp","isCardClicked","HandleDrop","all","onBoardChange","destination","start","finish","Array","reorderedItem","itemsArr","updateElemDND","updateBoardDND","items","des","srcItems","desItems","srcItemsIn","desItemsIn","path","exact","component","onDragEnd","direction","BoardApp","LoginHeader","onLogin","credentials","onGoogleLogin","tokenId","googleLogin","onSignup","onLogout","_LoginSignup","password","isSignup","clearState","clearTemplate","toggleSignup","required","LoginSignup","loginErr","_LoginSignupPage","loginSignup","routes","SvgNotificBell","_AppHeader","filterTxt","currOpenModal","isNewNotific","searchInput","createRef","isBoardStyle","autoCorrect","spellCheck","hndleChange","loadUsers","removeUser","AppHeader","_UserDetails","loadAndWatchUser","UserDetails","PopoverLabelPreview","toggleLabel","isSelected","isFilterPreview","toggleEditMode","_Popover","onSetPopoverPos","displayMode","selectedDiv","handleClose","overlay","div","Popover","ColorPalette","selectedColor","colorCodes","slice","getStyles","colorCode","PopoverLabelEdit","onSaveLabel","saveLabel","labelToEdit","onRemoveLabel","removeLabel","togglePopover","_PopoverLabels","inputTxt","presentedLabels","labelToSave","labelToRemove","isLabelInCard","filterRegex","RegExp","test","PopoverLabels","_PopoverDate","date","_d","saveDueDate","dueDateBefore","onRemoveDate","utils","MomentUtils","DatePicker","autoOk","openTo","PopoverDate","PopoverMemberPreview","toggleMember","_PopoverMembers","presentedMembers","cardMember","isMemberInCard","PopoverMembers","cloudinaryService","uploadFile","UPLOAD_URL","formData","FormData","append","files","fetch","body","json","FileUpload","isUploading","secure_url","onFileUpload","accept","_PopoverCover","saveCover","onSaveCover","onRemoveCover","onSetMode","mode","PopoverCover","ImagePalette","urls","imageUrl","_PopoverCreateBoard","handleClick","isNew","onCreateBoard","anchorEl","open","PopoverCreateBoard","_PopoverChecklist","handlechange","addChecklist","PopoverChecklist","_PopoverStarred","starredBoards","PopoverStarred","_PopoverRecentBoard","PopoverRecentBoard","_PopoverUser","PopoverUser","PopoverAttachment","file","link","linkTxt","onAttachLink","_PopoverSearchAppheader","PopoverSearchAppheader","PopoverList","onArchiveList","isArchived","_PopoverImagePicker","isGradient","DynamicPopover","_RootCmp","overflow","isHeaderAppears","route","_RootCmpWithRoute","RootCmp","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.69975311.chunk.js","sourcesContent":["import { act } from \"react-dom/test-utils\"\r\n\r\nconst initialState = {\r\n    boards: [],\r\n    board: null,\r\n    recentBoards: [],\r\n    lastRemoveBoard: null,\r\n    isLabelesOpend: false,\r\n\r\n}\r\nexport function boardReducer(state = initialState, action) {\r\n\r\n    var newState = state\r\n    var boards\r\n    var recentBoards\r\n\r\n    switch (action.type) {\r\n        case 'SET_BOARDS':\r\n            newState = { ...state, boards: action.boards }\r\n            break\r\n        case 'SET_RECENT_BOARDS':\r\n            newState = { ...state, recentBoards: action.recentBoards }\r\n            break\r\n\r\n        case 'UPDATE_RECENT_BOARDS':\r\n            recentBoards = state.recentBoards\r\n            recentBoards.push(action.board)\r\n            newState = { ...state, recentBoards: recentBoards }\r\n            break\r\n        case 'SET_BOARD':\r\n            newState = { ...state, board: action.board }\r\n            break\r\n        case 'REMOVE_BOARD':\r\n            const lastRemoveBoard = state.boards.find(board => board._id === action.boardId)\r\n            boards = state.boards.filter(board => board._id !== action.boardId)\r\n            newState = { ...state, boards, lastRemoveBoard }\r\n            break\r\n        case 'ADD_BOARD':\r\n            newState = { ...state, boards: [...state.boards, action.board] }\r\n            break\r\n        case 'UPDATE_BOARD':\r\n            boards = state.boards.map(board => (board._id === action.board._id) ? action.board : board)\r\n            newState = { ...state, boards }\r\n            break\r\n        case 'SET_LABELS_MODE':\r\n            newState = { ...state, isLabelesOpend: action.labelsMode }\r\n            break;\r\n        case 'UNDO_REMOVE_BOARD':\r\n            if (state.lastRemoveBoard) {\r\n                newState = { ...state, boards: [...state.boards, state.lastRemoveBoard], lastRemoveBoard: null }\r\n            }\r\n            break\r\n        case 'SAVE_BOARD':\r\n            newState = { ...state, board: { ...action.board } }\r\n            break;\r\n        default:\r\n    }\r\n    // For debug:\r\n    window.boardState = newState\r\n    console.log('Prev State:', state)\r\n    console.log('Action:', action)\r\n    console.log('New State:', newState)\r\n    return newState\r\n\r\n}\r\n","\r\nexport const storageService = {\r\n    query,\r\n    get,\r\n    post,\r\n    put,\r\n    remove,\r\n    postMany\r\n}\r\n\r\nfunction query(entityType, delay = 1200) {\r\n    var entities = JSON.parse(localStorage.getItem(entityType)) || []\r\n    return new Promise((resolve, reject) => {\r\n        setTimeout(() => {\r\n            resolve(entities)\r\n        }, delay)\r\n    })\r\n}\r\n\r\n\r\nfunction get(entityType, entityId) {\r\n    return query(entityType)\r\n        .then(entities => {\r\n            return entities.find(entity => {\r\n                return entity._id === entityId\r\n            })\r\n        })\r\n}\r\nfunction post(entityType, newEntity) {\r\n    return query(entityType)\r\n        .then(entities => {\r\n            entities.push(newEntity)\r\n            _save(entityType, entities)\r\n            return newEntity\r\n        })\r\n}\r\n\r\nfunction put(entityType, updatedEntity) {\r\n    return query(entityType)\r\n        .then(entities => {\r\n            const idx = entities.findIndex(entity => entity._id === updatedEntity._id)\r\n            entities.splice(idx, 1, updatedEntity)\r\n            _save(entityType, entities)\r\n            return updatedEntity\r\n        })\r\n}\r\n\r\nfunction remove(entityType, entityId) {\r\n    return query(entityType)\r\n        .then(entities => {\r\n            const idx = entities.findIndex(entity => entity._id === entityId)\r\n            entities.splice(idx, 1)\r\n            _save(entityType, entities)\r\n        })\r\n}\r\n\r\nfunction _save(entityType, entities) {\r\n    localStorage.setItem(entityType, JSON.stringify(entities))\r\n}\r\n\r\nfunction _makeId(length = 5) {\r\n    var text = ''\r\n    var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'\r\n    for (var i = 0; i < length; i++) {\r\n        text += possible.charAt(Math.floor(Math.random() * possible.length))\r\n    }\r\n    return text\r\n}\r\n\r\nfunction postMany(entityType, newEntities) {\r\n    return query(entityType)\r\n        .then(entities => {\r\n            newEntities = newEntities.map(entity => ({ ...entity, _id: _makeId() }))\r\n            entities.push(...newEntities)\r\n            _save(entityType, entities)\r\n            return entities\r\n        })\r\n}","import Axios from 'axios'\r\n\r\nconst BASE_URL = process.env.NODE_ENV === 'production'\r\n    ? '/api/corollo'\r\n    : '//localhost:3030/api/corollo/'\r\n\r\n\r\nvar axios = Axios.create({\r\n    withCredentials: true\r\n})\r\n\r\nexport const httpService = {\r\n    get(endpoint, data) {\r\n        return ajax(endpoint, 'GET', data)\r\n    },\r\n    post(endpoint, data) {\r\n        return ajax(endpoint, 'POST', data)\r\n    },\r\n    put(endpoint, data) {\r\n        return ajax(endpoint, 'PUT', data)\r\n    },\r\n    delete(endpoint, data) {\r\n        return ajax(endpoint, 'DELETE', data)\r\n    }\r\n}\r\n\r\nasync function ajax(endpoint, method = 'GET', data = null) {\r\n    try {\r\n        const res = await axios({\r\n            url: `${BASE_URL}${endpoint}`,\r\n            method,\r\n            data,\r\n            params: (method === 'GET') ? data : null\r\n        })\r\n        return res.data\r\n    } catch (err) {\r\n        if (err.response && err.response.status === 401) {\r\n            sessionStorage.clear();\r\n            window.location.assign('/')\r\n        }\r\n        throw err\r\n    }\r\n}","import io from 'socket.io-client'\r\n\r\nexport const SOCKET_EMIT_USER_WATCH = 'user-watch';\r\nexport const SOCKET_EVENT_USER_UPDATED = 'user-updated';\r\nexport const SOCKET_EVENT_REVIEW_ADDED = 'review-added';\r\nexport const SOCKET_EVENT_REVIEW_ABOUT_YOU = 'review-about-you';\r\nexport const SOCKET_EVENT_ON_BOARD_SAVED = 'on-board-saved';\r\nexport const SOCKET_EVENT_START_BOARD = 'start-board';\r\nexport const SOCKET_EVENT_ON_RELOAD_BOARD = 'reload-board';\r\n\r\n\r\nconst baseUrl = (process.env.NODE_ENV === 'production') ? '' : '//localhost:3030'\r\nexport const socketService = createSocketService()\r\n\r\nwindow.socketService = socketService\r\n\r\nvar socketIsReady = false;\r\n\r\nfunction createSocketService() {\r\n  var socket = null;\r\n  const socketService = {\r\n    async setup() {\r\n      if (socket) return\r\n      socket = io(baseUrl)\r\n      socketIsReady = true;\r\n    },\r\n    async on(eventName, cb) {\r\n      if (!socket) await socketService.setup();\r\n      socket.on(eventName, cb)\r\n    },\r\n    async off(eventName, cb = null) {\r\n      if (!socket) await socketService.setup();\r\n      if (!cb) socket.removeAllListeners(eventName)\r\n      else socket.off(eventName, cb)\r\n    },\r\n    async emit(eventName, data) {\r\n      if (!socket) await socketService.setup()\r\n      socket.emit(eventName, data)\r\n    },\r\n    terminate() {\r\n      socket = null\r\n      socketIsReady = false\r\n    }\r\n  }\r\n  return socketService\r\n}\r\n\r\n","import { storageService } from './async-storage.service'\r\nimport { httpService } from './http.service'\r\nimport { socketService, SOCKET_EVENT_USER_UPDATED } from './socket.service'\r\nconst STORAGE_KEY_LOGGEDIN_USER = 'loggedinUser'\r\nvar gWatchedUser = null;\r\n\r\nexport const userService = {\r\n    login,\r\n    logout,\r\n    signup,\r\n    getLoggedinUser,\r\n    getUsers,\r\n    getById,\r\n    remove,\r\n    update,\r\n    changeScore\r\n}\r\n\r\nwindow.userService = userService\r\n\r\nasync function getUsers() {\r\n    try {\r\n        return await httpService.get('user')\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\n// function getUsers() {\r\n//     return storageService.query('user')\r\n//     // return httpService.get(`user`)\r\n// }\r\n\r\nasync function getById(userId) {\r\n    try {\r\n        return await httpService.get(`board/${userId}`)\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\n// async function getById(userId) {\r\n//     const user = await storageService.get('user', userId)\r\n//     // const user = await httpService.get(`user/${userId}`)\r\n//     gWatchedUser = user;\r\n//     return user;\r\n// }\r\n\r\nasync function remove(userId) {\r\n    try {\r\n        return await httpService.delete(`user/${userId}`)\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\n// function remove(userId) {\r\n//     return storageService.remove('user', userId)\r\n//     // return httpService.delete(`user/${userId}`)\r\n// }\r\n\r\nasync function update(user) {\r\n    if (user._id) {\r\n        try {\r\n            return await httpService.put(`user/${user._id}`, user) \r\n        } catch (err) {\r\n            throw err\r\n        }\r\n    }\r\n}\r\n\r\n// async function update(user) {\r\n//     await storageService.put('user', user)\r\n//     // user = await httpService.put(`user/${user._id}`, user)\r\n//     // Handle case in which admin updates other user's details\r\n//     if (getLoggedinUser()._id === user._id) _saveLocalUser(user)\r\n//     return user;\r\n// }\r\n\r\n\r\nasync function login(userCred) {\r\n    //const users = await httpService.get('user')\r\n    //const users = await storageService.query('user')\r\n    //if(users===[]){\r\n    //    const user = {username:'Guest',password:''}\r\n    //    return _saveLocalUser(user)\r\n    //}\r\n    //const user = users.find(user => user.username === userCred.username)\r\n    //return _saveLocalUser(user)\r\n\r\n    const user = await httpService.post('auth/login', userCred)\r\n    socketService.emit('set-user-socket', user._id);\r\n    if (user) return _saveLocalUser(user)\r\n}\r\n\r\nasync function signup(userCred) {\r\n    userCred.score = 10000;\r\n    //const user = await storageService.post('user', userCred)\r\n    const user = await httpService.post('auth/signup', userCred)\r\n    socketService.emit('set-user-socket', user._id);\r\n    return _saveLocalUser(user)\r\n}\r\nasync function logout() {\r\n    sessionStorage.removeItem(STORAGE_KEY_LOGGEDIN_USER)\r\n    socketService.emit('unset-user-socket');\r\n    return await httpService.post('auth/logout')\r\n}\r\n\r\nasync function changeScore(by) {\r\n    const user = getLoggedinUser()\r\n    if (!user) throw new Error('Not loggedin')\r\n    user.score = user.score + by || by\r\n    await update(user)\r\n    return user.score\r\n}\r\n\r\n\r\nfunction _saveLocalUser(user) {\r\n    sessionStorage.setItem(STORAGE_KEY_LOGGEDIN_USER, JSON.stringify(user))\r\n    return user\r\n}\r\n\r\nfunction getLoggedinUser() {\r\n    return JSON.parse(sessionStorage.getItem(STORAGE_KEY_LOGGEDIN_USER) || 'null')\r\n}\r\n\r\n\r\n// (async ()=>{\r\n//     await userService.signup({fullname: 'Puki Norma', username: 'user1', password:'123',score: 10000, isAdmin: false})\r\n//     await userService.signup({fullname: 'Master Adminov', username: 'admin', password:'123', score: 10000, isAdmin: true})\r\n//     await userService.signup({fullname: 'Muki G', username: 'muki', password:'123', score: 10000})\r\n// })();\r\n\r\n\r\n\r\n// This IIFE functions for Dev purposes \r\n// It allows testing of real time updates (such as sockets) by listening to storage events\r\n(async () => {\r\n    var user = getLoggedinUser()\r\n    // Dev Helper: Listens to when localStorage changes in OTHER browser\r\n\r\n    // Here we are listening to changes for the watched user (comming from other browsers)\r\n    window.addEventListener('storage', async () => {\r\n        if (!gWatchedUser) return;\r\n        const freshUsers = await storageService.query('user')\r\n        const watchedUser = freshUsers.find(u => u._id === gWatchedUser._id)\r\n        if (!watchedUser) return;\r\n        if (gWatchedUser.score !== watchedUser.score) {\r\n            //console.log('Watched user score changed - localStorage updated from another browser')\r\n            socketService.emit(SOCKET_EVENT_USER_UPDATED, watchedUser)\r\n        }\r\n        gWatchedUser = watchedUser\r\n    })\r\n})();\r\n\r\n// This is relevant when backend is connected\r\n (async () => {\r\n     var user = getLoggedinUser()\r\n     if (user) socketService.emit('set-user-socket', user._id)\r\n })();\r\n\r\n","import { userService } from '../services/user.service.js'\r\n\r\n\r\nconst initialState = {\r\n    count: 10,\r\n    user: userService.getLoggedinUser(),\r\n    users: [],\r\n    watchedUser : null\r\n}\r\nexport function userReducer(state = initialState, action) {\r\n    var newState = state;\r\n    switch (action.type) {\r\n        case 'INCREMENT':\r\n            newState = { ...state, count: state.count + 1 }\r\n            break;\r\n        case 'DECREMENT':\r\n            newState = { ...state, count: state.count - 1 }\r\n            break;\r\n        case 'CHANGE_COUNT':\r\n            newState = { ...state, count: state.count + action.diff }\r\n            break;\r\n        case 'SET_USER':\r\n            newState = { ...state, user: action.user }\r\n            break;\r\n        case 'SET_WATCHED_USER':\r\n            newState = { ...state, watchedUser: action.user }\r\n            break;\r\n        case 'REMOVE_USER':\r\n            newState = {\r\n                ...state,\r\n                users: state.users.filter(user => user._id !== action.userId)\r\n            }\r\n            break;\r\n        case 'SET_USERS':\r\n            newState = { ...state, users: action.users }\r\n            break;\r\n        case 'SET_SCORE':\r\n            newState = { ...state, user: { ...state.user, score: action.score } }\r\n            break;\r\n        default:\r\n    }\r\n    // For debug:\r\n    // window.userState = newState;\r\n    // console.log('State:', newState);\r\n    return newState;\r\n\r\n}\r\n","const initialState = {\r\n  currPopover: {\r\n    elPos: null,\r\n    name: '',\r\n    props: null,\r\n    isNewPop: false\r\n  },\r\n  isBackScreen: false,\r\n}\r\n\r\nexport function popoverReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case 'SET_POPOVER':\r\n      return { ...state, currPopover: { name: action.popoverName, elPos: action.elPos, props: action.props, isNewPop: action.isNewPop }, isOverlayOpen: true }\r\n    case 'CLOSE_POPOVER':\r\n      return { ...state, currPopover: { name: '', elPos: null, props: null }, isOverlayOpen: false }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","// const { createStore, applyMiddleware, combineReducers, compose } = Redux\r\n// const thunk = ReduxThunk.default\r\n\r\nimport { createStore, applyMiddleware, combineReducers, compose } from 'redux'\r\nimport thunk from 'redux-thunk'\r\n\r\n\r\nimport { boardReducer } from './board.reducer.js'\r\nimport { userReducer } from './user.reducer.js'\r\nimport { popoverReducer } from './popover.reducer.js'\r\n\r\nconst rootReducer = combineReducers({\r\n    boardModule: boardReducer,\r\n    userModule: userReducer,\r\n    popoverModule: popoverReducer\r\n})\r\n\r\n\r\n// export const store = createStore(rootReducer, applyMiddleware(thunk))\r\n// window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__();\r\n// Lets wire up thunk and also redux-dev-tools:\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nexport const store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)))\r\n// export const store = createStore(rootReducer, applyMiddleware(thunk))\r\n\r\n\r\n","var _linearGradient, _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgHomeLogo(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    role: \"img\",\n    alt: \"Trello\",\n    \"aria-label\": \"Trello\",\n    height: \"100px\",\n    viewBox: \"0 0 63.4 62.4\",\n    width: \"100px\",\n    className: \"d-block\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _linearGradient || (_linearGradient = /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"trello-logo-default\",\n    x1: \"50.048061%\",\n    x2: \"50.048061%\",\n    y1: \"100%\",\n    y2: \"0%\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0,\n    stopColor: \"#0052cc\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#2684ff\"\n  }))), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m55.59.07h-47.59c-4.09405078 0-7.41448241 3.31595294-7.42006073 7.41v47.52c-.00791682 1.9730991.77030774 3.8681213 2.16269326 5.2661365 1.39238553 1.3980151 3.28425224 2.1838635 5.25736747 2.1838635h47.59c1.9713817-.0026407 3.8606757-.7896772 5.250897-2.1874031s2.1670753-3.2912295 2.1591638-5.2625969v-47.52c-.0055694-4.09014608-3.3199147-7.40449138-7.4100608-7.41zm-28.09 44.93c-.0026377.6594819-.2678382 1.2907542-.7369724 1.7542587-.4691341.4635046-1.1035619.721065-1.7630276.7158222h-10.4c-1.3602365-.005588-2.46-1.1098333-2.46-2.4700809v-30.95c0-1.3602476 1.0997635-2.4644929 2.46-2.47h10.4c1.3618668.0054804 2.4645196 1.1081332 2.47 2.47zm24-14.21c0 .6603158-.2642968 1.2931595-.7340204 1.7572465-.4697237.464087-1.1057125.7207735-1.7659796.7129359h-10.4c-1.3618668-.0056628-2.4645196-1.1083156-2.47-2.4701824v-16.74c.0054804-1.3618668 1.1081332-2.4645196 2.47-2.47h10.4c1.3602365.0055071 2.4600111 1.1097524 2.46 2.47z\",\n    fill: \"url(#trello-logo-default)\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgHomeLogo);\nexport default __webpack_public_path__ + \"static/media/home-logo.10647ab8.svg\";\nexport { ForwardRef as ReactComponent };","export default __webpack_public_path__ + \"static/media/board.788ec0d7.png\";","export default __webpack_public_path__ + \"static/media/logo.8523ccde.png\";","import { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { ReactComponent as HomepageLogo } from '../assets/img/logos/home-logo.svg'\r\n\r\nexport class HomeHeader extends Component {\r\n\r\n    state = {\r\n        isNavBgVisible: false,\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('scroll', this.handleScroll)\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('scroll', this.handleScroll)\r\n    }\r\n\r\n    onOpenPopover = (ev, PopoverName) => {\r\n        //debugger\r\n        const elPos = ev.target.getBoundingClientRect();\r\n        const props = {\r\n            user: this.props.user,\r\n        };\r\n        this.props.openPopover(PopoverName, elPos, props);\r\n    };\r\n\r\n\r\n    handleScroll = () => {\r\n        const { isNavBgVisible } = this.state\r\n        if (window.pageYOffset > 100 && !isNavBgVisible) {\r\n            this.setState({ isNavBgVisible: true })\r\n        } else if (window.pageYOffset < 100 && isNavBgVisible) {\r\n            this.setState({ isNavBgVisible: false })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { isNavBgVisible } = this.state\r\n        const { user, guest } = this.props\r\n        const [name, lastname] = user ? user.fullname.split(' ') : ['', '']\r\n\r\n        return (\r\n            <header className={`home-header ${isNavBgVisible ? 'visibleBg' : ''}`}>\r\n                <nav className=\"flex justify-space-between\">\r\n                    <div className=\"logo\">\r\n                        <HomepageLogo />\r\n                        Corollo\r\n                    </div>\r\n                    {(!user || guest) && <div className=\"nav-btns \">\r\n                        <Link to=\"log/login\" className=\"login-btn clean-link\">\r\n                            Log in\r\n                        </Link>\r\n                        <Link to=\"log/signup\" className=\"signup-btn clean-link\">\r\n                            Sign up\r\n                        </Link>\r\n                    </div>}\r\n                    <div className=\"user-details-header\">\r\n\r\n                        {user && <button className=\"user-logo-in-app-header \" onClick={(ev) => {\r\n                            this.onOpenPopover(ev, 'USER')\r\n                        }}><div className=\"letter-logo-workspace-header\">\r\n                                {name[0]}{lastname[0]}\r\n                            </div>\r\n                        </button>}\r\n                    </div>\r\n                </nav>\r\n            </header>\r\n        )\r\n    }\r\n}\r\n","export function openPopover(popoverName, elPos, props, isNewPop = false) {\r\n  return dispatch => {\r\n    const action = {\r\n      type: 'SET_POPOVER',\r\n      popoverName,\r\n      elPos,\r\n      props,\r\n      isNewPop\r\n    }\r\n    dispatch(action)\r\n  }\r\n}\r\n\r\nexport function closePopover() {\r\n  return dispatch => {\r\n    const action = {\r\n      type: 'CLOSE_POPOVER',\r\n    }\r\n    dispatch(action)\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport logo from '../assets/img/logo.png'\r\nimport board from '../assets/img/board.png'\r\nimport { HomeHeader } from '../cmps/home-header'\r\nimport { openPopover, closePopover } from '../store/popover.actions.js'\r\nclass _HomePage extends React.Component {\r\n    state = {\r\n        email: '',\r\n        guest: false\r\n    }\r\n    handleChange = (ev) => {\r\n        ev.preventDefault();\r\n        this.setState({ email: ev.target.value })\r\n    }\r\n    render() {\r\n        const { email, guest } = this.state\r\n        const { count, user, openPopover, closePopover } = this.props\r\n        return (\r\n\r\n            <section className=\"home-page-container\">\r\n                <HomeHeader user={user} guest={guest} openPopover={openPopover} closePopover={closePopover} />\r\n                <div className=\"first-home-page-container\">\r\n                    <div className=\"introduction-signup\">\r\n                        <div className=\"first-part-txt\">\r\n                            <h1>Corollo helps teams move work forward.</h1>\r\n                            <p>\r\n                                Collaborate, manage projects, and reach new productivity peaks.\r\n                                From high rises to the home office, the way your team works is unique—accomplish it all with Corollo.\r\n                            </p>\r\n\r\n                        </div>\r\n                        <div className=\"btn-homepage-signup\">\r\n                            <input name=\"email\" className=\"form-control h-100\" type=\"email\" placeholder=\"Email\" onChange={(ev) => { this.handleChange(ev) }} />\r\n                            <button type=\"submit\" data-analytics-button=\"greenSignupHeroButton\" className=\"btn btn-home-page-submit\" onClick={() => {\r\n                                this.props.history.push(`/log/sign-up/${email}`)\r\n                            }}>Sign up—it’s free!</button>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"home-page-pic\">\r\n                        <img src=\"https://raw.githubusercontent.com/alaattinerby/Covid-19-Website/4c233460e18c1a8cfba4f7c4830e8da0e7c5e8e9/Covid-19/img/section-image.svg\" alt=\"\" />\r\n                    </div>\r\n                </div>\r\n                <div className=\"second-home-page-container\">\r\n                    <h2>\r\n                        It’s more than work. It’s a way of working together.\r\n                    </h2>\r\n                    <p className=\"first-part-txt\">\r\n                        Start with a Corollo board, lists, and cards. Customize and expand with more features as your teamwork grows.\r\n                        Manage projects, organize tasks, and build team spirit—all in one place.\r\n                    </p>\r\n                    <button type=\"submit\" data-analytics-button=\"greenSignupHeroButton\" className=\"btn btn-home-page-submit \" onClick={() => {\r\n                        this.props.history.push('/workspace')\r\n                    }}>Start doing →</button>\r\n                    {/* <img src=\"https://d2k1ftgv7pobq7.cloudfront.net/meta/p/res/images/spirit/product/89d378b845766a8f0c48e955336266f8/board.png\" alt=\"\" /> */}\r\n                    <img src={board} alt=\"\" />\r\n                </div>\r\n            </section >\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userModule.user,\r\n        count: state.userModule.count,\r\n        currPopoverName: state.popoverModule.currPopover.name,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    openPopover,\r\n    closePopover,\r\n}\r\nexport const HomePage = connect(mapStateToProps, mapDispatchToProps)(_HomePage)","import React, { useState } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { CSSTransitionGroup } from 'react-transition-group'\r\n\r\n\r\nfunction FancyBox(props) {\r\n    return <div className=\"fancy-box\">\r\n        <button style={{ float: 'right' }} onClick={props.onClose}>x</button>\r\n        {props.children}\r\n    </div>\r\n}\r\n\r\nFancyBox.propTypes = {\r\n    onClose: PropTypes.func.isRequired\r\n}\r\n\r\nfunction Contacts() {\r\n    return <section style={{ height: '50vh', backgroundColor: 'pink' }}>\r\n        <h2>Contacts</h2>\r\n    </section>\r\n}\r\nfunction Projects() {\r\n    const [projs, setProjs] = useState(['Puki Proj', 'Muki Proj'])\r\n    const projList = projs.map((proj, idx) => (\r\n        <div className=\"proj-preview\" key={proj} onClick={(ev) => {\r\n            ev.stopPropagation();\r\n            setProjs(projs.filter(p => p !== proj))\r\n        }}>\r\n            {proj}\r\n        </div>\r\n    ));\r\n    return <section style={{ height: '50vh', backgroundColor: 'lightblue' }}>\r\n        <h2>Projects</h2>\r\n        <CSSTransitionGroup transitionName=\"example\" transitionEnterTimeout={500}\r\n            transitionLeaveTimeout={300}>\r\n            {projList}\r\n        </CSSTransitionGroup>\r\n        <button onClick={ev => {\r\n            ev.stopPropagation();\r\n            setProjs([...projs, 'Babu Proj' + Date.now() % 100])\r\n        }}>Add</button>\r\n    </section >\r\n}\r\n\r\nfunction SplitPane(props) {\r\n\r\n    const [width, setWidth] = useState(30)\r\n\r\n    if (false && width === 60) {\r\n        throw new Error('Projects cannot load')\r\n    }\r\n    return (\r\n        <div className=\"split-pane\" style={{\r\n            display: 'flex'\r\n        }}>\r\n            <div style={{ width: width + '%' }} onClick={() => {\r\n                if (width + 10 <= 100) setWidth(width + 10)\r\n            }}>\r\n                {props.left}\r\n            </div>\r\n            <div style={{ flex: 1 }} onClick={() => {\r\n                if (width > 10) setWidth(width - 10)\r\n            }}>\r\n                {props.right}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport class AboutUs extends React.Component {\r\n    state = {\r\n        count: 1000,\r\n    }\r\n    componentDidMount() {\r\n        // this.interval = setInterval(() => {\r\n        //     console.log('Setting Followers Count');\r\n        //     this.setState(({ count }) => ({ count: count + utilService.getRandomIntInclusive(5, 20) }))\r\n        // }, 2500)\r\n    }\r\n    componentWillUnmount() {\r\n        clearInterval(this.interval)\r\n    }\r\n\r\n    shouldComponentUpdate() {\r\n        return true\r\n    }\r\n\r\n    onTellMeMore = () => {\r\n    }\r\n    render() {\r\n        const { count } = this.state\r\n        return (\r\n            <section>\r\n                <h2>About Us</h2>\r\n                <MyErrorBoundary>\r\n\r\n                    <SplitPane\r\n                        left={\r\n                            <Contacts />\r\n                        }\r\n                        right={\r\n                            <Projects />\r\n                        } />\r\n\r\n                </MyErrorBoundary>\r\n\r\n                <FancyBox onClose={() => { }}>\r\n                    <h3>{count.toLocaleString()} Followers</h3>\r\n                    <button onClick={this.onTellMeMore}>Tell me More</button>\r\n                </FancyBox>\r\n\r\n                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Magni aperiam quo veniam velit dolor reprehenderit, laudantium consequatur neque numquam labore quae. Accusamus libero perferendis ducimus? Alias unde hic quisquam doloremque.</p>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nclass MyErrorBoundary extends React.Component {\r\n    state = { error: null, errorInfo: null };\r\n\r\n    componentDidCatch(error, errorInfo) {\r\n        // Catch errors in children and re-render with error message\r\n        // Note: in development the error is still presented on screen and you need to ESC to see the fallback UI\r\n        this.setState({\r\n            error,\r\n            errorInfo\r\n        })\r\n        // TODO: Log error to an error reporting service\r\n        // logger.report(error)\r\n    }\r\n    render() {\r\n        if (this.state.errorInfo) {\r\n            // Error path\r\n            return (\r\n                <div>\r\n                    <h2>Something went wrong.</h2>\r\n\r\n                    <details style={{ whiteSpace: 'pre-wrap' }}>\r\n                        {this.state.error && this.state.error.toString()}\r\n                        <br />\r\n                        {this.state.errorInfo.componentStack}\r\n                    </details>\r\n                </div>\r\n            );\r\n        }\r\n        // Normally, just render children\r\n        return this.props.children;\r\n    }\r\n}\r\n","export const utilService = {\r\n    makeId,\r\n    makeLorem,\r\n    getRandomIntInclusive,\r\n    delay\r\n}\r\n\r\nfunction makeId(length = 6) {\r\n    var txt = '';\r\n    var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n\r\n    for (var i = 0; i < length; i++) {\r\n        txt += possible.charAt(Math.floor(Math.random() * possible.length));\r\n    }\r\n\r\n    return txt;\r\n}\r\n\r\nfunction makeLorem(size = 100) {\r\n    var words = ['The sky', 'above', 'the port', 'was', 'the color of television', 'tuned', 'to', 'a dead channel', '.', 'All', 'this happened', 'more or less', '.', 'I', 'had', 'the story', 'bit by bit', 'from various people', 'and', 'as generally', 'happens', 'in such cases', 'each time', 'it', 'was', 'a different story', '.', 'It', 'was', 'a pleasure', 'to', 'burn'];\r\n    var txt = '';\r\n    while (size > 0) {\r\n        size--;\r\n        txt += words[Math.floor(Math.random() * words.length)] + ' ';\r\n    }\r\n    return txt;\r\n}\r\n\r\nfunction getRandomIntInclusive(min, max) {\r\n    min = Math.ceil(min);\r\n    max = Math.floor(max);\r\n    return Math.floor(Math.random() * (max - min + 1)) + min; //The maximum is inclusive and the minimum is inclusive \r\n}\r\n\r\nfunction delay(ms = 1500) {\r\n    return new Promise(resolve => {\r\n        setTimeout(resolve, ms)\r\n    })\r\n}\r\n\r\n","\r\nimport { storageService } from './async-storage.service.js'\r\n// import { utilService } from './util.service.js'\r\nimport { utilService } from './util.service.js'\r\nimport { userService } from './user.service.js'\r\nimport data from '../json/board.json'\r\nimport { useLocation } from 'react-router'\r\nimport testUtils from 'react-dom/test-utils'\r\nimport { httpService } from './http.service'\r\nimport { noConflict } from 'lodash'\r\n\r\nconst STORAGE_KEY = 'boardDB'\r\nconst RECEBT_BOARDS_KEY = 'recentBoardsDB'\r\nconst listeners = []\r\nconst DATA = data;\r\n\r\nexport const boardService = {\r\n    query,\r\n    queryRecentBoards,\r\n    saveRecentBoards,\r\n    getById,\r\n    save,\r\n    remove,\r\n    subscribe,\r\n    removeCard,\r\n    getEmptyBoard,\r\n    updateCardInBoard,\r\n    addCardToBoard,\r\n    setPopoverPos\r\n}\r\nwindow.cs = boardService;\r\n\r\nasync function query(filterBy = {}) {\r\n    try {\r\n        return await httpService.get('board', filterBy)\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\nfunction queryRecentBoards() {\r\n    return storageService.query(RECEBT_BOARDS_KEY)\r\n}\r\n\r\nasync function getById(boardId) {\r\n    try {\r\n        return await httpService.get(`board/${boardId}`)\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\nasync function saveRecentBoards(board) {\r\n    const getBoard = await getByIdRecentBoards(board._id)\r\n    if (getBoard) {\r\n        return\r\n    }\r\n    else {\r\n        return storageService.post(RECEBT_BOARDS_KEY, board)\r\n    }\r\n}\r\n\r\nfunction getByIdRecentBoards(boardId) {\r\n    return storageService.get(RECEBT_BOARDS_KEY, boardId)\r\n}\r\n\r\nasync function remove(boardId) {\r\n    try {\r\n        await httpService.delete(`board/${boardId}`)\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\nasync function save(board) {\r\n    if (board._id) {\r\n        try {\r\n\r\n            return await httpService.put(`board/${board._id}`, board)\r\n        } catch (err) {\r\n            throw err\r\n        }\r\n    } else {\r\n        try {\r\n            return await httpService.post('board', board)\r\n        } catch (err) {\r\n            throw err\r\n        }\r\n    }\r\n}\r\n\r\nfunction subscribe(listener) {\r\n    listeners.push(listener)\r\n}\r\n\r\nfunction _notifySubscribersBoardsChanged(boards) {\r\n    listeners.forEach(listener => listener(boards))\r\n}\r\n\r\nwindow.addEventListener('storage', () => {\r\n    query()\r\n        .then(boards => {\r\n            _notifySubscribersBoardsChanged(boards)\r\n        })\r\n})\r\n\r\n// TEST DATA\r\nfunction updateCardInBoard(board, updateCard) {\r\n    board = { ...board }\r\n\r\n    board.lists.forEach(list => {\r\n        list.cards.forEach((card, idx) => {\r\n            if (card.id === updateCard.id) list.cards[idx] = updateCard\r\n        })\r\n    })\r\n    return board\r\n}\r\n\r\nfunction addCardToBoard(board, listId, addCard) {\r\n\r\n    board = { ...board }\r\n\r\n    const listIdx = board.lists.findIndex(currList => currList.id === listId);\r\n\r\n    if (listIdx === -1) return { ...board }\r\n    else board.lists[listIdx].cards.push({ ...addCard })\r\n\r\n    return board\r\n}\r\n\r\nfunction removeCard(board, card) {\r\n    board = { ...board }\r\n\r\n    board.lists.forEach(list => {\r\n        if (list.cards.some(boardCard => boardCard.id === card.id))\r\n            list.cards = list.cards.filter(boardCard => boardCard.id !== card.id)\r\n    })\r\n    return board\r\n}\r\n\r\nfunction setPopoverPos(pos, elRect, diff = 38) {\r\n    let { left, top } = pos\r\n    top += diff\r\n    const { height, width } = elRect\r\n    const viewportWidth = window.innerWidth\r\n    const viewportHeight = window.innerHeight\r\n    if (left + width > viewportWidth) left = viewportWidth - width - 10\r\n    if (top + height > viewportHeight) top = viewportHeight - height - 10\r\n    return { left, top, width }\r\n}\r\n\r\nfunction getEmptyBoard() {\r\n    const board = {\r\n        title: \"\",\r\n        createdAt: Date.now(),\r\n        createdBy: {\r\n            _id: \"\",\r\n            fullname: \"\",\r\n            imgUrl: \"\"\r\n        },\r\n        style: {},\r\n        labels: [\r\n        ],\r\n        members: [\r\n\r\n        ],\r\n        lists: [\r\n        ],\r\n        activities: [\r\n        ]\r\n    }\r\n\r\n    return board;\r\n}","function on(eventName, listener) {\r\n\r\n    const callListener = ({ detail }) => {\r\n        listener(detail);\r\n    };\r\n\r\n    window.addEventListener(eventName, callListener);\r\n\r\n    return () => {\r\n        window.removeEventListener(eventName, callListener);\r\n    };\r\n}\r\n\r\nfunction emit(eventName, data) {\r\n    window.dispatchEvent(new CustomEvent(eventName, { detail: data }));\r\n}\r\n\r\nexport const eventBusService = { on, emit };\r\n\r\nexport function showUserMsg(txt, type = '') {\r\n    eventBusService.emit('show-user-msg', { txt, type })\r\n}\r\nexport function showSuccessMsg(txt) {\r\n    showUserMsg(txt, 'success')\r\n}\r\nexport function showErrorMsg(txt) {\r\n    showUserMsg(txt, 'danger')\r\n}\r\n\r\nwindow.myBus = eventBusService;\r\nwindow.showUserMsg = showUserMsg;\r\n\r\n// eventBusService.on('baba', (x)=>console.log('Hi Baba', x))\r\n// eventBusService.on('baba', (x)=>console.log('Hello Baba Ji', x))\r\n// eventBusService.emit('baba', [5, 8, 11])\r\n// setTimeout(()=>{\r\n//     eventBusService.emit('baba', 17)\r\n// }, 2000)\r\n\r\n/* Listening Component...\r\n    import {eventBusService} from 'path...event-bus-service'\r\n    eventBusService.on('some-event', (dataFromEvent) => {\r\n    do something with dataFromEvent\r\n    })\r\n\r\n   Receiving Component...\r\n    eventBusService.emit('some-event', data)\r\n*/","import { boardService } from \"../services/board.service.js\";\r\nimport { userService } from \"../services/user.service.js\";\r\nimport { showSuccessMsg, showErrorMsg } from '../services/event-bus.service.js'\r\nimport { socketService } from \"../services/socket.service.js\";\r\n\r\n\r\nexport function loadBoards() {\r\n    return (dispatch) => {\r\n        boardService.query()\r\n            .then(boards => {\r\n                dispatch({\r\n                    type: 'SET_BOARDS',\r\n                    boards\r\n                })\r\n            })\r\n            .catch(err => {\r\n                showErrorMsg('Cannot load boards')\r\n            })\r\n\r\n        boardService.subscribe((boards) => {\r\n            dispatch({\r\n                type: 'SET_BOARDS',\r\n                boards\r\n            })\r\n        })\r\n    }\r\n}\r\n\r\n\r\nexport function loadRecentBoards() {\r\n    return (dispatch) => {\r\n        boardService.queryRecentBoards()\r\n            .then(recentBoards => {\r\n                dispatch({\r\n                    type: 'SET_RECENT_BOARDS',\r\n                    recentBoards\r\n                })\r\n            })\r\n            .catch(err => {\r\n                showErrorMsg('Cannot load boards')\r\n            })\r\n\r\n        boardService.subscribe((recentBoards) => {\r\n            dispatch({\r\n                type: 'SET_RECENT_BOARDS',\r\n                recentBoards\r\n            })\r\n        })\r\n    }\r\n}\r\nexport function onSaveBoard(board) {\r\n    return async dispatch => {\r\n        try {\r\n            const savedBoard = await boardService.save(board)\r\n                .then((board) => {\r\n                    socketService.emit('SOCKET_EVENT_ON_BOARD_SAVED', board._id)\r\n                    return board\r\n                })\r\n            dispatch({ type: 'SAVE_BOARD', board: savedBoard })\r\n        } catch (err) {\r\n        }\r\n    }\r\n}\r\n\r\nexport function loadBoard(boardId) {\r\n    return async dispatch => {\r\n        try {\r\n            const board = await boardService.getById(boardId)\r\n            dispatch({\r\n                type: 'SET_BOARD',\r\n                board\r\n            })\r\n        } catch (err) {\r\n            console.log('BoardActions: err in loadBoard', err)\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nexport function setLabelsMode(labelsMode) {\r\n\r\n    return async dispatch => {\r\n        try {\r\n            dispatch({ type: 'SET_LABELS_MODE', labelsMode })\r\n        } catch (err) {\r\n            console.log('BoardActions: err in loadBoard', err)\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport function updateRecentBoard(boardId) {\r\n    return async dispatch => {\r\n        try {\r\n            let board = await boardService.getById(boardId)\r\n            board = await boardService.saveRecentBoards(board)\r\n            dispatch({\r\n                type: 'UPDATE_RECENT_BOARDS',\r\n                board\r\n            })\r\n        } catch (err) {\r\n            console.log('BoardActions: err in loadBoard', err)\r\n        }\r\n    }\r\n}\r\nexport function onRemoveBoard(boardId) {\r\n    return (dispatch, getState) => {\r\n        boardService.remove(boardId)\r\n            .then(() => {\r\n                console.log('Deleted Succesfully!');\r\n                dispatch({\r\n                    type: 'REMOVE_BOARD',\r\n                    boardId\r\n                })\r\n                showSuccessMsg('Board removed')\r\n            })\r\n            .catch(err => {\r\n                showErrorMsg('Cannot remove board')\r\n                console.log('Cannot remove board', err)\r\n            })\r\n    }\r\n}\r\n\r\nexport function onAddBoard() {\r\n    return (dispatch) => {\r\n        const board = boardService.getEmptyBoard();\r\n        boardService.save(board)\r\n            .then(savedBoard => {\r\n                console.log('Added Board', savedBoard);\r\n                dispatch({\r\n                    type: 'ADD_BOARD',\r\n                    board: savedBoard\r\n                })\r\n                showSuccessMsg('Board added')\r\n            })\r\n            .catch(err => {\r\n                showErrorMsg('Cannot add board')\r\n                console.log('Cannot add board', err)\r\n            })\r\n    }\r\n}\r\n\r\nexport function onEditBoard(boardToSave) {\r\n    return (dispatch) => {\r\n        boardService.save(boardToSave)\r\n            .then(savedBoard => {\r\n                console.log('Updated Board:', savedBoard);\r\n                socketService.emit('SOCKET_EVENT_ON_BOARD_SAVED', savedBoard._id)\r\n                dispatch({\r\n                    type: 'UPDATE_BOARD',\r\n                    board: savedBoard\r\n                })\r\n                showSuccessMsg('Board updated')\r\n            })\r\n            .catch(err => {\r\n                showErrorMsg('Cannot update board')\r\n                console.log('Cannot save board', err)\r\n            })\r\n    }\r\n}\r\n\r\nexport function addToCart(board) {\r\n    return (dispatch) => {\r\n        dispatch({\r\n            type: 'ADD_TO_CART',\r\n            board\r\n        })\r\n    }\r\n}\r\nexport function removeFromCart(boardId) {\r\n    return (dispatch) => {\r\n        dispatch({\r\n            type: 'REMOVE_FROM_CART',\r\n            boardId\r\n        })\r\n    }\r\n}\r\n\r\n\r\n\r\n// Demo for Optimistic Mutation (IOW - Assuming the server call will work, so updating the UI first)\r\nexport function onRemoveBoardOptimistic(boardId) {\r\n\r\n    return (dispatch, getState) => {\r\n\r\n        dispatch({\r\n            type: 'REMOVE_BOARD',\r\n            boardId\r\n        })\r\n        showSuccessMsg('Board removed')\r\n\r\n        boardService.remove(boardId)\r\n            .then(() => {\r\n                console.log('Server Reported - Deleted Succesfully');\r\n            })\r\n            .catch(err => {\r\n                showErrorMsg('Cannot remove board')\r\n                console.log('Cannot load boards', err)\r\n                dispatch({\r\n                    type: 'UNDO_REMOVE_BOARD',\r\n                })\r\n            })\r\n    }\r\n}","export default __webpack_public_path__ + \"static/media/star.5e5b4703.svg\";","import React from 'react'\r\n\r\nexport class Star extends React.Component {\r\n  state = {\r\n    isStarred: false\r\n  };\r\n\r\n  render() {\r\n    const { board } = this.props\r\n    // (board.star) ? board.star = !board.star : board.star = true\r\n    return (\r\n      <svg\r\n        onClick={(ev) => {\r\n          this.setState({ isStarred: !this.state.isStarred })\r\n          board.star = this.state.isStarred\r\n\r\n          ev.stopPropagation();\r\n          ev.preventDefault();\r\n        }}\r\n        className={`${this.state.isStarred && 'starred'}`}\r\n        width=\"15\"\r\n        height=\"15\"\r\n        role=\"presentation\"\r\n        focusable=\"false\"\r\n        viewBox=\"0 0 24 24\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n      >\r\n        <path\r\n          fillRule=\"evenodd\"\r\n          clipRule=\"evenodd\"\r\n          d=\"M7.49495 20.995L11.9999 18.6266L16.5049 20.995C16.8059 21.1533 17.1507 21.2079 17.4859 21.1504C18.3276 21.006 18.893 20.2066 18.7486 19.3649L17.8882 14.3485L21.5328 10.7959C21.7763 10.5585 21.9348 10.2475 21.9837 9.91094C22.1065 9.06576 21.5209 8.28106 20.6758 8.15825L15.6391 7.42637L13.3866 2.86236C13.2361 2.55739 12.9892 2.31054 12.6843 2.16003C11.9184 1.78206 10.9912 2.0965 10.6132 2.86236L8.36072 7.42637L3.32403 8.15825C2.98747 8.20715 2.67643 8.36564 2.43904 8.60917C1.84291 9.22074 1.85542 10.1998 2.46699 10.7959L6.11158 14.3485L5.25121 19.3649C5.19372 19.7 5.24833 20.0448 5.40658 20.3459C5.80401 21.1018 6.739 21.3924 7.49495 20.995ZM19.3457 10.0485L15.6728 13.6287L16.5398 18.684L11.9999 16.2972L7.45995 18.684L8.327 13.6287L4.65411 10.0485L9.72993 9.31093L11.9999 4.71146L14.2699 9.31093L19.3457 10.0485Z\"\r\n          fill=\"currentColor\"\r\n        ></path>\r\n      </svg>\r\n    )\r\n  }\r\n}","import React from 'react';\r\nimport { Link, NavLink } from 'react-router-dom';\r\nimport StarIcon from '../assets/img/icons/star.svg';\r\nimport { Star } from './star.jsx';\r\n\r\nexport class BoardPreview extends React.Component {\r\n  state = {\r\n    isNewBoard: false,\r\n    isStarred: false,\r\n    activeIndex: ''\r\n  };\r\n\r\n  handleStarred = () => {};\r\n  render() {\r\n    const { isNewBoard } = this.state;\r\n    const { boards } = this.props;\r\n    return (\r\n      <section className=\"board-preview-container\">\r\n        <ul className=\"board-list\">\r\n          <li>\r\n            {/* <button className=\"board-preview-add-btn\" onClick={() => {\r\n                            this.setState({isNewBoard:true})\r\n                        }}>Create new board</button> */}\r\n          </li>\r\n          {boards.map((board, index) => (\r\n              \r\n            //<Filter/>\r\n            <Link\r\n              to={`/board/${board._id}`}\r\n              key={board._id}\r\n              className=\"board-preview-wrapper clean-link\"\r\n            >\r\n              <div class=\"content\">\r\n                <div class=\"content-overlay\"></div>\r\n\r\n                <li\r\n                  className=\"board-preview clean-link content-image\"\r\n                  key={board._id}\r\n                  style={\r\n                      board.style && {\r\n                          backgroundImage: 'url(' + board.style.background + ')',\r\n                          backgroundRepeat: 'no-repeat',\r\n                          backgroundPosition: '50%',\r\n                          backgroundSize: 'cover',\r\n                          lineheight: '20px',\r\n                          padding: '8px',\r\n                          position: 'relative',\r\n                          textDecoration: 'none',\r\n                        }\r\n                    }\r\n                >\r\n                <span class=\"board-tile-fade\"></span>\r\n                    <h3 className=\"board-preview-name\">{board.title}</h3>\r\n                </li>\r\n                <div\r\n                  className=\"content-details fadeIn-right\"\r\n                  \r\n                  >\r\n                    <Star board={board} />\r\n  \r\n                </div>\r\n              </div>\r\n            </Link>\r\n          ))}\r\n        </ul>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { Link, NavLink } from 'react-router-dom';\r\nimport { BoardPreview } from './board-preview';\r\n\r\nexport class SideNav extends React.Component {\r\n\r\n  state = {\r\n    isOpen: false,\r\n    isboardView: true\r\n  }\r\n  toggleMenu = () => {\r\n    const { isOpen } = this.state;\r\n    var element = document.querySelector('.leftMenu');\r\n    element.classList.toggle('openMenu');\r\n    this.setState({ isOpen: !isOpen });\r\n  };\r\n\r\n  render() {\r\n    const { boards, isMainBoard, onAddBoard, user } = this.props\r\n    const { isOpen, isboardView } = this.state\r\n    const [name, lastname] = user ? user.fullname.split(' ') : ['', '']\r\n    const username = user ? user.username : 'guest'\r\n    return (\r\n      <div className={`leftMenu ${isMainBoard ? 'main' : 'workspace'}`}>\r\n        <div className=\"header-nav-bar-container flex\">\r\n          <div className=\"flex\">\r\n            <div className=\"close-nav-bar-workspace _3TTqkG5muwOzqZ flex column\">\r\n\r\n              <div className=\"nav-logo active\" onClick={this.toggleMenu}>\r\n                {name[0]}\r\n              </div>\r\n              {/* {!isOpen && <div className=\"small-btn-open-nav-bar\" role=\"presentation\" onClick={this.toggleMenu}><svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"blue\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M10.4381 10.438L6.05766 14.8185C5.81574 15.0604 5.4235 15.0604 5.18157 14.8185C4.93964 14.5766 4.93964 14.1843 5.18157 13.9424L9.124 9.99998L5.18157 6.05754C4.93964 5.81561 4.93964 5.42337 5.18157 5.18145C5.4235 4.93952 5.81574 4.93952 6.05766 5.18145L10.4381 9.56193C10.6801 9.80386 10.6801 10.1961 10.4381 10.438Z\" fill=\"black\" className=\"sHwgrRUGaNb2Id\"></path><path d=\"M15.7997 10.438L11.4192 14.8185C11.1773 15.0604 10.7851 15.0604 10.5431 14.8185C10.3012 14.5766 10.3012 14.1843 10.5431 13.9424L14.4856 9.99998L10.5431 6.05754C10.3012 5.81561 10.3012 5.42337 10.5431 5.18145C10.7851 4.93952 11.1773 4.93952 11.4192 5.18145L15.7997 9.56193C16.0416 9.80386 16.0416 10.1961 15.7997 10.438Z\" fill=\"black\" class=\"sHwgrRUGaNb2Id\"></path></svg></div>} */}\r\n            </div>\r\n            {isOpen && <div className=\"for-free flex column\">\r\n              <span className=\"username-nav-bar-logo\">{username}</span>\r\n              <span>free</span>\r\n            </div>}\r\n          </div>\r\n          {isOpen && <button className=\"_1ul6gs_kHQukwk _3TTqkG5muwOzqZ\" data-test-id=\"workspace-navigation-collapse-button\" type=\"button\" onClick={this.toggleMenu}>\r\n            <img className=\"_1iDWq-WSaSDrjd\" src=\"https://a.trellocdn.com/prgb/dist/images/workspace-navigation/double-chevron-close.87f7a764e600465f9077.svg\" alt=\"Workspace navigation collapse icon\" />\r\n          </button>}\r\n        </div>\r\n        {isOpen && <section className=\"nav-content\">\r\n          <hr />\r\n          <div className=\"small-nav-bar-workspace\">\r\n            <div className=\"your-boards-container\">\r\n              Your boards\r\n              {!isboardView && <span className=\"board-counter\">({boards.length})</span>}\r\n            </div>\r\n            <div className=\"small-nav-bar-btn-container\">\r\n              <button className=\"\" onClick={onAddBoard}>\r\n                <svg\r\n                  width=\"15\"\r\n                  height=\"15\"\r\n                  role=\"presentation\"\r\n                  focusable=\"false\"\r\n                  viewBox=\"0 0 24 24\"\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                >\r\n                  <path\r\n                    d=\"M12 3C11.4477 3 11 3.44772 11 4V11L4 11C3.44772 11 3 11.4477 3 12C3 12.5523 3.44772 13 4 13H11V20C11 20.5523 11.4477 21 12 21C12.5523 21 13 20.5523 13 20V13H20C20.5523 13 21 12.5523 21 12C21 11.4477 20.5523 11 20 11L13 11V4C13 3.44772 12.5523 3 12 3Z\"\r\n                    fill=\"#42526e\"\r\n                  ></path>\r\n                </svg>\r\n              </button>\r\n              <button className=\"\" onClick={() => {\r\n                this.setState({ isboardView: !isboardView })\r\n              }}>\r\n                {isboardView && <svg width=\"15\" height=\"15\" role=\"presentation\" focusable=\"false\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <path\r\n                    d=\"M12.7071 7.29289L19.7782 14.364C20.1687 14.7545 20.1687 15.3876 19.7782 15.7782C19.3877 16.1687 18.7545 16.1687 18.364 15.7782L12 9.41421L5.63606 15.7782C5.24554 16.1687 4.61237 16.1687 4.22185 15.7782C3.83132 15.3877 3.83132 14.7545 4.22185 14.364L11.2929 7.29289C11.6834 6.90237 12.3166 6.90237 12.7071 7.29289Z\"\r\n                    fill=\"currentColor\">\r\n                  </path>\r\n                </svg>}\r\n                {!isboardView && <svg width=\"15\" height=\"15\" role=\"presentation\" focusable=\"false\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <path\r\n                    d=\"M11.2929 16.7071L4.22185 9.63606C3.83132 9.24554 3.83132 8.61237 4.22185 8.22185C4.61237 7.83133 5.24554 7.83133 5.63606 8.22185L12 14.5858L18.364 8.22185C18.7545 7.83132 19.3877 7.83132 19.7782 8.22185C20.1687 8.61237 20.1687 9.24554 19.7782 9.63606L12.7071 16.7071C12.3166 17.0977 11.6834 17.0977 11.2929 16.7071Z\"\r\n                    fill=\"currentColor\">\r\n                  </path>\r\n                </svg>}\r\n              </button>\r\n            </div>\r\n          </div>\r\n          {isboardView && <div className=\"all-boards\">\r\n            <ul className=\"board-list-navbar\">\r\n              {boards.map((board) => {\r\n                return (\r\n                  <Link to={`/board/${board._id}`} key={board._id} className=\"clean-link\">\r\n                    <div className=\"nav-bar-btns flex row\">\r\n                      <li className=\"board-preview-navbar\" key={board._id} style={board.style && {\r\n                        backgroundImage: \"url(\" + board.style.background + \")\",\r\n                        backgroundRepeat: 'no-repeat',\r\n                        backgroundAttachment: 'fixed',\r\n                        backgroundPosition: 'center'\r\n\r\n                      }}>\r\n\r\n                      </li>\r\n\r\n                      <h4 className=\"nav-bar-btns-name\">{board.title}</h4>\r\n                    </div>\r\n                  </Link>\r\n                );\r\n              })}\r\n            </ul>\r\n          </div>}\r\n\r\n        </section>}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\"\r\n\r\nexport class WorkspaceHeader extends React.Component {\r\n    render() {\r\n        const { user } = this.props\r\n        const [name, lastname] = user ? user.fullname.split(' ') : ['', '']\r\n        return (\r\n            <section className=\"tabbed-pane-header-wrapper\">\r\n                <div className=\"first-letter-logo-workspace-header\">\r\n                    {name[0]}\r\n                </div>\r\n                <div className=\"workspace-header-container\">\r\n                    <div className=\"username-container\">\r\n                        <h1 className=\"user-name-h1\">{user ? user.username : 'guest'}</h1>\r\n                        <span className=\"private-lock\">\r\n                            <span className=\"lock-style\" role=\"img\" aria-label=\"PrivateIcon\">\r\n                                <svg width=\"24\" height=\"24\" role=\"presentation\" focusable=\"false\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                    <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M5 11C5 9.89543 5.89543 9 7 9H8H10H14H16H17C18.1046 9 19 9.89543 19 11V19C19 20.1046 18.1046 21 17 21H7C5.89543 21 5 20.1046 5 19V11ZM10 11H14H16H17V19H7V11H8H10ZM14 15C14 16.1046 13.1046 17 12 17C10.8954 17 10 16.1046 10 15C10 13.8954 10.8954 13 12 13C13.1046 13 14 13.8954 14 15Z\" fill=\"currentColor\">\r\n                                    </path>\r\n                                    <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M10.3817 5.69846C10.0982 6.10344 10 6.63103 10 7V9H8V7C8 6.36897 8.15175 5.39656 8.74327 4.55154C9.37523 3.64874 10.4367 3 12 3C13.5633 3 14.6248 3.64874 15.2567 4.55154C15.8482 5.39656 16 6.36897 16 7V9H14V7C14 6.63103 13.9018 6.10344 13.6183 5.69846C13.3752 5.35126 12.9367 5 12 5C11.0633 5 10.6248 5.35126 10.3817 5.69846Z\" fill=\"currentColor\">\r\n                                    </path>\r\n                                </svg>\r\n                            </span>\r\n                            Private\r\n                        </span>\r\n                    </div>\r\n                    <button className=\"edit-workspace\" type=\"button\">\r\n                        <span className=\"nch-icon _3W-26fmi3tFfon j0fswhntKdStWa _1AxACHDBxA21Su\">\r\n                            <svg width=\"24\" height=\"24\" role=\"presentation\" focusable=\"false\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M7.82034 14.4893L9.94134 16.6103L18.4303 8.12131L16.3093 6.00031H16.3073L7.82034 14.4893ZM17.7233 4.58531L19.8443 6.70731C20.6253 7.48831 20.6253 8.7543 19.8443 9.53531L10.0873 19.2933L5.13734 14.3433L14.8943 4.58531C15.2853 4.19531 15.7973 4.00031 16.3093 4.00031C16.8203 4.00031 17.3323 4.19531 17.7233 4.58531ZM5.20094 20.4097C4.49794 20.5537 3.87694 19.9327 4.02094 19.2297L4.80094 15.4207L9.00994 19.6297L5.20094 20.4097Z\" fill=\"currentColor\">\r\n                                </path>\r\n                            </svg>\r\n\r\n                        </span>\r\n                        Edit Workspace details\r\n                    </button>\r\n                </div>\r\n            </section>\r\n        )\r\n    }\r\n\r\n}","import React from \"react\"\r\nimport { Link, NavLink } from 'react-router-dom'\r\n\r\nexport class WorkspaceNavBar extends React.Component {\r\n    render() {\r\n        return (\r\n            <div className=\"nav-bar-workspace-container-horizontal\">\r\n                <ul className=\"nav-bar-workspace-horizontal\">\r\n                    <li className=\"tabbed-pane-nav-item clean-list\">\r\n                        <button className=\"tabbed-pane-nav-item-button js-org-profile active\">Boards</button>\r\n                    </li>\r\n                </ul>\r\n                <hr />\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react'\r\n\r\nexport class SearchNavBar extends React.Component {\r\n    state = {\r\n        filterBy: {\r\n            title: '',\r\n        },\r\n        field: ''\r\n    };\r\n\r\n\r\n    componentDidMount() {\r\n        const boards = this.sortByRecentlyUsed(this.props.boards)\r\n        this.props.onSelectSort(boards)\r\n\r\n    }\r\n    onSelectSort = (ev) => {\r\n        let { boards } = this.props\r\n        const sortBy = ev.target.value\r\n        switch (sortBy) {\r\n            case 'recently':\r\n                boards = this.sortByRecentlyUsed(boards); break;\r\n            case 'leastRecently':\r\n                boards = this.sortByLeastRecentlyUsed(boards); break;\r\n            case 'alphabetUp':\r\n                boards = this.sortByAlfaBet_A_Z(boards); break;\r\n            case 'alphabetDown':\r\n                boards = this.sortByAlfaBet_Z_A(boards); break;\r\n            default:\r\n                boards = boards\r\n        }\r\n        this.props.onSelectSort(boards)\r\n    }\r\n\r\n    sortByRecentlyUsed = (boards) => {\r\n        boards.sort(function (a, b) {\r\n            return b.recentBoardInsert - a.recentBoardInsert;\r\n        });\r\n        console.log('boards', boards);\r\n        return boards\r\n    }\r\n    sortByLeastRecentlyUsed = (boards) => {\r\n        boards.sort(function (a, b) {\r\n            return a.recentBoardInsert - b.recentBoardInsert;\r\n        });\r\n        console.log('boards', boards);\r\n        return boards\r\n    }\r\n    sortByAlfaBet_A_Z = (boards) => {\r\n        boards.sort(function (a, b) {\r\n            if (a.title < b.title) { return -1; }\r\n            if (a.title > b.title) { return 1; }\r\n            return 0;\r\n        })\r\n        return boards\r\n    }\r\n    sortByAlfaBet_Z_A = (boards) => {\r\n        boards.sort(function (a, b) {\r\n            if (a.title > b.title) { return -1; }\r\n            if (a.title < b.title) { return 1; }\r\n            return 0;\r\n        })\r\n        return boards\r\n    }\r\n\r\n\r\n    handleChange = (ev) => {\r\n\r\n        const field = ev.target.name;\r\n        const value =\r\n            ev.target.type === 'number' ? +ev.target.value : ev.target.value;\r\n        this.setState({ filterBy: { ...this.state.filterBy, [field]: value } }, () => {\r\n            // console.log('this.state.filterBy', this.state.filterBy);\r\n            this.props.onSetFilter(this.state.filterBy)\r\n        });\r\n    };\r\n\r\n\r\n\r\n    onSelect = (ev) => {\r\n        const { filterBy } = this.state\r\n        for (const key in filterBy) {\r\n            filterBy[key] = ''\r\n        };\r\n\r\n        this.setState({ field: ev.target.value, filterBy })\r\n        this.props.onSetFilter(this.state.filterBy)\r\n    }\r\n\r\n\r\n\r\n    onFilter = (ev) => {\r\n        ev.preventDefault();\r\n        this.props.onSetFilter(this.state.filterBy)\r\n    };\r\n\r\n    render() {\r\n        const { filterBy, field } = this.state\r\n        const { name } = filterBy;\r\n        return (\r\n            <section className=\"search-bar-container flex\">\r\n                <div className=\"left-search-bar-container flex\">\r\n                    <div className=\"sort-by-container\">\r\n                        <label htmlFor=\"sort\">Sort by</label>\r\n                        <div className=\"select-sort-by-workspace\">\r\n                            <select className=\"_3TTqkG5muwOzqZ css-ufz0vj-control _1Dp3s5P2VP237V _2RUB_6xy0LOMWG\" name=\"field\" id=\"field\" onChange={(ev) => {\r\n                                this.onSelectSort(ev)\r\n                            }}>\r\n                                <option value=\"empty\"></option>\r\n                                <option value=\"recently\">Most recently active</option>\r\n                                <option value=\"leastRecently\">Least recently active</option>\r\n                                <option value=\"alphabetUp\">Alphabetically A-Z</option>\r\n                                <option value=\"alphabetDown\">Alphabetically Z-A</option>\r\n                            </select>\r\n                            {/* <button>Filter</button> */}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"filter-by-container\">\r\n                        <label htmlFor=\"filter\">Filter by</label>\r\n                        <select className=\"select-filter-by-workspace _3TTqkG5muwOzqZ css-ufz0vj-control _1Dp3s5P2VP237V _2RUB_6xy0LOMWG\" name=\"field\" id=\"field\" onChange={(ev) => {\r\n                            this.onSelect(ev)\r\n                        }}>\r\n                            <option value=\"empty\">Choose Collection...</option>\r\n                            <option value=\"title\">Name</option>\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n                <div className=\"search-all-work-space\">\r\n                    <form className='search-all-work-space-form ' onSubmit={this.onFilter}>\r\n                        <label htmlFor=\"by-name\">Search</label>\r\n                        <input className=\"search-all-work-filter-input _3TTqkG5muwOzqZ css-ufz0vj-control _1Dp3s5P2VP237V _2RUB_6xy0LOMWG\"\r\n                            name={field}\r\n                            id='by-name'\r\n                            type='text'\r\n                            placeholder=\"Search all workspace boards\"\r\n                            value={filterBy[field]}\r\n                            onChange={this.handleChange}\r\n                        />\r\n                    </form>\r\n                </div>\r\n\r\n            </section>\r\n        )\r\n    }\r\n\r\n\r\n\r\n}","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Link, NavLink } from 'react-router-dom'\r\n\r\nimport { loadBoards, onAddBoard, onEditBoard, onRemoveBoard, onSaveBoard, updateRecentBoard } from '../store/board.actions.js'\r\nimport { showSuccessMsg } from '../services/event-bus.service.js'\r\nimport { BoardPreview } from '../cmps/board-preview.jsx'\r\nimport { SideNav } from '../cmps/sidenav.jsx';\r\nimport { WorkspaceHeader } from '../cmps/workspace-header.jsx'\r\nimport { WorkspaceNavBar } from '../cmps/workspace-nav-bar.jsx'\r\nimport { SearchNavBar } from '../cmps/search-nav-bar.jsx'\r\n\r\nclass _Workspace extends React.Component {\r\n    state = {\r\n        isMainBoard: false,\r\n        boardsToShow: []\r\n    }\r\n    componentDidMount() {\r\n        this.props.loadBoards()\r\n        const { boards } = this.props\r\n    }\r\n\r\n    onRemoveBoard = (boardId) => {\r\n        this.props.onRemoveBoard(boardId)\r\n    }\r\n\r\n    onAddBoard = () => {\r\n        this.props.onAddBoard()\r\n    }\r\n\r\n    onSelectSort = (boards) => {\r\n        this.setState(boards)\r\n    }\r\n    onSetFilter = (filterBy) => {\r\n        const { boards } = this.props\r\n        if (filterBy) {\r\n            let { title } = filterBy\r\n            const boardsToShow = boards.filter(board => {\r\n                return board.title.toUpperCase().includes(title.toUpperCase())\r\n            })\r\n            this.setState({ boardsToShow })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { boards, onAddBoard, user } = this.props\r\n        const { isWorkSpace } = this.state;\r\n        const boardsToShow = this.state.boardsToShow.length ? this.state.boardsToShow : boards\r\n        return (\r\n            <section className=\"workspace-container\">\r\n                <div className=\"workspace-sticky-cotainter\">\r\n                    <SideNav boards={boards} onAddBoard={onAddBoard} user={user} />\r\n                    <div className=\"main-board-preview\">\r\n                        <div className=\"workspace-header\">\r\n                            <WorkspaceHeader boards={boards} onAddBoard={onAddBoard} user={user} />\r\n                            <WorkspaceNavBar />\r\n                        </div>\r\n                        <div className=\"all-boards-main\">\r\n                            <SearchNavBar boards={boards} onSelectSort={this.onSelectSort} onSetFilter={this.onSetFilter} />\r\n                            <BoardPreview boards={boardsToShow} onSaveBoard={this.props.onSaveBoard} updateRecentBoard={this.props.updateRecentBoard} />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        boards: state.boardModule.boards,\r\n        user: state.userModule.user\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    onSaveBoard,\r\n    loadBoards,\r\n    onRemoveBoard,\r\n    onAddBoard,\r\n    onEditBoard,\r\n    updateRecentBoard\r\n}\r\n\r\nexport const Workspace = connect(mapStateToProps, mapDispatchToProps)(_Workspace)","var _style, _line, _line2, _line3;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLoader(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 60,\n    height: 60,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _style || (_style = /*#__PURE__*/React.createElement(\"style\", null, \"\\r\\n        .line {\\r\\n            fill: none;\\r\\n            stroke: #aaa;\\r\\n            stroke-width: 8;\\r\\n            stroke-dasharray: 40;\\r\\n        }\\r\\n\\r\\n        .animated {\\r\\n            animation: draw 0.8s ease-in-out;\\r\\n            animation-iteration-count: infinite;\\r\\n            stroke-dashoffset: 0;\\r\\n        }\\r\\n\\r\\n        .line2 {\\r\\n            animation-delay: 0.08s\\r\\n        }\\r\\n\\r\\n        .line3 {\\r\\n            animation-delay: 0.16s\\r\\n        }\\r\\n\\r\\n        @keyframes draw {\\r\\n            0% {\\r\\n                stroke-dashoffset: 0;\\r\\n            }\\r\\n\\r\\n            50% {\\r\\n                stroke-dashoffset: 30;\\r\\n            }\\r\\n\\r\\n            100% {\\r\\n                stroke-dashoffset: 0;\\r\\n            }\\r\\n        }\\r\\n    \")), _line || (_line = /*#__PURE__*/React.createElement(\"line\", {\n    className: \"line animated\",\n    x1: 14,\n    y1: 10,\n    x2: 14,\n    y2: 50\n  })), _line2 || (_line2 = /*#__PURE__*/React.createElement(\"line\", {\n    className: \"line animated line2\",\n    x1: 30,\n    y1: 10,\n    x2: 30,\n    y2: 50\n  })), _line3 || (_line3 = /*#__PURE__*/React.createElement(\"line\", {\n    className: \"line animated line3\",\n    x1: 46,\n    y1: 10,\n    x2: 46,\n    y2: 50\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLoader);\nexport default __webpack_public_path__ + \"static/media/loader.4ce56a5f.svg\";\nexport { ForwardRef as ReactComponent };","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { socketService } from '../services/socket.service'\r\n\r\nclass _ChatApp extends Component {\r\n  state = {\r\n    msg: { txt: '' },\r\n    msgs: [],\r\n    topic: 'Love',\r\n    isBotMode: true\r\n  }\r\n\r\n  componentDidMount() {\r\n    socketService.setup()\r\n    socketService.emit('chat topic', this.state.topic)\r\n    socketService.on('chat addMsg', this.addMsg)\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    socketService.off('chat addMsg', this.addMsg)\r\n    socketService.terminate()\r\n    clearTimeout(this.timeout)\r\n  }\r\n\r\n  addMsg = newMsg => {\r\n    this.setState(prevState => ({ msgs: [...prevState.msgs, newMsg] }))\r\n    if (this.state.isBotMode) this.sendBotResponse();\r\n  }\r\n\r\n  sendBotResponse = () => {\r\n    // Handle case: send single bot response (debounce).\r\n    this.timeout && clearTimeout(this.timeout)\r\n    this.timeout = setTimeout(() => {\r\n      this.setState(prevState => ({ msgs: [...prevState.msgs, { from: 'Bot', txt: 'You are amazing!' }] }))\r\n    }, 1500)\r\n  }\r\n\r\n  changeTopic = () => {\r\n    socketService.emit('chat topic', this.state.topic)\r\n  }\r\n\r\n  sendMsg = ev => {\r\n    ev.preventDefault()\r\n    const from = this.props.loggedInUser?.fullname || 'Me'\r\n    socketService.emit('chat newMsg', { from, txt: this.state.msg.txt })\r\n    this.setState({ msg: { from: 'Me', txt: '' } })\r\n  }\r\n\r\n  handleChange = ev => {\r\n    const { name, value } = ev.target\r\n    this.setState({ [name]: value }, this.changeTopic)\r\n  }\r\n\r\n  msgHandleChange = ev => {\r\n    const { name, value } = ev.target\r\n    this.setState(prevState => {\r\n      return {\r\n        msg: {\r\n          ...prevState.msg,\r\n          [name]: value\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"chat\">\r\n        <h2>Lets Chat about {this.state.topic}</h2>\r\n        <label>\r\n          <input\r\n            type=\"checkbox\"\r\n            name=\"isBotMode\"\r\n            checked={this.state.isBotMode}\r\n            onChange={(ev) => this.setState({ isBotMode: ev.target.checked })}\r\n          />\r\n          Bot Mode\r\n        </label>\r\n        <div>\r\n          <label>\r\n            <input\r\n              type=\"radio\"\r\n              name=\"topic\"\r\n              value=\"Love\"\r\n              checked={this.state.topic === 'Love'}\r\n              onChange={this.handleChange}\r\n            />\r\n            Love\r\n          </label>\r\n          <label>\r\n            <input\r\n              type=\"radio\"\r\n              name=\"topic\"\r\n              value=\"Politics\"\r\n              checked={this.state.topic === 'Politics'}\r\n              onChange={this.handleChange}\r\n            />\r\n            Politics\r\n          </label>\r\n        </div>\r\n        <form onSubmit={this.sendMsg}>\r\n          <input\r\n            type=\"text\"\r\n            value={this.state.msg.txt}\r\n            onChange={this.msgHandleChange}\r\n            name=\"txt\"\r\n            autoComplete=\"off\"\r\n          />\r\n          <button>Send</button>\r\n        </form>\r\n        <ul>\r\n          {this.state.msgs.map((msg, idx) => (\r\n            <li key={idx}>{msg.from}: {msg.txt}</li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    loggedInUser: state.userModule.loggedInUser\r\n  }\r\n}\r\nconst mapDispatchToProps = {\r\n}\r\n\r\nexport const ChatApp = connect(mapStateToProps, mapDispatchToProps)(_ChatApp)\r\n","var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgIconMembers(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"40.000000pt\",\n    height: \"40.000000pt\",\n    viewBox: \"0 0 40.000000 40.000000\",\n    preserveAspectRatio: \"xMidYMid meet\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(0.000000,40.000000) scale(0.100000,-0.100000)\",\n    fill: \"#000000\",\n    stroke: \"none\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M170 373 c-56 -21 -81 -84 -56 -135 15 -30 15 -33 -1 -42 -60 -34 -107 -130 -78 -160 14 -13 42 -16 170 -16 140 0 155 2 164 19 21 38 -25 126 -82 157 -16 9 -16 12 -1 42 19 39 12 81 -19 111 -24 22 -72 34 -97 24z m72 -50 c38 -34 11 -103 -40 -103 -54 0 -81 62 -45 102 20 22 61 23 85 1z m35 -164 c31 -19 63 -64 63 -89 0 -6 -49 -10 -140 -10 -98 0 -140 3 -140 11 0 7 9 26 20 44 39 63 132 84 197 44z\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconMembers);\nexport default __webpack_public_path__ + \"static/media/icon-members.55f0cb11.svg\";\nexport { ForwardRef as ReactComponent };","import { ReactComponent as LoaderSvg } from '../assets/img/loader.svg'\r\n\r\nexport function Loader() {\r\n    return (\r\n        <div className=\"loader-screen\">\r\n            <LoaderSvg />\r\n        </div>\r\n    )\r\n}","var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgIconChecklists(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"40.000000pt\",\n    height: \"40.000000pt\",\n    viewBox: \"0 0 40.000000 40.000000\",\n    preserveAspectRatio: \"xMidYMid meet\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(0.000000,40.000000) scale(0.100000,-0.100000)\",\n    fill: \"#000000\",\n    stroke: \"none\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M46 345 c-23 -24 -24 -266 0 -289 23 -24 265 -23 289 0 22 22 18 139 -5 139 -11 0 -16 -14 -18 -57 l-3 -58 -119 0 -120 0 0 120 0 119 108 3 c87 2 107 6 107 18 0 23 -216 27 -239 5z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M270 245 c-41 -41 -78 -75 -82 -75 -4 0 -23 17 -42 38 -28 30 -37 35 -48 24 -10 -10 -3 -22 40 -65 l52 -52 90 90 c50 49 89 94 87 99 -8 23 -27 12 -97 -59z\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconChecklists);\nexport default __webpack_public_path__ + \"static/media/icon-checklists.c0321893.svg\";\nexport { ForwardRef as ReactComponent };","var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgIconLabels(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"40.000000pt\",\n    height: \"40.000000pt\",\n    viewBox: \"0 0 40.000000 40.000000\",\n    preserveAspectRatio: \"xMidYMid meet\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(0.000000,40.000000) scale(0.100000,-0.100000)\",\n    fill: \"#000000\",\n    stroke: \"none\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M113 297 c-108 -110 -120 -164 -52 -242 34 -38 77 -51 131 -40 42 10 198 158 198 190 0 27 -148 175 -176 175 -12 0 -52 -32 -101 -83z m180 -25 l68 -68 -80 -77 c-74 -72 -81 -77 -123 -77 -35 0 -49 5 -70 28 -31 33 -40 66 -27 101 11 29 137 161 154 161 6 0 41 -31 78 -68z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M134 202 c-25 -16 -34 -50 -23 -76 21 -46 77 -46 98 0 16 37 -11 84 -49 84 -8 0 -20 -4 -26 -8z m46 -52 c0 -13 -7 -20 -20 -20 -13 0 -20 7 -20 20 0 13 7 20 20 20 13 0 20 -7 20 -20z\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconLabels);\nexport default __webpack_public_path__ + \"static/media/icon-labels.7301ff61.svg\";\nexport { ForwardRef as ReactComponent };","var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgIconCover(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"40.000000pt\",\n    height: \"40.000000pt\",\n    viewBox: \"0 0 40.000000 40.000000\",\n    preserveAspectRatio: \"xMidYMid meet\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(0.000000,40.000000) scale(0.100000,-0.100000)\",\n    fill: \"#000000\",\n    stroke: \"none\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M30 321 c-13 -25 -13 -217 0 -242 10 -18 23 -19 170 -19 147 0 160 1 170 19 5 11 10 65 10 121 0 56 -5 110 -10 121 -10 18 -23 19 -170 19 -147 0 -160 -1 -170 -19z m310 -81 l0 -60 -140 0 -140 0 0 60 0 60 140 0 140 0 0 -60z\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconCover);\nexport default __webpack_public_path__ + \"static/media/icon-cover.d256c68d.svg\";\nexport { ForwardRef as ReactComponent };","var _g, _g2, _g3, _g4, _g5, _g6, _g7, _g8, _g9, _g10, _g11, _g12, _g13, _g14, _g15, _g16;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgIconAttachment(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 512 512\",\n    style: {\n      enableBackground: \"new 0 0 512 512\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M467.076,68.86c-59.902-59.902-156.846-59.896-216.741,0L34.919,284.276c-46.558,46.557-46.558,122.312,0,168.87 c46.57,46.571,122.326,46.544,168.87,0L419.205,237.73c33.36-33.36,33.36-87.64,0-121c-33.359-33.361-87.64-33.361-121,0 L114.478,300.457c-6.975,6.975-6.975,18.285,0,25.259c6.975,6.975,18.285,6.975,25.259,0l183.727-183.727 c19.432-19.432,51.05-19.432,70.481,0c19.431,19.432,19.431,51.05,0,70.481L178.53,427.887c-32.71,32.71-85.646,32.706-118.352,0 c-15.806-15.806-24.511-36.821-24.511-59.175s8.706-43.369,24.511-59.176L275.594,94.119c45.94-45.94,120.287-45.934,166.222,0 c45.827,45.828,45.827,120.395,0,166.222l-95.741,95.741c-6.975,6.975-6.975,18.284,0,25.259s18.285,6.975,25.259,0l95.741-95.741 C526.978,225.7,526.971,128.754,467.076,68.86z\"\n  })))), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", null)), _g3 || (_g3 = /*#__PURE__*/React.createElement(\"g\", null)), _g4 || (_g4 = /*#__PURE__*/React.createElement(\"g\", null)), _g5 || (_g5 = /*#__PURE__*/React.createElement(\"g\", null)), _g6 || (_g6 = /*#__PURE__*/React.createElement(\"g\", null)), _g7 || (_g7 = /*#__PURE__*/React.createElement(\"g\", null)), _g8 || (_g8 = /*#__PURE__*/React.createElement(\"g\", null)), _g9 || (_g9 = /*#__PURE__*/React.createElement(\"g\", null)), _g10 || (_g10 = /*#__PURE__*/React.createElement(\"g\", null)), _g11 || (_g11 = /*#__PURE__*/React.createElement(\"g\", null)), _g12 || (_g12 = /*#__PURE__*/React.createElement(\"g\", null)), _g13 || (_g13 = /*#__PURE__*/React.createElement(\"g\", null)), _g14 || (_g14 = /*#__PURE__*/React.createElement(\"g\", null)), _g15 || (_g15 = /*#__PURE__*/React.createElement(\"g\", null)), _g16 || (_g16 = /*#__PURE__*/React.createElement(\"g\", null)));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconAttachment);\nexport default __webpack_public_path__ + \"static/media/icon-attachment.66099c4c.svg\";\nexport { ForwardRef as ReactComponent };","var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgIconDates(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"40.000000pt\",\n    height: \"40.000000pt\",\n    viewBox: \"0 0 40.000000 40.000000\",\n    preserveAspectRatio: \"xMidYMid meet\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(0.000000,40.000000) scale(0.100000,-0.100000)\",\n    fill: \"#000000\",\n    stroke: \"none\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M142 393 c-40 -8 -119 -92 -132 -142 -20 -74 -6 -125 48 -181 54 -55 110 -76 180 -65 59 9 135 81 152 144 20 74 6 125 -48 181 -59 61 -116 79 -200 63z m138 -55 c51 -35 73 -71 78 -130 3 -44 0 -59 -20 -87 -36 -52 -71 -74 -130 -79 -44 -3 -59 0 -87 20 -48 32 -72 68 -78 116 -7 54 1 83 34 123 52 61 143 78 203 37z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M187 334 c-4 -4 -7 -37 -7 -74 0 -62 2 -68 35 -100 27 -26 38 -31 47 -22 9 9 6 18 -15 39 -21 23 -26 39 -29 92 -3 59 -14 82 -31 65z\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconDates);\nexport default __webpack_public_path__ + \"static/media/icon-dates.671295ac.svg\";\nexport { ForwardRef as ReactComponent };","import { socketService } from \"./socket.service\";\r\nimport { userService } from './user.service.js'\r\nimport { utilService } from './util.service.js'\r\n\r\nexport const activityService = {\r\n    addActivityToBoard\r\n}\r\n\r\nexport function addActivityToBoard(board, activityType, txt, card) {\r\n    const savedActivity = createActivity(activityType, txt, card)\r\n    socketService.emit('SOCKET_EVENT_ON_NEW_ACTIVITY', savedActivity)\r\n    board.activities.unshift(savedActivity)\r\n    return board\r\n}\r\n\r\nexport function createActivity(activityType, txt = '', card = null) {\r\n\r\n    const loggedInUser = userService.getLoggedinUser();\r\n\r\n    let byMember\r\n    if (loggedInUser) {\r\n        byMember = {\r\n            id: loggedInUser._id,\r\n            fullname: loggedInUser.fullname,\r\n            imgUrl: loggedInUser.imgUrl\r\n        }\r\n    } else {\r\n        byMember = {\r\n            id: 'guest',\r\n            fullname: 'guest',\r\n            imgUrl: ''\r\n        }\r\n    }\r\n\r\n\r\n    let cardData\r\n    if (card) {\r\n        cardData = {\r\n            id: card.id,\r\n            title: card.title,\r\n            members: card.members\r\n        }\r\n    }\r\n\r\n    const activityToCreate = {\r\n        id: utilService.makeId(),\r\n        txt,\r\n        createdAt: Date.now(),\r\n        byMember,\r\n        activityType,\r\n        card: cardData || null\r\n    }\r\n\r\n    return activityToCreate\r\n}","import { Component } from 'react';\r\nimport { openPopover, closePopover } from '../../store/popover.actions.js'\r\nimport { onSaveBoard } from '../../store/board.actions.js';\r\nimport { connect } from 'react-redux';\r\nimport { Loader } from '../../cmps/loader.jsx'\r\nimport { ReactComponent as MemberIcon } from '../../assets/img/cmps/card-details/icon-members.svg'\r\nimport { ReactComponent as CheckListIcon } from '../../assets/img/cmps/card-details/icon-checklists.svg'\r\nimport { ReactComponent as LabelIcon } from '../../assets/img/cmps/card-details/icon-labels.svg'\r\nimport { ReactComponent as CoverIcon } from '../../assets/img/cmps/card-details/icon-cover.svg'\r\nimport { ReactComponent as AttachmentIcon } from '../../assets/img/cmps/card-details/icon-attachment.svg'\r\nimport { ReactComponent as DateIcon } from '../../assets/img/cmps/card-details/icon-dates.svg'\r\nimport { utilService } from '../../services/util.service.js'\r\nimport { boardService } from '../../services/board.service.js'\r\nimport { activityService } from '../../services/activity.service';\r\n\r\nclass _CardDetailsActions extends Component {\r\n\r\n  onOpenPopover = (ev, PopoverName) => {\r\n    //debugger\r\n    const elPos = ev.target.getBoundingClientRect();\r\n    const props = {\r\n      card: this.props.card,\r\n      addFile: this.addFile\r\n    };\r\n    this.props.openPopover(PopoverName, elPos, props);\r\n  };\r\n\r\n  addFile = (fileUrl) => {\r\n    const { card, onSaveBoard, closePopover, board } = this.props\r\n    if (!card.attachs) card.attachs = []\r\n    const attach = {\r\n      id: utilService.makeId(),\r\n      fileName: `${utilService.makeId(12)}.jpg`,\r\n      url: fileUrl,\r\n      createdAt: Date.now()\r\n    }\r\n\r\n    card.attachs.push(attach)\r\n    let updatedBoard = boardService.updateCardInBoard(board, card)\r\n    updatedBoard = activityService.addActivityToBoard(updatedBoard, 'attached', attach.fileName, card)\r\n    onSaveBoard(updatedBoard)\r\n    closePopover()\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n    const { card } = this.props;\r\n    if (!card) return <Loader />\r\n\r\n\r\n    return (\r\n      <div className=\"details-actions-wrapper flex column\">\r\n        <div className=\"add-section flex column\">\r\n          <h4>ADD TO CARD</h4>\r\n\r\n          {/* members side button   */}\r\n          <button\r\n            className=\"actions-btn secondary-btn\"\r\n            onClick={(ev) => this.onOpenPopover(ev, 'MEMBERS')}\r\n          >\r\n            <div className=\"actions-btn-content flex align-center\">\r\n              <MemberIcon className=\"action-logo\" />\r\n              <span>Members </span>\r\n            </div>\r\n\r\n          </button>\r\n\r\n          {/* labels side button  */}\r\n          <button\r\n            className=\"secondary-btn actions-btn\"\r\n            onClick={(ev) => this.onOpenPopover(ev, 'LABELS')}\r\n          >\r\n            <div className=\"actions-btn-content flex align-center\">\r\n              <LabelIcon className=\"action-logo\" />\r\n              <span>Labels</span>\r\n            </div>\r\n\r\n          </button>\r\n\r\n          {/* checklist side button  */}\r\n\r\n          <button\r\n            className=\"secondary-btn actions-btn\"\r\n            onClick={(ev) => this.onOpenPopover(ev, 'CHECKLIST')}\r\n          >\r\n            <div className=\"actions-btn-content flex align-center\">\r\n              <CheckListIcon className=\"action-logo\" />\r\n              <span>Checklist</span>\r\n            </div>\r\n\r\n          </button>\r\n\r\n          {/* due date side button  */}\r\n          <button\r\n            className=\"secondary-btn actions-btn\"\r\n            onClick={(ev) => this.onOpenPopover(ev, 'DATE')}\r\n          >\r\n            <div className=\"actions-btn-content flex align-center\">\r\n              <DateIcon className=\"action-logo\" />\r\n              <span>Date</span>\r\n            </div>\r\n\r\n          </button>\r\n\r\n          {/* attach side button  */}\r\n          <button\r\n\r\n            className=\"secondary-btn actions-btn\"\r\n            onClick={(ev) => this.onOpenPopover(ev, 'ATTACHMENT')}\r\n          >\r\n            <div className=\"actions-btn-content flex align-center\">\r\n              <AttachmentIcon className=\"action-logo\" />\r\n              <span>Attachment</span>\r\n            </div>\r\n\r\n          </button>\r\n\r\n          {/* cover side button  */}\r\n          <button\r\n            className=\"secondary-btn actions-btn\"\r\n            onClick={(ev) => this.onOpenPopover(ev, 'COVER')}\r\n          >\r\n            <div className=\"actions-btn-content flex align-center\">\r\n              <CoverIcon className=\"action-logo\" />\r\n              <span>Cover</span>\r\n            </div>\r\n\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"actions-section flex column\">\r\n          <h4>ACTIONS</h4>\r\n          <button\r\n            className=\"secondary-btn actions-btn\"\r\n            onClick={(ev) => this.onOpenPopover(ev, 'MOVE')}\r\n          >\r\n            <div className=\"actions-btn-content flex align-center\">\r\n              <i className=\"fas fa-arrow-right icon-sm\"></i>\r\n              <span>Move</span>\r\n            </div>\r\n\r\n          </button>\r\n\r\n          <button\r\n            className=\"secondary-btn actions-btn\"\r\n            onClick={(ev) => this.onOpenPopover(ev, 'COPY')}\r\n          >\r\n            <div className=\"actions-btn-content flex align-center\">\r\n              <span>Copy</span>\r\n            </div>\r\n\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    board: state.boardModule.board,\r\n    currPopoverName: state.popoverModule.currPopover.name,\r\n  };\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  openPopover,\r\n  closePopover,\r\n  onSaveBoard,\r\n};\r\n\r\nexport const CardDetailsActions = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(_CardDetailsActions);\r\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgAdd(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    role: \"presentation\",\n    focusable: \"false\",\n    viewBox: \"0 0 24 24\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12 3C11.4477 3 11 3.44772 11 4V11L4 11C3.44772 11 3 11.4477 3 12C3 12.5523 3.44772 13 4 13H11V20C11 20.5523 11.4477 21 12 21C12.5523 21 13 20.5523 13 20V13H20C20.5523 13 21 12.5523 21 12C21 11.4477 20.5523 11 20 11L13 11V4C13 3.44772 12.5523 3 12 3Z\",\n    fill: \"currentColor\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgAdd);\nexport default __webpack_public_path__ + \"static/media/add.cb3d7757.svg\";\nexport { ForwardRef as ReactComponent };","import { ReactComponent as AddIcon } from '../../assets/img/icons/add.svg'\r\n\r\nexport function CardDetailsLabels({ labels, openPopover, card }) {\r\n\r\n    const onOpenPopover = (ev, type) => {\r\n        ev.preventDefault();\r\n        const elPos = ev.target.getBoundingClientRect()\r\n        const props = { card }\r\n        openPopover(type, elPos, props)\r\n    }\r\n\r\n    return (\r\n        <div className=\"card-details-labels item-container flex column align-flex-end\">\r\n            <h3 className=\"card-details-item-header\">Labels</h3>\r\n            <div className=\"flex wrap\">\r\n                {labels.map(label => {\r\n                    return <span\r\n                        onClick={(ev) => onOpenPopover(ev, 'LABELS')} key={label.id} className=\"label\" style={{ backgroundColor: label.color }}>\r\n                        {label.title}\r\n                    </span>\r\n                })}\r\n                <button className=\"secondary-btn\"\r\n                    onClick={(ev) => onOpenPopover(ev, 'LABELS')} > <AddIcon className=\"add-icon-svg\"/> </button>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from \"react\"\r\nimport { boardService } from \"../../services/board.service\";\r\nimport { activityService } from '../../services/activity.service';\r\n\r\nexport class DueDateDisplay extends React.Component {\r\n    state = {\r\n        isChecked: false,\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { card } = this.props\r\n        if (card.dueDateDone) {\r\n            this.setState({ isChecked: true })\r\n        }\r\n    }\r\n    render() {\r\n        const { card, onSaveBoard, board } = this.props\r\n        const { isChecked } = this.state\r\n        return (\r\n            <section className=\"date-card-details-container \">\r\n                <h3>Due date</h3>\r\n\r\n                <div>\r\n                    <input type=\"checkbox\" defaultChecked={card.dueDateDone} onChange={(ev) => {\r\n                        card.dueDateDone = ev.target.checked ? true : false\r\n                        let updatedBoard = boardService.updateCardInBoard(board, card)\r\n                        updatedBoard = activityService.addActivityToBoard(updatedBoard, 'marked-duedate', (card.dueDateDone) ? 'complete' : 'incomplete', card)\r\n                        onSaveBoard(updatedBoard)\r\n                        this.setState({ isChecked: !isChecked })\r\n                    }} />\r\n                    <button className=\"due-date-change-btn secondary-btn\" onClick={(ev) => {\r\n\r\n                        const elPos = ev.target.getBoundingClientRect();\r\n                        const props = {\r\n                            card: this.props.card,\r\n                        };\r\n                        this.props.openPopover('DATE', elPos, props);\r\n                    }\r\n                    }>\r\n                        <span className=\"due-date-date-btn\">{new Date(card.dueDate).toLocaleString()}</span>\r\n                        {!isChecked && <span className=\"due-date-status-btn due-soon\" >Due Soon</span>}\r\n                        {isChecked && <span className=\"due-date-status-btn due-complete\">Complete</span>}\r\n                        {<span className=\"buttom-arrow\">\r\n                            <svg width=\"15\" height=\"15\" role=\"presentation\" focusable=\"false\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                <path\r\n                                    d=\"M11.2929 16.7071L4.22185 9.63606C3.83132 9.24554 3.83132 8.61237 4.22185 8.22185C4.61237 7.83133 5.24554 7.83133 5.63606 8.22185L12 14.5858L18.364 8.22185C18.7545 7.83132 19.3877 7.83132 19.7782 8.22185C20.1687 8.61237 20.1687 9.24554 19.7782 9.63606L12.7071 16.7071C12.3166 17.0977 11.6834 17.0977 11.2929 16.7071Z\"\r\n                                    fill=\"currentColor\">\r\n                                </path>\r\n                            </svg>\r\n                        </span>}\r\n                    </button>\r\n\r\n                </div>\r\n            </section>\r\n        )\r\n    }\r\n}","var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgIconDescription(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 30,\n    height: 30,\n    viewBox: \"0 0 200.000000 200.000000\",\n    preserveAspectRatio: \"xMidYMid meet\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(0.000000,200.000000) scale(0.100000,-0.100000)\",\n    fill: \"#000000\",\n    stroke: \"none\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M456 1398 c-21 -30 -20 -54 4 -78 19 -19 33 -20 540 -20 507 0 521 1 540 20 24 24 25 48 4 78 l-15 22 -529 0 -529 0 -15 -22z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M456 1148 c-21 -30 -20 -54 4 -78 19 -19 33 -20 540 -20 507 0 521 1 540 20 24 24 25 48 4 78 l-15 22 -529 0 -529 0 -15 -22z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M456 898 c-21 -30 -20 -54 4 -78 19 -19 33 -20 540 -20 507 0 521 1 540 20 24 24 25 48 4 78 l-15 22 -529 0 -529 0 -15 -22z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M456 648 c-21 -30 -20 -54 4 -78 19 -19 33 -20 353 -20 311 0 335 1 350 18 21 23 22 66 1 86 -13 14 -60 16 -354 16 -339 0 -339 0 -354 -22z\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconDescription);\nexport default __webpack_public_path__ + \"static/media/icon-description.d15c3b5f.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\"\r\nimport { boardService } from \"../../services/board.service\";\r\nimport { ReactComponent as IconDescription } from '../../assets/img/cmps/card-details/icon-description.svg'\r\nimport CloseRoundedIcon from '@material-ui/icons/CloseRounded';\r\nimport { activityService } from '../../services/activity.service';\r\n\r\nexport class Description extends React.Component {\r\n  state = {\r\n    isOnEditState: false,\r\n    description: 'new description'\r\n  }\r\n\r\n  onSaveDescription = () => {\r\n    const { description } = this.state\r\n    const { board, card, onSaveBoard } = this.props\r\n    card.description = description\r\n    let updatedBoard = boardService.updateCardInBoard(board, card)\r\n    updatedBoard = activityService.addActivityToBoard(updatedBoard, 'changed_with_loc', 'description', card)\r\n    //todo\r\n    onSaveBoard(updatedBoard)\r\n  }\r\n  goBackToCard = () => {\r\n\r\n  }\r\n  handleChange = (ev) => {\r\n    if (ev.keyCode === 13) {\r\n      ev.preventDefault();\r\n      this.onSaveDescription();\r\n      return;\r\n    }\r\n    this.setState({ description: ev.target.value });\r\n  };\r\n  render() {\r\n    const { isOnEditState, description } = this.state\r\n    return (\r\n      <section className=\"desctiption-container\">\r\n        <div className=\"description-header flex\">\r\n          <span className=\"icon-description icon-lg window-module-title-icon\"><IconDescription /></span>\r\n          <h3 className=\"description-headline\">Description</h3>\r\n          <button className=\"description-edit-btn\" onClick={() => {\r\n            this.setState({ isOnEditState: true })\r\n          }}>Edit</button>\r\n        </div>\r\n        <div className=\"description-main\">\r\n          {isOnEditState ? (\r\n            <div className=\"description-txt-area-container\">\r\n              <textarea\r\n                type=\"text\"\r\n                className=\"card-list-header-input\"\r\n                value={description}\r\n                autoFocus\r\n                onChange={this.handleChange}\r\n                onKeyDown={this.handleChange}\r\n                onBlur={() => {\r\n\r\n                  this.onSaveDescription()\r\n                  this.setState({ isOnEditState: !isOnEditState })\r\n                }}\r\n              />\r\n              <div className=\"description-textarea-btns\">\r\n                <button className=\"save-description button--primary\" onClick={() => {\r\n                  this.onSaveDescription()\r\n                }}>Save</button>\r\n                <button\r\n                  onClick={() => this.goBackToCard()}\r\n                  className='close-window-btn-textarea'\r\n\r\n                >\r\n                  <CloseRoundedIcon />\r\n                </button>\r\n              </div>\r\n            </div>\r\n          )\r\n            : (\r\n              <p dir=\"auto\" onClick={() => {\r\n                this.setState({ isOnEditState: !isOnEditState })\r\n              }}>{description}</p>\r\n            )}\r\n        </div>\r\n      </section>\r\n    )\r\n  }\r\n\r\n}","export function ScreenOverlay({ goBack = null, styleMode, children }) {\r\n\r\n    return (\r\n        <div className=\"screen-overlay-wrapper\">\r\n            <div className={`screen-overlay ${styleMode}`} onClick={() => {\r\n                if (goBack) goBack()\r\n                return\r\n            }}></div>\r\n            {children}\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nfunction _ProfileAvatar({ member, size, onOpenPopover, showStatus = false, onlineUsers }) {\r\n\r\n    if (!member) return ''\r\n\r\n    const isMemberLoggedin = () => {\r\n        return onlineUsers.some(onlineUserId => onlineUserId === member._id)\r\n    }\r\n\r\n    const avatarStyles = () => {\r\n        let styles = {}\r\n        styles.width = `${size}px`;\r\n        styles.height = `${size}px`;\r\n        return styles\r\n    }\r\n\r\n    const getStatus = () => {\r\n        if (!showStatus) return 'standard'\r\n        else if (isMemberLoggedin()) return 'dot'\r\n        else return 'standard'\r\n    }\r\n\r\n    const StyledBadge = withStyles((theme) => ({\r\n        badge: {\r\n            width: (+(((size * 27) / 100).toFixed(0))),\r\n            height: (+(((size * 27) / 100).toFixed(0))),\r\n            backgroundColor: '#44b700',\r\n            color: '#44b700',\r\n            boxShadow: `0 0 0 1px ${theme.palette.background.paper}`,\r\n            borderRadius: '50%',\r\n            '&::after': {\r\n                position: 'absolute',\r\n                top: -1,\r\n                left: -1,\r\n                width: '100%',\r\n                height: '100%',\r\n                borderRadius: '50%',\r\n                animation: '$ripple 1.2s infinite ease-in-out',\r\n                border: '1px solid currentColor',\r\n                content: '\"\"',\r\n            },\r\n        },\r\n        '@keyframes ripple': {\r\n            '0%': {\r\n                transform: 'scale(.8)',\r\n                opacity: 1,\r\n            },\r\n            '100%': {\r\n                transform: 'scale(1.4)',\r\n                opacity: 0,\r\n            },\r\n        },\r\n    }))(Badge);\r\n\r\n    const onClickAvatar = (ev) => {\r\n        if (onOpenPopover) {\r\n            onOpenPopover(ev, 'PROFILE', member)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"profile-avatar\" onClick={(ev) => onClickAvatar(ev)}>\r\n            <StyledBadge\r\n                overlap=\"circular\"\r\n                anchorOrigin={{\r\n                    vertical: 'bottom',\r\n                    horizontal: 'right',\r\n                }}\r\n                variant={getStatus()}\r\n            >\r\n                <Avatar\r\n                    className=\"avatar\"\r\n                    alt={member.fullname}\r\n                    src={member.imgUrl}\r\n                    style={avatarStyles()}\r\n                >\r\n                    {!member.imgUrl && member.fullname.split(' ').map(word => word.charAt(0)).join('')}\r\n                </Avatar>\r\n            </StyledBadge>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        onlineUsers: state.userModule.onlineUsers\r\n    }\r\n}\r\n\r\nexport const ProfileAvatar = connect(mapStateToProps)(_ProfileAvatar)\r\n","import { ProfileAvatar } from '../../cmps/profile-avatar.jsx'\r\nimport { ReactComponent as AddIcon } from '../../assets/img/icons/add.svg'\r\n\r\nexport function CardDetailsMembers({ members, card, openPopover }) {\r\n\r\n    const onOpenPopover = (ev, type, member) => {\r\n        ev.preventDefault();\r\n        let elPos;\r\n        let props;\r\n        elPos = ev.target.getBoundingClientRect()\r\n        props = type === 'PROFILE' ? { member, card } : { card }\r\n        openPopover(type, elPos, props)\r\n    }\r\n\r\n    return (\r\n        <div className=\"card-details-members item-container flex column\">\r\n            <h3 className=\"card-details-item-header\">Members</h3>\r\n            <div className=\"members-container flex wrap\">\r\n                {members && members.map(member => {\r\n                    return <ProfileAvatar key={member._id} member={member} size={32}\r\n                        onOpenPopover={onOpenPopover} />\r\n                })}\r\n                <button className=\"add-member secondary-btn\"\r\n                    onClick={(ev) => onOpenPopover(ev, 'MEMBERS')} >\r\n                    <AddIcon className=\"add-icon-svg\" />\r\n                </button>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import { ReactComponent as CoverIcon } from '../../assets/img/cmps/card-details/icon-cover.svg'\r\nexport function CardDetailsCover({ style, openPopover, card }) {\r\n\r\n    const onOpenPopover = (ev, type) => {\r\n        ev.preventDefault();\r\n        const elPos = ev.target.getBoundingClientRect()\r\n        const props = { card }\r\n        openPopover(type, elPos, props)\r\n    }\r\n\r\n    const getBackground = () => {\r\n        const { bgColor, bgImgUrl } = style\r\n        const background = bgColor ? { background: bgColor } : { backgroundImage: `url(${bgImgUrl})` }\r\n        return background\r\n    }\r\n\r\n    return (\r\n        <div className={`card-details-cover ${style.bgImgUrl ? 'img' : ''}`} style={getBackground()}>\r\n            < button className=\"secondary-btn cover-menu-btn \" onClick={(ev) => onOpenPopover(ev, 'COVER')\r\n            }><CoverIcon className=\"action-logo\" />\r\n                Cover</button >\r\n        </div >\r\n    )\r\n}","import React from \"react\"\r\n\r\nexport class CardChecklistItem extends React.Component {\r\n    state = {\r\n        checklistItem: 'new',\r\n        isOnEditState: false\r\n    }\r\n    componentDidMount() {\r\n        const { todo } = this.props\r\n        if (todo) {\r\n            this.setState({ checklistItem: todo.title })\r\n        }\r\n        else {\r\n            this.setState({ isOnEditState: true })\r\n        }\r\n    }\r\n    onSaveChecklistItem = () => {\r\n        const { onAddingListItem, todo } = this.props\r\n        const { checklistItem } = this.state\r\n        if (todo) {\r\n\r\n            onAddingListItem(checklistItem, todo.id)\r\n        }\r\n        else {\r\n            onAddingListItem(checklistItem)\r\n        }\r\n    }\r\n    goBackToCard = () => {\r\n\r\n    }\r\n    handleChange = (ev) => {\r\n        if (ev.keyCode === 13) {\r\n            ev.preventDefault();\r\n            this.onSaveChecklistItem();\r\n            return;\r\n        }\r\n        this.setState({ checklistItem: ev.target.value });\r\n    };\r\n    render() {\r\n        const { onBoxChecked, todo, updateTodoCheckedBox } = this.props\r\n        const { isOnEditState, checklistItem } = this.state\r\n        return (\r\n            <section className=\"checklist-item-container\">\r\n                <input type=\"checkbox\" defaultChecked={todo && todo.isChecked} className=\"checklist-item-checkbox\" id=\"subscribeNews\" name=\"subscribe\" value=\"newsletter\" onChange={(ev) => {\r\n\r\n                    if (ev.target.checked) {\r\n\r\n                        onBoxChecked(1)\r\n                        todo.isChecked = true\r\n                        updateTodoCheckedBox(todo, 'completed', ev.target.value)\r\n                    }\r\n                    else {\r\n                        todo.isChecked = false\r\n                        updateTodoCheckedBox(todo, 'incomplete', ev.target.value)\r\n                        onBoxChecked(-1)\r\n                    }\r\n\r\n                }} />\r\n                {isOnEditState ? (\r\n                    <div className=\"checklist-item-input-container\">\r\n                        <textarea\r\n                            type=\"text\"\r\n                            className=\"card-checklist-item-input\"\r\n                            value={checklistItem}\r\n                            autoFocus\r\n                            onChange={this.handleChange}\r\n                            onKeyDown={this.handleChange}\r\n                            onBlur={() => {\r\n                                this.onSaveChecklistItem()\r\n                                this.setState({ isOnEditState: !isOnEditState })\r\n\r\n                            }\r\n\r\n                            } />\r\n                    </div>\r\n                )\r\n                    : (\r\n                        <p dir=\"auto\" onClick={() => {\r\n                            this.setState({ isOnEditState: !isOnEditState })\r\n                        }}>{checklistItem}</p>\r\n                    )}\r\n            </section>\r\n        )\r\n    }\r\n\r\n}","var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgIconChecklist(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"200.000000pt\",\n    height: \"200.000000pt\",\n    viewBox: \"0 0 200.000000 200.000000\",\n    preserveAspectRatio: \"xMidYMid meet\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(0.000000,200.000000) scale(0.100000,-0.100000)\",\n    fill: \"#000000\",\n    stroke: \"none\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M551 1504 c-17 -14 -36 -42 -41 -62 -8 -25 -10 -168 -8 -429 3 -379 4 -392 24 -420 39 -53 39 -53 474 -53 435 0 435 0 474 53 19 26 21 44 24 205 3 201 -3 225 -54 230 -59 6 -64 -9 -64 -199 l0 -169 -380 0 -380 0 0 375 0 375 319 0 c307 0 319 1 345 21 30 23 33 45 10 77 l-15 22 -349 0 -348 0 -31 -26z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M1233 1168 l-243 -242 -72 79 c-120 132 -145 155 -167 155 -27 0 -61 -34 -61 -60 0 -19 67 -100 202 -242 102 -109 82 -119 400 200 190 190 268 274 268 290 0 28 -34 62 -62 62 -15 0 -95 -73 -265 -242z\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconChecklist);\nexport default __webpack_public_path__ + \"static/media/icon-checklist.9c7acd5f.svg\";\nexport { ForwardRef as ReactComponent };","import { Component } from \"react\";\r\n\r\n\r\nexport class ProgressBar extends Component {\r\n\r\n    state = {\r\n        fillerStyles: {\r\n            width: `0%`,\r\n        },\r\n        bgColor: {\r\n            activeColor: \"#5ca4cf\",\r\n            doneColor: \"#60bd4f\",\r\n        },\r\n        completed: 0\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { completed } = this.props;\r\n        this.setState({ completed })\r\n        console.log(completed);\r\n        this.setState({ completed, fillerStyles: { width: `${completed}%` } });\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.completed !== this.props.completed) {\r\n            const { completed } = this.props;\r\n            this.setState({ completed, fillerStyles: { width: `${completed}%` } });\r\n        }\r\n    }\r\n\r\n    get bgColor() {\r\n        const { completed, bgColor } = this.state;\r\n        if (completed === 100) return bgColor.doneColor\r\n        return bgColor.activeColor\r\n    }\r\n\r\n    render() {\r\n        const { completed, fillerStyles: { width } } = this.state;\r\n        const finished = (completed === 100) ? { borderTopRightRadius: '5em', borderBottomRightRadius: '5em' } : ''\r\n        return (\r\n            <div className=\"progress flex align-center\">\r\n                <span className=\"precent\">\r\n                    {completed}%\r\n                </span>\r\n                <div className=\"progress-bar-container \">\r\n                    <div className=\"progress-bar\" style={{ width, backgroundColor: this.bgColor, ...finished }}>\r\n                    </div>\r\n                </div>\r\n            </div >\r\n        )\r\n    }\r\n\r\n}","var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgIconHeader(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"200.000000pt\",\n    height: \"200.000000pt\",\n    viewBox: \"0 0 200.000000 200.000000\",\n    preserveAspectRatio: \"xMidYMid meet\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(0.000000,200.000000) scale(0.100000,-0.100000)\",\n    fill: \"#000000\",\n    stroke: \"none\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M482 1416 l-37 -34 -3 -354 -3 -354 23 -34 c13 -19 35 -40 48 -47 36 -18 944 -18 980 0 13 7 35 28 48 47 l23 34 -3 354 -3 354 -37 34 -38 34 -480 0 -480 0 -38 -34z m958 -276 l0 -190 -440 0 -440 0 0 190 0 190 440 0 440 0 0 -190z m-520 -330 c20 -20 26 -56 12 -76 -18 -27 -56 -34 -189 -34 -126 0 -141 2 -161 20 -27 26 -28 64 -2 90 18 18 33 20 170 20 137 0 152 -2 170 -20z m500 0 c11 -11 20 -31 20 -45 0 -29 -36 -65 -65 -65 -29 0 -65 36 -65 65 0 32 33 65 65 65 14 0 34 -9 45 -20z\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconHeader);\nexport default __webpack_public_path__ + \"static/media/icon-header.9ca7ca02.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\"\r\nimport { utilService } from \"../../services/util.service\"\r\nimport { CardChecklistItem } from \"./card-details-checklist-item\"\r\nimport { ProgressBar } from \"./progress-bar\"\r\nimport { ReactComponent as CheckIcon } from '../../assets/img/cmps/card-details/icon-checklist.svg'\r\n\r\nexport class CardChecklist extends React.Component {\r\n    state = {\r\n        isOnEditState: false,\r\n        doneTodos: 0,\r\n        percentComplite: 0\r\n    }\r\n    componentDidMount() {\r\n        const { checklist } = this.props\r\n        if (!checklist.todos || !checklist.todos.length) {\r\n            this.setState({ percentComplite: 0 })\r\n            console.log('after update this state to zero');\r\n        }\r\n        else {\r\n            console.log('checklist.todos', checklist.todos);\r\n            let counter = 0;\r\n            checklist.todos.forEach(todo => {\r\n                counter = todo.isChecked ? counter + 1 : counter\r\n            })\r\n            console.log(counter);\r\n            this.setState({ doneTodos: counter })\r\n            const totTodo = checklist.todos.length\r\n            const complite = counter / totTodo\r\n            console.log('complite', complite);\r\n            this.setState({ percentComplite: complite * 100 })\r\n        }\r\n    }\r\n\r\n\r\n    onBoxChecked = (diff) => {\r\n        const { checklist } = this.props\r\n        const doneTodos = this.state.doneTodos + diff\r\n        const totTodo = checklist.todos.length\r\n        const complite = doneTodos / totTodo\r\n        this.setState({ doneTodos })\r\n        this.setState({ percentComplite: complite * 100 })\r\n    }\r\n\r\n\r\n    updateTodoCheckedBox = (todo, activityType,) => {\r\n        const { checklist, onSaveChecklist } = this.props\r\n        const todoId = todo.id\r\n        const todoIdx = checklist.todos.findIndex(todo => {\r\n            return todo.id === todoId\r\n        })\r\n        checklist.todos[todoIdx] = todo\r\n        onSaveChecklist(checklist, activityType)\r\n\r\n    }\r\n\r\n    onEditlistItem = (checklistItem, todoId) => {\r\n        const { checklist, onSaveChecklist } = this.props\r\n        const todoIdx = checklist.todos.findIndex(todo => {\r\n            return todo.id === todoId\r\n        })\r\n        checklist.todos[todoIdx].title = checklistItem\r\n        const activityType = 'onEditlistItem'\r\n        onSaveChecklist(checklist, activityType)\r\n        this.setState({ isOnEditState: false })\r\n    }\r\n\r\n    onSaveChecklistItem = (checklistItem) => {\r\n        const todo = {}\r\n        todo.id = utilService.makeId()\r\n        todo.isChecked = false\r\n        todo.title = checklistItem\r\n        const { checklist, onSaveChecklist } = this.props\r\n        checklist.todos.push(todo)\r\n        const activityType = 'onSaveChecklistItem'\r\n        onSaveChecklist(checklist, activityType)\r\n        this.setState({ isOnEditState: false })\r\n    }\r\n\r\n    render() {\r\n        const { card, checklist } = this.props\r\n        const { isOnEditState, percentComplite } = this.state\r\n        return (\r\n            <section className=\"checklist-container\" >\r\n                <div className=\"checklist-header\">\r\n                    <CheckIcon className=\"checklist-logo\" />\r\n                    {checklist && <h3>{checklist.title}</h3>}\r\n                    {!checklist && <h3>checklist</h3>}\r\n                    <button className=\"checklist-delete-btn checklist-btn\" onClick={() => {\r\n                        this.props.onDeleteChecklist(checklist)\r\n                    }}>Delete</button>\r\n                </div>\r\n                <div className=\"checklist-wrapper\">\r\n\r\n                    <div className=\"progress-bar-container\">\r\n                        <ProgressBar completed={percentComplite} />\r\n                    </div>\r\n                    <div className=\"checklist-list-container\">\r\n                        {checklist && checklist.todos.map((todo, itemIdx) =>\r\n                            <div className=\"card-checklist-item-div\" key={itemIdx}>\r\n                                <CardChecklistItem\r\n                                    onBoxChecked={this.onBoxChecked}\r\n                                    todo={todo}\r\n                                    updateTodoCheckedBox={this.updateTodoCheckedBox}\r\n                                    onAddingListItem={this.onEditlistItem} />\r\n\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                    <div className=\"add-checklist-item-container\">\r\n                        {isOnEditState ? (\r\n                            <CardChecklistItem\r\n                                onBoxChecked={this.onBoxChecked}\r\n                                onAddingListItem={this.onSaveChecklistItem} />\r\n                        ) :\r\n                            (\r\n                                <button className=\"checklist-add-item checklist-btn\" onClick={() => {\r\n                                    this.setState({ isOnEditState: true })\r\n                                }}>Add an item</button>\r\n                            )\r\n                        }\r\n                    </div>\r\n\r\n\r\n                </div>\r\n            </section>\r\n\r\n        )\r\n    }\r\n\r\n}","import React from 'react'\r\nimport { boardService } from '../../services/board.service';\r\nimport { CardChecklist } from './card-details-checklist';\r\nimport { activityService } from '../../services/activity.service';\r\n\r\nexport class CardChecklists extends React.Component {\r\n\r\n    onSaveCardChecklists(checklists, activityType, txt) {\r\n        console.log('enter your check list :', checklists);\r\n        const { board, card, onSaveBoard } = this.props\r\n        card.checklists = checklists;\r\n        let updatedBoard = boardService.updateCardInBoard(board, card)\r\n        updatedBoard = activityService.addActivityToBoard(updatedBoard, activityType, txt, card)\r\n        onSaveBoard(updatedBoard)\r\n    }\r\n\r\n    onSaveChecklist = (checklist, activityType) => {\r\n        if (!checklist.title) return\r\n        const { checklists } = this.props\r\n        const checklistIdx = checklists.findIndex(currChecklist => currChecklist.id === checklist.id)\r\n        checklists[checklistIdx] = checklist\r\n        this.onSaveCardChecklists(checklists, activityType, checklist.title)\r\n    }\r\n\r\n    onDeleteChecklist = (checklist) => {\r\n        let { checklists } = this.props\r\n        checklists = checklists.filter(currChecklist => currChecklist.id !== checklist.id)\r\n        this.onSaveCardChecklists(checklists, 'removed', checklist.title)\r\n    }\r\n\r\n    render() {\r\n        const { checklists, board, card, onSaveBoard } = this.props\r\n        return (\r\n            <section className=\"card-checklists-container_new\">\r\n                {checklists && checklists.map(checklist =>\r\n                    <CardChecklist\r\n                        card={card}\r\n                        board={board}\r\n                        checklists={checklists}\r\n                        onSaveBoard={onSaveBoard}\r\n                        key={checklist.id}\r\n                        checklist={checklist}\r\n                        onDeleteChecklist={this.onDeleteChecklist}\r\n                        onSaveChecklist={this.onSaveChecklist} />\r\n                )}\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgIconActivity(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"223.000000pt\",\n    height: \"230.000000pt\",\n    viewBox: \"0 0 223.000000 230.000000\",\n    preserveAspectRatio: \"xMidYMid meet\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(0.000000,230.000000) scale(0.100000,-0.100000)\",\n    fill: \"#000000\",\n    stroke: \"none\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M498 1494 c-53 -28 -73 -105 -43 -164 22 -42 53 -60 105 -60 52 0 83 18 105 60 57 110 -59 223 -167 164z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M825 1486 c-19 -29 -11 -72 15 -86 11 -6 176 -10 413 -10 369 0 395 1 410 18 22 24 21 65 -1 85 -17 15 -61 17 -420 17 l-402 0 -15 -24z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M824 1235 c-17 -26 -13 -55 12 -80 13 -13 62 -15 318 -15 281 0 304 1 319 18 21 23 22 66 1 86 -13 14 -57 16 -324 16 l-310 0 -16 -25z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M498 994 c-53 -28 -73 -105 -43 -164 22 -42 53 -60 105 -60 52 0 83 18 105 60 30 59 9 136 -47 166 -31 18 -87 17 -120 -2z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M829 989 c-15 -15 -19 -28 -14 -47 12 -52 10 -52 435 -52 372 0 398 1 413 18 22 24 21 65 -1 85 -17 15 -60 17 -415 17 -389 0 -397 0 -418 -21z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M825 736 c-19 -29 -11 -72 15 -86 11 -6 143 -10 318 -10 277 0 300 1 315 18 21 23 22 66 1 86 -13 14 -57 16 -324 16 l-310 0 -15 -24z\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconActivity);\nexport default __webpack_public_path__ + \"static/media/icon-activity.3738507a.svg\";\nexport { ForwardRef as ReactComponent };","import React, { Component } from \"react\"\r\n\r\nexport class ActivityPreview extends Component {\r\n\r\n    get activityShowMsg() {\r\n        const { activity: { activityType, txt, card }, isInCardLocation } = this.props\r\n        const activityLocation = isInCardLocation ? 'this card' : card?.title\r\n        switch (activityType) {\r\n            case 'attached': return `attached ${txt} to ${activityLocation}`\r\n            case 'added': return `added ${txt} to ${activityLocation}`\r\n            case 'archived': return `archived ${activityLocation}`\r\n            case 'changed': return `changed ${txt}`\r\n            case 'changed_with_loc': return `changed ${txt} on ${activityLocation}`\r\n            case 'changed-duedate': return `changed the due date of ${activityLocation} to ${txt}`\r\n            case 'completed': return `completed ${txt} on ${activityLocation}`\r\n            case 'incomplete': return `marked ${txt} incomplete on ${activityLocation}`\r\n            case 'joined': return `joined ${activityLocation}`\r\n            case 'left': return `left ${activityLocation}`\r\n            case 'marked': return `marked ${txt} on ${activityLocation}`\r\n            case 'moved': return `moved ${activityLocation} from ${txt}`\r\n            case 'removed': return `removed ${txt} from ${activityLocation}`\r\n            case 'renamed': return `renamed this board to ${txt}`\r\n            case 'marked-duedate' : return `marked the due date to ${txt} on ${activityLocation}`\r\n            default: return ''\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { activity: { txt, createdAt, byMember, card }, } = this.props\r\n        return (<section>\r\n            <div className=\"activity-preview flex\">\r\n                <div className=\"activity-content flex column justify-center\">\r\n                    <div className=\"main flex row\">\r\n                        <span className=\"MuiAvatar-root MuiAvatar-circular avatar\"> <img src={byMember.imgUrl}/></span>\r\n                        <span>{this.activityShowMsg}</span>\r\n                    </div>\r\n                    <span className=\"created-at-time\">{new Date(createdAt).toLocaleString()}</span>\r\n                </div>\r\n            </div>\r\n        </section>)\r\n    }\r\n\r\n}\r\n","\r\nimport { ActivityPreview } from './activity-preview.jsx'\r\n\r\nexport function ActivitiesList({ activities, isInCardLocation }) {\r\n\r\n    return (\r\n        <div className=\"activities-list\">\r\n            {activities.map(activity => {\r\n                return <ActivityPreview key={activity.id} activity={activity} isInCardLocation={isInCardLocation} />\r\n            })}\r\n        </div>\r\n    )\r\n}","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPaperclipSolid(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    \"data-prefix\": \"fas\",\n    \"data-icon\": \"paperclip\",\n    className: \"svg-inline--fa fa-paperclip fa-w-14\",\n    role: \"img\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 448 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M43.246 466.142c-58.43-60.289-57.341-157.511 1.386-217.581L254.392 34c44.316-45.332 116.351-45.336 160.671 0 43.89 44.894 43.943 117.329 0 162.276L232.214 383.128c-29.855 30.537-78.633 30.111-107.982-.998-28.275-29.97-27.368-77.473 1.452-106.953l143.743-146.835c6.182-6.314 16.312-6.422 22.626-.241l22.861 22.379c6.315 6.182 6.422 16.312.241 22.626L171.427 319.927c-4.932 5.045-5.236 13.428-.648 18.292 4.372 4.634 11.245 4.711 15.688.165l182.849-186.851c19.613-20.062 19.613-52.725-.011-72.798-19.189-19.627-49.957-19.637-69.154 0L90.39 293.295c-34.763 35.56-35.299 93.12-1.191 128.313 34.01 35.093 88.985 35.137 123.058.286l172.06-175.999c6.177-6.319 16.307-6.433 22.626-.256l22.877 22.364c6.319 6.177 6.434 16.307.256 22.626l-172.06 175.998c-59.576 60.938-155.943 60.216-214.77-.485z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPaperclipSolid);\nexport default __webpack_public_path__ + \"static/media/paperclip-solid.8d140ed2.svg\";\nexport { ForwardRef as ReactComponent };","import React, { Component } from \"react\"\r\nimport { ActivitiesList } from './activities-list.jsx'\r\nimport { ReactComponent as ActivitiesIcon } from '../assets/img/icons/icon-activity.svg'\r\n\r\nexport class Activities extends Component {\r\n\r\n    get suitedActivities() {\r\n        const { card, activities, isInCardLocation } = this.props\r\n        console.log('ACTIVITIES: ', activities);\r\n\r\n        if (isInCardLocation) {\r\n            const cardActivities = activities.filter(currActivity => {\r\n                return currActivity.card.id === card.id\r\n            })\r\n            console.log('ACTIVITIES: THIS CARD', cardActivities);\r\n            return cardActivities\r\n        } else {\r\n            return activities\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { isInCardLocation } = this.props\r\n        const activities = this.suitedActivities\r\n        console.log('Activities', activities)\r\n        console.log('!!Activities.length', !!activities.length)\r\n        if (!activities) return <div>Load Activities...</div>\r\n        return (<section>\r\n            <div className=\"activities-container flex column\">\r\n                <div className=\"activities-title flex\">\r\n                    <div className=\"activity-section flex align-center\">\r\n                        <ActivitiesIcon className=\"activity-logo\" />\r\n                        <h3>Activities</h3>\r\n                    </div>\r\n                </div>\r\n                {!!activities.length && <ActivitiesList activities={activities} isInCardLocation={isInCardLocation} />}\r\n            </div>\r\n        </section>)\r\n    }\r\n}\r\n","import React from 'react';\r\nimport { ReactComponent as PaperClipIcon } from '../../assets/img/icons/paperclip-solid.svg'\r\n\r\n\r\nexport function CardAttachments({ attachs, onDeleteCardAttachment, card, openPopover }) {\r\n\r\n\r\n    return (\r\n        <div className=\"card-attachments\">\r\n            <div className=\"window-modal-title flex align-center\">\r\n                <PaperClipIcon />\r\n                <h3>Attachments</h3>\r\n            </div>\r\n            <div className=\"attachments-container\">\r\n                {attachs.map(attach => {\r\n                    return <a key={attach.id} target=\"_blank\"\r\n                        rel=\"noreferrer\" href={attach.url} className=\"clean-link\">\r\n                        <div className=\"attach-preview flex\">\r\n\r\n                            <div className=\"attach-content flex column full\">\r\n                                <span className=\"file-name\">{attach.fileName} </span>\r\n                                <div className=\"time-n-actions flex wrap align-center \">\r\n                                    <span>-</span>\r\n                                    <button\r\n                                        onClick={(ev) => onDeleteCardAttachment(ev, attach.id)}>Delete</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </a>\r\n                })}\r\n            </div>\r\n\r\n\r\n        </div>\r\n    )\r\n}","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { boardService } from '../services/board.service';\r\nimport { utilService } from '../services/util.service';\r\nimport { CardDetailsActions } from '../cmps/card-details/card-details-actions';\r\nimport { onSaveBoard } from '../store/board.actions.js';\r\nimport { openPopover, closePopover } from '../store/popover.actions.js';\r\nimport { Loader } from '../cmps/loader.jsx';\r\nimport { CardDetailsLabels } from '../cmps/card-details/card-details-labels.jsx';\r\nimport { DueDateDisplay } from '../cmps/card-details/card-details-dates.jsx';\r\nimport { Description } from '../cmps/card-details/card-details-discription.jsx';\r\nimport CloseRoundedIcon from '@material-ui/icons/CloseRounded';\r\nimport { TextareaAutosize } from '@material-ui/core';\r\nimport { ScreenOverlay } from '../cmps/screen-overlay.jsx';\r\nimport { CardDetailsMembers } from '../cmps/card-details/card-details-members.jsx'\r\nimport { CardDetailsCover } from '../cmps/card-details/card-details-cover'\r\nimport { CardChecklists } from '../cmps/card-details/card-details-checklists';\r\nimport { ReactComponent as HeaderIcon } from '../assets/img/cmps/card-details/icon-header.svg'\r\nimport { socketService } from '../services/socket.service.js';\r\nimport { Activities } from '../cmps/activities.jsx'\r\n\r\nimport {CardAttachments} from '../cmps/card-details/card-attachments.jsx'\r\n\r\nclass _CardDetails extends React.Component {\r\n  state = {\r\n    list: null,\r\n    card: null,\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { listId, cardId } = this.props.match.params;\r\n    const { board } = this.props;\r\n\r\n\r\n    //socketService.setup();\r\n    //socketService.emit('SOCKET_EVENT_START_BOARD', board._id);\r\n    //socketService.on('SOCKET_EVENT_ON_RELOAD_BOARD', (boardId) => {\r\n    //  this.setLocalState(listId, cardId);\r\n    //});\r\n\r\n    this.setLocalState(listId, cardId);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    //socketService.off('SOCKET_EVENT_ON_RELOAD_BOARD')\r\n    //socketService.terminate()\r\n  }\r\n\r\n  setLocalState = (listId, cardId) => {\r\n    //debugger\r\n\r\n    const { board } = this.props;\r\n\r\n    const list = board.lists.find((list) => list.id === listId);\r\n    const { cards } = list;\r\n    var card = cards.find((card) => card.id === cardId);\r\n    this.setState({ card, list });\r\n  };\r\n\r\n\r\n  onDeleteCardAttachment = (ev, attachId) => {\r\n    ev.preventDefault()\r\n    let { card, card: { attachs } } = this.state\r\n    attachs = attachs.filter(currAttach => currAttach.id !== attachId)\r\n    card.attachs = attachs\r\n    \r\n    this.setState({ card }, this.onSaveCard())\r\n}\r\n\r\n\r\n  onSaveCard = () => {\r\n    const { card } = this.state;\r\n    const { board } = this.props;\r\n    const updatedBoard = boardService.updateCardInBoard(board, card);\r\n    //todo\r\n    this.props.onSaveBoard(updatedBoard);\r\n  };\r\n\r\n  onSaveCardFromActions = (card) => {\r\n    this.setState({ card }, this.onSaveCard());\r\n  };\r\n\r\n  get cardLabels() {\r\n    var cardLabels = []\r\n    const {\r\n      card: { labelIds },\r\n    } = this.state;\r\n    if (!labelIds) return cardLabels;\r\n    const {\r\n      board: { labels },\r\n    } = this.props;\r\n    cardLabels = labels.reduce((acc, label) => {\r\n      if (labelIds.find((labelId) => labelId === label.id)) acc.push(label);\r\n      return acc;\r\n    }, []);\r\n    return cardLabels;\r\n  }\r\n\r\n\r\n  goBackToBoard = () => {\r\n    const { board } = this.props\r\n    this.props.closePopover()\r\n    this.props.history.push(`/board/${board._id}`)\r\n  }\r\n\r\n\r\n  onSaveCardChecklists = (checklists) => {\r\n    const { card } = this.state;\r\n    card.checklists = checklists;\r\n    this.setState({ card }, this.onSaveCard());\r\n  };\r\n\r\n  render() {\r\n    const { board, board: { activities }, onSaveBoard, openPopover } = this.props;\r\n    const { card, list } = this.state;\r\n    if (!card) return <Loader />;\r\n    const { title, members, description, checklists, dueDate, style, attachs} = card;\r\n    //debugger\r\n    return (\r\n      <section className=\"card-details-container flex\">\r\n        <ScreenOverlay goBack={this.goBackToBoard} styleMode=\"darken\" />\r\n\r\n        <div className=\"card-details  flex column\">\r\n          {style.coverMode && <CardDetailsCover style={style} openPopover={openPopover} card={card} />}\r\n          <button\r\n            onClick={() => this.goBackToBoard()}\r\n            className='close-window-btn'\r\n\r\n          >\r\n            <CloseRoundedIcon />\r\n          </button>\r\n\r\n\r\n          <div className=\"title-section\">\r\n            <HeaderIcon className=\"title-svg-logo\" />\r\n            <h1 className=\"card-details-title\">{title}</h1>\r\n\r\n          </div>\r\n\r\n\r\n          <main className=\"card-details-main-container\">\r\n            <div className=\"card-details-main flex column\">\r\n\r\n              <div className=\"card-details-content flex\">\r\n\r\n                {!!(members && members.length) && <CardDetailsMembers\r\n                  members={members}\r\n                  openPopover={openPopover}\r\n                  card={card} />}\r\n\r\n                {!!this.cardLabels.length && (\r\n                  <CardDetailsLabels\r\n                    labels={this.cardLabels}\r\n                    openPopover={openPopover}\r\n                    card={card}\r\n                  />\r\n                )}\r\n\r\n                {!!dueDate && (\r\n                  <DueDateDisplay card={card} openPopover={openPopover} board={board} onSaveBoard={onSaveBoard} />\r\n                )}\r\n              </div>\r\n\r\n              <Description\r\n                description={description}\r\n                card={card}\r\n                board={board}\r\n                onSaveBoard={onSaveBoard}\r\n                />\r\n{attachs && !!attachs.length &&\r\n             <CardAttachments\r\n                 attachs={attachs}\r\n                 onDeleteCardAttachment={this.onDeleteCardAttachment}\r\n                 openPopover={openPopover}\r\n                 card={card}\r\n             />}\r\n\r\n              <CardChecklists\r\n                card={card}\r\n                board={board}\r\n                checklists={checklists}\r\n                onSaveBoard={onSaveBoard}\r\n              />\r\n\r\n              {!!(activities && activities.length) &&\r\n                <Activities \r\n                  card={card} \r\n                  activities={activities}\r\n                  isInCardLocation={true} \r\n               />}\r\n            </div>\r\n\r\n            <div className=\"card-details-sidebar flex column full\">\r\n              <CardDetailsActions\r\n                board={board}\r\n                card={card}\r\n                onSaveBoard={onSaveBoard}\r\n                onSaveCardFromActions={this.onSaveCardFromActions}\r\n              />\r\n            </div>\r\n          </main>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    board: state.boardModule.board,\r\n  };\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  onSaveBoard,\r\n  closePopover,\r\n  openPopover,\r\n};\r\n\r\nexport const CardDetails = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(_CardDetails);","import React, { Component } from 'react'\r\nimport { TextareaAutosize } from '@material-ui/core';\r\nimport { utilService } from '../services/util.service'\r\n\r\nexport class CardAdd extends Component {\r\n\r\n    state = {\r\n        titleTxt: ''\r\n    }\r\n\r\n    handleChange = (ev) => {\r\n        const { value } = ev.target;\r\n        if (ev.key === 'Enter') {\r\n            ev.preventDefault();\r\n            this.onAddCard()\r\n            return;\r\n        }\r\n        this.setState({ titleTxt: value });\r\n    }\r\n\r\n    onAddCard = () => {\r\n        const { titleTxt } = this.state;\r\n        if (!titleTxt) {\r\n            this.textArea.focus();\r\n            return;\r\n        }\r\n\r\n        const { board, currList, onSaveBoard } = this.props;\r\n        const listIdx = board.lists.findIndex(list => list.id === currList.id);\r\n\r\n        const card = {\r\n            id: utilService.makeId(),\r\n            title: titleTxt,\r\n            description: '',\r\n            comments: [],\r\n            checklists: [],\r\n            members: [],\r\n            byMember: 'loggedinUser',\r\n            labelIds: [],\r\n            createdAt: Date.now(),\r\n            style: {\r\n\r\n            }\r\n        }\r\n\r\n        board.lists[listIdx].cards.push(card)\r\n\r\n\r\n\r\n        onSaveBoard(board)\r\n        this.setState({ titleTxt: '' }, () => {\r\n            this.textArea.focus()\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { titleTxt } = this.state\r\n        const { toggleCardAdd } = this.props;\r\n        return (\r\n            <div className=\"card-add\">\r\n                <TextareaAutosize className=\"card-add-input\" ref={(textArea) => this.textArea = textArea} value={titleTxt} autoFocus onChange={this.handleChange} onKeyDown={this.handleChange} placeholder=\"Enter a title for this card...\" aria-label=\"empty textarea\" />\r\n                <div className=\"card-add-active\">\r\n                    <button className=\"primary-btn\" onMouseDown={this.onAddCard}>Add card</button>\r\n                    <a className=\"clean-link\" onMouseDown={() => toggleCardAdd()} > x </a>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","\r\nimport { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { setLabelsMode } from '../../store/board.actions.js'\r\n\r\nclass _CardPreviewLabel extends Component {\r\n    state = {\r\n        isLabelesOpend: false\r\n    }\r\n    get label() {\r\n        const { labelId, labels } = this.props\r\n        const label = labels.find(label => {\r\n            return label.id === labelId\r\n        })\r\n        if (!label) return ''\r\n        return label\r\n    }\r\n\r\n    toggleLabelsMode = (ev) => {\r\n        ev.preventDefault();\r\n        // (this.state.isLabelesOpend ? 'close-anim' : 'open-anim')\r\n\r\n        this.setState({ isLabelesOpend: !this.state.isLabelesOpend })\r\n        this.props.setLabelsMode(this.state.isLabelesOpend)\r\n\r\n    }\r\n\r\n    render() {\r\n        const label = this.label\r\n        const { isLabelesOpend } = this.props\r\n        return (\r\n            <div className={`card-preview-label card-label ${isLabelesOpend ? 'open' : 'close'} `} style={{ backgroundColor: label.color }}\r\n                onClick={this.toggleLabelsMode}>\r\n                {isLabelesOpend && label.title && (\r\n                    <span className=\"label-title\">{label.title}</span>\r\n                )}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        isLabelesOpend: state.boardModule.isLabelesOpend,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    setLabelsMode\r\n}\r\n\r\nexport const CardPreviewLabel = connect(mapStateToProps, mapDispatchToProps)(_CardPreviewLabel)\r\n","import React, { Component } from 'react'\r\nimport CheckBoxOutlineBlankIcon from '@material-ui/icons/CheckBoxOutlineBlank'\r\nimport CheckBoxIcon from '@material-ui/icons/CheckBox';\r\nimport { openPopover } from '../../store/popover.actions';\r\nimport { connect } from 'react-redux';\r\nimport { onSaveBoard } from '../../store/board.actions'\r\nimport {ReactComponent as DateIcon} from '../../assets/img/cmps/card-details/icon-dates.svg'\r\n\r\n\r\nclass _DueDateDisplay extends Component {\r\n\r\n    dueDateFormat = (dueDate) => {\r\n        const currYear = new Date().getFullYear()\r\n        const dueYear = new Date(dueDate).getFullYear()\r\n        if (dueYear !== currYear) {\r\n            return new Date(dueDate).toLocaleString('en-GB', { year: 'numeric', month: 'short', day: 'numeric' })\r\n        }\r\n        else return new Date(dueDate).toLocaleString('en-GB', { month: 'short', day: 'numeric' })\r\n    }\r\n\r\n    getDueStatus = () => {\r\n        const now = Date.now()\r\n        const { card } = this.props\r\n        let dueStatus = '';\r\n        if (card.dueDateDone) dueStatus = 'done';\r\n        else if (now > card.dueDate) dueStatus = 'overdue';\r\n        else {\r\n            const timeDiff = card.dueDate - now;\r\n            if (timeDiff < 86400000) dueStatus = 'due-soon'\r\n        }\r\n        return dueStatus\r\n    }\r\n\r\n    onToggleCardDone = () => {\r\n        this.props.toggleCardDone()\r\n    }\r\n\r\n    get dueMsg() {\r\n        switch (this.getDueStatus()) {\r\n            case 'done': return 'COMPLETE';\r\n            case 'due-soon': return 'DUE SOON';\r\n            case 'overdue': return 'OVERDUE';\r\n            default: return ''\r\n        }\r\n    }\r\n\r\n\r\n    onOpenPopover = (ev, type) => {\r\n        const { card, openPopover } = this.props\r\n        ev.preventDefault()\r\n        const elPos = ev.target.getBoundingClientRect()\r\n        const props = { card }\r\n        openPopover(type, elPos, props)\r\n    }\r\n\r\n    render() {\r\n        const { card, toggleCardDone, displayType } = this.props\r\n        const dueStatus = this.getDueStatus();\r\n        return <> { displayType === 'preview' ?\r\n            <div className={`card-preview-date ${dueStatus}`} onClick={toggleCardDone}>\r\n                <div className=\"card-preview-icon-date\">\r\n                {/* <DateIcon className=\"date-icon-svg\"/> */}\r\n                </div>\r\n                <div>\r\n                    {this.dueDateFormat(card.dueDate)}\r\n                </div>\r\n            </div>\r\n            :\r\n            <div className=\"card-details-date item-container\">\r\n                <h3 className=\"card-details-item-header\">DUE DATE</h3>\r\n                <div className=\"flex align-center\">\r\n\r\n                    {card.dueDateDone ?\r\n                        <CheckBoxIcon className=\"checked\" onClick={this.onToggleCardDone} /> :\r\n                        <CheckBoxOutlineBlankIcon className=\"non-checked\" onClick={this.onToggleCardDone} />}\r\n                    <button className=\"secondary-btn\" onClick={(ev) => this.onOpenPopover(ev, 'DATE')}>\r\n                        <div className=\"flex align-center\">\r\n                            <span> {this.dueDateFormat(card.dueDate)}</span>\r\n                            <span className={`due-msg ${dueStatus}`}>{this.dueMsg}</span>\r\n                            down\r\n                        </div>\r\n                    </button>\r\n                </div>\r\n            </div >\r\n        }</>\r\n\r\n    }\r\n}\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        currPopover: state.popoverModule.currPopover,\r\n        board: state.boardModule.board\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    openPopover,\r\n    onSaveBoard\r\n}\r\n\r\nexport const DueDateDisplay = connect(mapStateToProps, mapDispatchToProps)(_DueDateDisplay)\r\n\r\n\r\n","import { Component } from 'react'\r\nexport class CardPreviewChecklist extends Component {\r\n\r\n    get todosMap() {\r\n        const { checklists } = this.props\r\n        const todosMap = checklists.reduce((acc, checklist) => {\r\n            acc['todosCount'] += checklist.todos.length\r\n            checklist.todos.forEach(todo => {\r\n                if (todo.isChecked) acc['doneTodosCount']++\r\n            })\r\n            return acc;\r\n        }, { todosCount: 0, doneTodosCount: 0 })\r\n        return todosMap\r\n    }\r\n\r\n    render() {\r\n        const { doneTodosCount, todosCount } = this.todosMap\r\n        return (\r\n            <div className={`card-preview-checklist ${doneTodosCount === todosCount && 'done'}`}>\r\n                <div className=\"check-icon\"></div>\r\n                <span>{`${doneTodosCount}/${todosCount}`}</span>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { onSaveBoard } from '../store/board.actions';\r\nimport { CardPreviewLabel } from './card-preview/card-preview-labels';\r\nimport { ProfileAvatar } from '../cmps/profile-avatar.jsx';\r\nimport { DueDateDisplay } from '../cmps/card-preview/due-date-display.jsx';\r\nimport { CardPreviewChecklist } from '../cmps/card-preview/card-preview-checklist';\r\n\r\nclass _Card extends Component {\r\n  componentDidMount() {\r\n    const { card, isEditMode } = this.props;\r\n  }\r\n\r\n  get cardStyles() {\r\n    const { isEditMode } = this.props;\r\n    const { coverMode, bgColor, bgImgUrl } = this.props.card.style;\r\n\r\n    if (coverMode === 'full' && bgImgUrl && !isEditMode)\r\n      return {\r\n        color: '#fff',\r\n        backgroundImage: `url(${bgImgUrl})`,\r\n        borderTopLeftRadius: '3px',\r\n        borderTopRightRadius: '3px',\r\n        minHeight: '260px',\r\n      };\r\n    else if (coverMode === 'full' && !isEditMode)\r\n      return {\r\n        backgroundColor: bgColor,\r\n        minHeight: '56px',\r\n        borderTopLeftRadius: '3px',\r\n        borderTopRightRadius: '3px',\r\n      };\r\n    if (coverMode === 'header' && bgImgUrl) return {};\r\n    if (coverMode === 'header' && !isEditMode) return {};\r\n    if (isEditMode && !coverMode) return { borderRadius: '3px' };\r\n    else if (isEditMode) return {};\r\n    else return { borderRadius: '3px' };\r\n  }\r\n\r\n  get getCardHeaderStyles() {\r\n    const { isEditMode } = this.props;\r\n    const { coverMode, bgColor, bgImgUrl } = this.props.card.style;\r\n    if (coverMode === 'full' && bgImgUrl && isEditMode)\r\n      return {\r\n        backgroundImage: `url(${bgImgUrl})`,\r\n        minHeight: '260px',\r\n      };\r\n    if (coverMode === 'header' && bgImgUrl)\r\n      return {\r\n        backgroundImage: `url(${bgImgUrl})`,\r\n        minHeight: '260px',\r\n      };\r\n    if (coverMode === 'full' || coverMode === 'header')\r\n      return { backgroundColor: bgColor };\r\n    else return {};\r\n  }\r\n\r\n  get getCardHeaderStyles() {\r\n    const { isEditMode } = this.props;\r\n    const { coverMode, bgColor, bgImgUrl } = this.props.card.style;\r\n    if (coverMode === 'full' && bgImgUrl && isEditMode)\r\n      return {\r\n        backgroundImage: `url(${bgImgUrl})`,\r\n        minHeight: '260px',\r\n      };\r\n    if (coverMode === 'header' && bgImgUrl)\r\n      return {\r\n        backgroundImage: `url(${bgImgUrl})`,\r\n        minHeight: '130px',\r\n      };\r\n    if (coverMode === 'full' || coverMode === 'header')\r\n      return { backgroundColor: bgColor };\r\n    else return {};\r\n  }\r\n\r\n  isChecklistsEmpty = ({ checklists }) => {\r\n    return checklists.every(checklist => !checklist.todos.length)\r\n  }\r\n\r\n  render() {\r\n    const { isEditMode, card, board, handleChange, cardTitle } = this.props;\r\n    // const {coverMode} = card.style\r\n    var coverMode;\r\n    if (card.style) {\r\n      coverMode = card.style.coverMode;\r\n    } else {\r\n      card.style = {};\r\n    }\r\n\r\n    return (\r\n      <div className=\"card-preview-container\">\r\n        <div\r\n          className={`card-preview  ${card.style.bgImgUrl && 'is-imaged'} ${coverMode === 'full' && 'cover-full'}`}\r\n          style={this.cardStyles}\r\n        >\r\n          {(coverMode === 'header' || (coverMode === 'full' && isEditMode)) && (\r\n            <div\r\n              className=\"card-preview-header\"\r\n              style={this.getCardHeaderStyles}\r\n            ></div>\r\n          )}\r\n          <div className=\"card-content\">\r\n            <div className=\"card-preview-labels open\">\r\n              {card.labelIds &&\r\n                card.labelIds.map((labelId) => (\r\n                  <CardPreviewLabel\r\n                    key={labelId}\r\n                    labelId={labelId}\r\n                    labels={board.labels}\r\n                  />\r\n                ))}\r\n            </div>\r\n            <div className=\"card-preview-name clean-link\">{card.title}</div>\r\n          </div>\r\n\r\n          {coverMode !== 'full' &&\r\n            <div className=\"card-preview-bagdes\">\r\n              <div className=\"card-preview-icons\">\r\n                {!!card.dueDate && <DueDateDisplay card={card} toggleCardDone={this.toggleCardDone} displayType=\"preview\" />}\r\n                {!!card.checklists && !this.isChecklistsEmpty(card) && <CardPreviewChecklist checklists={card.checklists} />}\r\n              </div>\r\n              {!!card.members && !!card.members.length && <div className=\"card-preview-members\">\r\n                {card.members.map(member => {\r\n                  return isEditMode ?\r\n                    <ProfileAvatar member={member} key={member._id} size={28} />\r\n                    :\r\n                    <ProfileAvatar member={member} key={member._id} size={28} onOpenPopover={this.onOpenPopover} />\r\n                })}\r\n              </div>\r\n              }\r\n            </div>\r\n          }\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  onSaveBoard,\r\n};\r\n\r\nexport const Card = connect(null, mapDispatchToProps)(_Card);\r\n","import { Component } from 'react'\r\nimport { Draggable, Droppable } from 'react-beautiful-dnd';\r\nimport { Link } from 'react-router-dom'\r\nimport { Card } from '../single-card';\r\n\r\nexport class CardPreview extends Component {\r\n\r\n    render() {\r\n        const { board, card, currList, isDragged } = this.props;\r\n        return (\r\n            <>\r\n                <div className=\"card-preview-container\">\r\n                    <Link className=\"clean-link\" to={`/board/${board._id}/${currList?.id}/${card.id}`}>\r\n                        <Card className={isDragged ? \"clean-link on-grab-drag-drop\" : 'clean-link'} card={card} board={board} />\r\n                    </Link>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n","import { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { CardAdd } from './card-add.jsx';\r\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\r\nimport { CardPreview } from './card-preview/card-preview.jsx';\r\nimport { MoreHoriz } from '@material-ui/icons';\r\nimport { onSaveBoard } from '../store/board.actions.js'\r\nimport { closePopover, openPopover } from '../store/popover.actions.js'\r\n\r\nclass _ListPreview extends Component {\r\n  state = {\r\n    isAddToggeld: false,\r\n    cards: '',\r\n    titleTxt: '',\r\n    isOnEditState: false,\r\n  };\r\n\r\n  onOpenPopover = (ev, PopoverName) => {\r\n    const elPos = ev.target.getBoundingClientRect()\r\n    const { board, currList, onSaveBoard, closePopover } = this.props\r\n    const props = {\r\n      currList,\r\n      board,\r\n      onSaveBoard,\r\n      closePopover\r\n    }\r\n    this.props.openPopover(PopoverName, elPos, props)\r\n  }\r\n\r\n\r\n  toggleCardAdd = () => {\r\n    const { isAddToggeld } = this.state;\r\n    this.setState({ isAddToggeld: !isAddToggeld });\r\n  };\r\n\r\n  handleOnDragEnd = (result) => {\r\n    const { listIdx } = this.props;\r\n    const { cards } = this.props.currList;\r\n    this.props.handleOnDragEndCards(result, listIdx, cards);\r\n  };\r\n\r\n  toggleEdit = () => {\r\n    const { isOnEditState } = this.state;\r\n    const { currList } = this.props;\r\n    this.setState({ isOnEditState: !isOnEditState, titleTxt: currList.title });\r\n  };\r\n\r\n  onSaveTitle = () => {\r\n    this.toggleEdit();\r\n    const { titleTxt } = this.state;\r\n    const { board, currList, onSaveBoard } = this.props;\r\n    const listIdx = board.lists.findIndex((list) => list.id === currList.id);\r\n    board.lists[listIdx].title = titleTxt;\r\n    onSaveBoard(board);\r\n  };\r\n\r\n  handleChange = (ev) => {\r\n    if (ev.keyCode === 13) {\r\n      ev.preventDefault();\r\n      this.onSaveTitle();\r\n      return;\r\n    }\r\n    this.setState({ titleTxt: ev.target.value });\r\n  };\r\n\r\n  render() {\r\n    const { board, currList, onSaveBoard, listIdx } = this.props;\r\n    const { isAddToggeld, isOnEditState, titleTxt } = this.state;\r\n    this.state.cards = currList.cards;\r\n    return (\r\n      <div className=\"list-preview\" key={listIdx}>\r\n        <div className=\"list-header\">\r\n          {isOnEditState ? (\r\n            <input\r\n              type=\"text\"\r\n              className=\"card-list-header-input\"\r\n              value={titleTxt}\r\n              autoFocus\r\n              onChange={this.handleChange}\r\n              onKeyDown={this.handleChange}\r\n              onBlur={this.onSaveTitle}\r\n            />\r\n          ) : (\r\n            <h2 onClick={this.toggleEdit}>{currList.title}</h2>\r\n          )}{' '}\r\n\r\n          <div onClick={(ev) => this.onOpenPopover(ev, 'LIST_OPTIONS')} className=\"card-list-btn-menu\">\r\n            <MoreHoriz className=\"list-menu\" />\r\n          </div>\r\n        </div>\r\n        <div className=\"card-container\">\r\n          {/* <DragDropContext onDragEnd={this.handleOnDragEnd}> */}\r\n          <Droppable droppableId={`${listIdx}`}>\r\n            {(provided) => (\r\n              <ul\r\n                className=\"card-list-element clean-list\"\r\n                {...provided.droppableProps}\r\n                ref={provided.innerRef}\r\n              >\r\n                {(!currList.cards.length) && <li className=\"dragged\"></li>}\r\n                {currList.cards.map((currCard, cardIdx) => (\r\n                  <Draggable\r\n                    key={currCard.id}\r\n                    draggableId={currCard.id}\r\n                    index={cardIdx}\r\n                  >\r\n                    {(provided) => (\r\n                      <li\r\n                        ref={provided.innerRef}\r\n                        {...provided.draggableProps}\r\n                        {...provided.dragHandleProps}\r\n                        onDrag={(ev) => {\r\n                          {\r\n                            console.log('ev', ev);\r\n                          }\r\n                          this.props.onCardClicked();\r\n                        }}\r\n                      >\r\n                        <CardPreview\r\n                          isDragged={this.props.isDragged}\r\n                          key={currCard.id}\r\n                          card={currCard}\r\n                          cardIdx={cardIdx}\r\n                          currList={currList}\r\n                          board={board}\r\n                          onSaveBoard={onSaveBoard}\r\n                        />\r\n                      </li>\r\n                    )}\r\n                  </Draggable>\r\n                ))}\r\n                {provided.placeholder}\r\n              </ul>\r\n            )}\r\n          </Droppable>\r\n          {/* </DragDropContext> */}\r\n          {isAddToggeld && (\r\n            <CardAdd\r\n              board={board}\r\n              currList={currList}\r\n              onSaveBoard={onSaveBoard}\r\n              toggleCardAdd={this.toggleCardAdd}\r\n              cards={this.state.cards}\r\n            />\r\n          )}\r\n        </div>\r\n        {!isAddToggeld && (\r\n          <div className=\"list-footer\" onClick={this.toggleCardAdd}>\r\n            <span className=\"add-icon\">+</span> Add card\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  closePopover,\r\n  onSaveBoard,\r\n  openPopover\r\n};\r\n\r\nexport const ListPreview = connect(null, mapDispatchToProps)(_ListPreview);\r\n","import React from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router'\r\nimport { loadBoards, loadBoard, loadRecentBoards } from \"../store/board.actions\";\r\nimport { MoreHoriz } from '@material-ui/icons';\r\n\r\nexport class _NavBarBoard extends React.Component {\r\n    state = {\r\n        title: 'Board Name',\r\n        isOnEditState: false,\r\n        star: false\r\n    }\r\n\r\n    openNav = () => {\r\n        document.getElementById(\"mySidenav\").style.width = \"339px\";\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.unlisten();\r\n    }\r\n    componentWillMount() {\r\n        this.unlisten = this.props.history.listen((location) => {\r\n            const splittedPath = location.pathname.split('/');\r\n\r\n            const boardId = splittedPath[2];\r\n            if (!boardId || boardId === this.props.match.params.boardId) return;\r\n            this.props.loadBoard(boardId).then(() => {\r\n\r\n                const { board } = this.props\r\n                this.setState({ title: board.title })\r\n                this.setState({ star: board.star })\r\n            })\r\n        });\r\n    }\r\n\r\n    componentDidMount() {\r\n        const boardId = this.props.match.params.boardId\r\n        this.props.loadBoard(boardId).then(() => {\r\n            const { board } = this.props\r\n            this.setState({ title: board.title })\r\n            this.setState({ star: board.star })\r\n        })\r\n    }\r\n\r\n    onSaveBoardName = () => {\r\n        const { title } = this.state\r\n        const { board, onSaveBoard } = this.props\r\n        if (board) {\r\n            board.title = title\r\n            onSaveBoard(board);\r\n        }\r\n    }\r\n\r\n    onOpenPopover = (ev, PopoverName, props) => {\r\n        const elPos = ev.target.getBoundingClientRect();\r\n\r\n        this.props.openPopover(PopoverName, elPos, props);\r\n    };\r\n    handleChange = (ev) => {\r\n        if (ev.keyCode === 13) {\r\n            ev.preventDefault();\r\n            this.onSaveBoardName();\r\n            return;\r\n        }\r\n        this.setState({ title: ev.target.value });\r\n    }\r\n    render() {\r\n        const { isOnEditState, title, star } = this.state\r\n        const { board, onSaveBoard } = this.props\r\n        return (\r\n            <section className=\"board-nav-bar-container flex\">\r\n                <div className=\"first-board-part\">\r\n                    <button className=\"_2w6KZMbwKqxZVN _3TTqkG5muwOzqZ ZOUktZwsING7-0\"\r\n                        data-test-id=\"board-views-switcher-button\" type=\"button\" title=\"Board views\">\r\n                        <svg width=\"15\" height=\"15\" role=\"presentation\" focusable=\"false\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                            <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M2 7V15C2 16.1046 2.89543 17 4 17H6C7.10457 17 8 16.1046 8 15V7C8 5.89543 7.10457 5 6 5H4C2.89543 5 2 5.89543 2 7ZM4 7V15H6V7L4 7Z\" fill=\"currentColor\">\r\n                            </path>\r\n                            <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M9 7V13C9 14.1046 9.89543 15 11 15H13C14.1046 15 15 14.1046 15 13V7C15 5.89543 14.1046 5 13 5H11C9.89543 5 9 5.89543 9 7ZM11 7V13H13V7L11 7Z\" fill=\"currentColor\">\r\n                            </path>\r\n                            <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M16 17V7C16 5.89543 16.8954 5 18 5H20C21.1046 5 22 5.89543 22 7V17C22 18.1046 21.1046 19 20 19H18C16.8954 19 16 18.1046 16 17ZM18 17V7L20 7V17H18Z\" fill=\"currentColor\">\r\n                            </path>\r\n                        </svg>\r\n                        <span className=\"_3wFtm5r_eYKs0G\">Board</span>\r\n                        <svg width=\"15\" height=\"15\" role=\"presentation\" focusable=\"false\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                            <path d=\"M11.2929 16.7071L4.22185 9.63606C3.83132 9.24554 3.83132 8.61237 4.22185 8.22185C4.61237 7.83133 5.24554 7.83133 5.63606 8.22185L12 14.5858L18.364 8.22185C18.7545 7.83132 19.3877 7.83132 19.7782 8.22185C20.1687 8.61237 20.1687 9.24554 19.7782 9.63606L12.7071 16.7071C12.3166 17.0977 11.6834 17.0977 11.2929 16.7071Z\" fill=\"currentColor\">\r\n                            </path>\r\n                        </svg>\r\n                    </button>\r\n                    {/* <button className=\"board-board-btn flex\">\r\n                        <span className=\"sc-bdVaJa kBFJig\" role=\"img\" aria-label=\"ListIcon\"><svg width=\"15\" height=\"15\" role=\"presentation\" focusable=\"false\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M2 7V15C2 16.1046 2.89543 17 4 17H6C7.10457 17 8 16.1046 8 15V7C8 5.89543 7.10457 5 6 5H4C2.89543 5 2 5.89543 2 7ZM4 7V15H6V7L4 7Z\" fill=\"currentColor\"></path><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M9 7V13C9 14.1046 9.89543 15 11 15H13C14.1046 15 15 14.1046 15 13V7C15 5.89543 14.1046 5 13 5H11C9.89543 5 9 5.89543 9 7ZM11 7V13H13V7L11 7Z\" fill=\"currentColor\"></path><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M16 17V7C16 5.89543 16.8954 5 18 5H20C21.1046 5 22 5.89543 22 7V17C22 18.1046 21.1046 19 20 19H18C16.8954 19 16 18.1046 16 17ZM18 17V7L20 7V17H18Z\" fill=\"currentColor\"></path></svg></span>\r\n                        <span className=\"board-board-btn-span\">\r\n                            Board\r\n                        </span>\r\n                    </button> */}\r\n                    {isOnEditState ? (<input className=\"name-board-board-btn\"\r\n                        type=\"text\"\r\n                        className=\"card-list-header-input\"\r\n                        value={title}\r\n                        autoFocus\r\n                        onChange={this.handleChange}\r\n                        onKeyDown={this.handleChange}\r\n                        onBlur={() => {\r\n                            this.onSaveBoardName()\r\n                            this.setState({ isOnEditState: !isOnEditState })\r\n                        }}\r\n\r\n                    />) : (\r\n                        <p onClick={() => {\r\n                            this.setState({ isOnEditState: !isOnEditState })\r\n                        }}>{title}</p>\r\n                    )}\r\n                    <button className={star ? \" active star-board-btn\" : \"star-board-btn\"} onClick={() => {\r\n                        this.setState({ star: !star })\r\n                        board.star = !star;\r\n                        onSaveBoard(board);\r\n\r\n                    }}>\r\n                        <svg width=\"15\" height=\"15\" role=\"presentation\" focusable=\"false\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M7.49495 20.995L11.9999 18.6266L16.5049 20.995C16.8059 21.1533 17.1507 21.2079 17.4859 21.1504C18.3276 21.006 18.893 20.2066 18.7486 19.3649L17.8882 14.3485L21.5328 10.7959C21.7763 10.5585 21.9348 10.2475 21.9837 9.91094C22.1065 9.06576 21.5209 8.28106 20.6758 8.15825L15.6391 7.42637L13.3866 2.86236C13.2361 2.55739 12.9892 2.31054 12.6843 2.16003C11.9184 1.78206 10.9912 2.0965 10.6132 2.86236L8.36072 7.42637L3.32403 8.15825C2.98747 8.20715 2.67643 8.36564 2.43904 8.60917C1.84291 9.22074 1.85542 10.1998 2.46699 10.7959L6.11158 14.3485L5.25121 19.3649C5.19372 19.7 5.24833 20.0448 5.40658 20.3459C5.80401 21.1018 6.739 21.3924 7.49495 20.995ZM19.3457 10.0485L15.6728 13.6287L16.5398 18.684L11.9999 16.2972L7.45995 18.684L8.327 13.6287L4.65411 10.0485L9.72993 9.31093L11.9999 4.71146L14.2699 9.31093L19.3457 10.0485Z\" fill=\"currentColor\">\r\n                        </path>\r\n                        </svg>\r\n                    </button>\r\n                    <span className=\"sperator-nav-board\">|</span>\r\n                    <button className=\"workspace-board-btn\">View workspace</button>\r\n                    <span className=\"sperator-nav-board\">|</span>\r\n                </div>\r\n                <div className=\"board-title\" >\r\n\r\n                </div>\r\n                <div className=\"second-board-part\">\r\n                    {/* todo <InvitedMembers InvitedMembers={}/> */}\r\n                    <button className=\"invite-member-board-btn\" onClick={(ev) => this.onOpenPopover(ev, 'INVITE')}>Invite</button>\r\n                    <button onClick={this.openNav} className=\"show-more-activity\"><span><MoreHoriz /></span> Show Menu</button>\r\n\r\n                </div>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        recentBoards: state.boardModule.recentBoards,\r\n        boards: state.boardModule.boards,\r\n        board: state.boardModule.board,\r\n        loggedInUser: state.userModule.loggedInUser\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    loadRecentBoards,\r\n    loadBoards,\r\n    loadBoard\r\n}\r\n\r\nexport const NavBarBoard = connect(mapStateToProps, mapDispatchToProps)(withRouter(_NavBarBoard))\r\n","import { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { NavBarBoard } from './nav-bar-board'\r\nimport { loadBoard, loadRecentBoards, loadBoards } from \"../store/board.actions\";\r\n\r\nclass _MainBoardHeader extends Component {\r\n\r\n    state = {\r\n        title: '',\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.loadRecentBoards()\r\n\r\n        this.setState({ title: this.props.board.title })\r\n    }\r\n\r\n    render() {\r\n        const { board, onSaveBoard } = this.props\r\n        const { title } = this.state\r\n        return (\r\n            <div className=\"main-board-header\">\r\n                <NavBarBoard board={board} onSaveBoard={onSaveBoard} title={title} />\r\n                {/* <div className=\"board-title\" >\r\n                    <h1>{title}</h1>\r\n                </div> */}\r\n                <div className=\"flex header-section\">\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        recentBoards: state.boardModule.recentBoards,\r\n        boards: state.boardModule.boards,\r\n        board: state.boardModule.board,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    loadBoards,\r\n    loadBoard,\r\n    loadRecentBoards\r\n}\r\n\r\nexport const MainBoardHeader = connect(mapStateToProps, mapDispatchToProps)(_MainBoardHeader)\r\n","import { Component } from 'react';\r\nimport { utilService } from '../services/util.service';\r\nimport { CloseRounded } from '@material-ui/icons';\r\n\r\nexport class ListAdd extends Component {\r\n  state = {\r\n    isToggled: false,\r\n    titleTxt: '',\r\n  };\r\n\r\n  handleChange = (ev) => {\r\n    if (ev.keyCode === 13) {\r\n      ev.preventDefault();\r\n      this.onAddList();\r\n      return;\r\n    }\r\n\r\n    this.setState({ titleTxt: ev.target.value });\r\n  };\r\n\r\n  toggleListAdd = () => {\r\n    const { isToggled } = this.state;\r\n    this.setState({ isToggled: !isToggled });\r\n  };\r\n\r\n  onAddList = () => {\r\n    const { titleTxt } = this.state;\r\n    if (!titleTxt) return;\r\n\r\n\r\n    const { board, onSaveBoard } = this.props;\r\n    const list = {\r\n      id: utilService.makeId(),\r\n      title: titleTxt,\r\n      cards: [],\r\n    };\r\n\r\n    board.lists.push(list);\r\n    this.setState({ titleTxt: '' }, () => onSaveBoard(board));\r\n  };\r\n\r\n  render() {\r\n    const { titleTxt, isToggled } = this.state;\r\n\r\n    return (\r\n      <div className=\"list-add-containter\">\r\n        {isToggled ? (\r\n          <div className=\"list-add-toggle\">\r\n            <input\r\n              className=\"list-add-input\"\r\n              value={titleTxt}\r\n              autoFocus\r\n              onBlur={this.toggleListAdd}\r\n              onChange={this.handleChange}\r\n              onKeyDown={this.handleChange}\r\n              placeholder=\"list title\"\r\n            />\r\n            <div className=\"flex row align-center\">\r\n              <button className=\"add-list primary-btn\" onMouseDown={this.onAddList}>Add list</button>\r\n              <a className=\"close-btn\" onMouseDown={this.toggleListAdd}><CloseRounded /></a>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"card-list-add\" onClick={this.toggleListAdd}>\r\n            + Add another list\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { Activities } from './activities.jsx';\r\n\r\nexport class SideNavRight extends React.Component {\r\n\r\n  componentDidMount = () => {\r\n  }\r\n\r\n \r\n closeNav  = () =>  {\r\n    document.getElementById(\"mySidenav\").style.width = \"0\";\r\n  }\r\n\r\n  render() {\r\n    const { activities } = this.props\r\n    return (\r\n    <div id=\"mySidenav\" className=\"sidenav\">\r\n\r\n      <div className=\"sidenav-header\">\r\n        <div className=\"board-menu-header-content\">\r\n        <h3 className=\"board-menu-header-title js-board-menu-title-text\">Menu</h3>\r\n    <a href=\"javascript:void(0)\" className=\"closebtn\" onClick={this.closeNav}>&times;</a>\r\n        </div>\r\n      \r\n      </div>\r\n    <hr className=\"board-menu-header-divider\"></hr>\r\n\r\n<section className=\"board-menu-content u-fancy-scrollbar js-board-menu-content-wrapper\">\r\n  \r\n\r\n                <Activities \r\n                  activities={activities}\r\n                  isInCardLocation={false} \r\n               />\r\n\r\n\r\n</section>\r\n  </div>\r\n)\r\n}\r\n}\r\n","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { CardDetails } from '../pages/card-details.jsx';\r\nimport { Route } from 'react-router';\r\nimport { Loader } from '../cmps/loader.jsx';\r\nimport { ListPreview } from '../cmps/list-preview.jsx';\r\nimport { MainBoardHeader } from '../cmps/main-board-header.jsx';\r\nimport { ListAdd } from '../cmps/list-add.jsx';\r\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\r\nimport { SideNav } from '../cmps/sidenav.jsx';\r\nimport { socketService } from '../services/socket.service.js';\r\n\r\nimport {\r\n  loadBoard,\r\n  onAddBoard,\r\n  onRemoveBoard,\r\n  loadBoards,\r\n  onSaveBoard,\r\n  onEditBoard,\r\n  updateRecentBoard,\r\n} from '../store/board.actions.js';\r\n\r\nimport { isEmpty } from 'lodash';\r\nimport { SideNavRight } from '../cmps/sidenav-right.jsx';\r\nimport NaturalDragAnimation from 'natural-drag-animation-rbdnd'; //todo\r\n\r\nclass _BoardApp extends React.Component {\r\n  state = {\r\n    isMainBoard: true,\r\n    isCardClicked: false,\r\n    isDragged: false,\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('mouseup', this.HandleDrop)\r\n    this.unlisten();\r\n  }\r\n\r\n  HandleDrop = () => {\r\n    this.setState({ isDragged: false })\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.unlisten = this.props.history.listen((location) => {\r\n\r\n      const splittedPath = location.pathname.split('/');\r\n\r\n      const boardId = splittedPath[2];\r\n      if (!boardId || boardId === this.props.match.params.boardId) return;\r\n      this.props.updateRecentBoard(boardId)\r\n      this.onBoardChange(boardId);\r\n    });\r\n  }\r\n\r\n  async componentDidMount() {\r\n\r\n    window.addEventListener('mouseup', this.HandleDrop)\r\n    try {\r\n      const { boardId } = this.props.match.params;\r\n      window.addEventListener('popstate', function () {\r\n        console.log('updateRecentBoard as changed')\r\n        console.log('this.props', this.props);\r\n        if (this.props) {\r\n          const { updateRecentBoard } = this.props\r\n          if (updateRecentBoard) updateRecentBoard(boardId)\r\n        }\r\n\r\n      });\r\n\r\n      await this.loadBoard(boardId);\r\n\r\n      socketService.emit('SOCKET_EVENT_START_BOARD', boardId);\r\n      socketService.on('SOCKET_EVENT_ON_RELOAD_BOARD', this.props.loadBoard);\r\n    } catch (err) {\r\n    }\r\n\r\n  }\r\n\r\n\r\n  loadBoard = async (boardId) => {\r\n    await Promise.all([\r\n      this.props.loadBoard(boardId),\r\n      this.props.updateRecentBoard(boardId),\r\n      this.props.loadBoards(),\r\n    ]);\r\n  };\r\n\r\n\r\n  componentWillUnmount() {\r\n    socketService.off('SOCKET_EVENT_ON_RELOAD_BOARD')\r\n    socketService.terminate()\r\n    this.unlisten();\r\n  }\r\n\r\n  onBoardChange = (boardId) => {\r\n    this.props.loadBoard(boardId);\r\n  };\r\n\r\n  onRemoveBoard = (boardId) => {\r\n    this.props.onRemoveBoard(boardId);\r\n  };\r\n  onAddBoard = () => {\r\n    this.props.onAddBoard();\r\n  };\r\n\r\n  handleOnDragEnd = (result) => {\r\n    const { destination, source, draggableId } = result;\r\n    if (!result.destination) return;\r\n    const { lists } = this.props.board;\r\n    if (destination.droppableId != 'all-lists') {\r\n      const start = lists[source.droppableId];\r\n      const finish = lists[destination.droppableId];\r\n\r\n      if (start === finish) {\r\n        const cards = Array.from(start.cards);\r\n        const [reorderedItem] = cards.splice(source.index, 1);\r\n        cards.splice(destination.index, 0, reorderedItem);\r\n        this.props.board.lists[source.droppableId].cards = cards;\r\n      } else {\r\n        var itemsArr = this.updateElemDND(\r\n          start.cards,\r\n          finish.cards,\r\n          source,\r\n          destination\r\n        );\r\n        this.updateBoardDND(itemsArr, source, destination);\r\n      }\r\n    } else {\r\n      const items = Array.from(lists);\r\n      const [reorderedItem] = items.splice(source.index, 1);\r\n      items.splice(destination.index, 0, reorderedItem);\r\n      this.props.board.lists = items;\r\n      this.props.onEditBoard(this.props.board);\r\n    }\r\n  };\r\n\r\n  updateBoardDND = (itemsArr, src, des) => {\r\n    this.props.board.lists[src.droppableId].cards = itemsArr.srcItems;\r\n    this.props.board.lists[des.droppableId].cards = itemsArr.desItems;\r\n    this.props.onEditBoard(this.props.board);\r\n  };\r\n\r\n  updateElemDND = (srcItemsIn, desItemsIn, src, des) => {\r\n    const srcItems = Array.from(srcItemsIn);\r\n    const desItems = Array.from(desItemsIn);\r\n    const [reorderedItem] = srcItems.splice(src.index, 1);\r\n    desItems.splice(des.index, 0, reorderedItem);\r\n    return { srcItems, desItems };\r\n  };\r\n\r\n  onCardClicked = () => {\r\n    this.setState({ isCardClicked: true });\r\n  };\r\n\r\n  render() {\r\n    // console.log(this.props.board.activities);\r\n    const { board, onSaveBoard, boards, user } = this.props;\r\n    const { isMainBoard, isDragged } = this.state;\r\n    if (!board) return <Loader />;\r\n    const { board: { activities } } = this.props\r\n\r\n    return (\r\n      <>\r\n        <section className=\"main-board flex row\">\r\n          <SideNav boards={boards} isMainBoard={isMainBoard} user={user} />\r\n          <div className=\"layout-helper flex column\">\r\n            <MainBoardHeader\r\n              board={board}\r\n              onSaveBoard={onSaveBoard}\r\n              title={board.title}\r\n            />\r\n            <div className=\"board-content\">\r\n\r\n              <Route\r\n                path=\"/board/:boardId/:listId/:cardId\"\r\n                exact\r\n                component={CardDetails}\r\n              />\r\n              <DragDropContext onDragEnd={this.handleOnDragEnd}>\r\n                <Droppable\r\n                  droppableId=\"all-lists\"\r\n                  direction=\"horizontal\"\r\n                  type=\"list\"\r\n                >\r\n                  {(provided) => (\r\n                    <ul\r\n                      className=\"lists-container clean-list flex row\"\r\n                      {...provided.droppableProps}\r\n                      ref={provided.innerRef}\r\n                    >\r\n                      {board.lists.map((currList, listIdx) => (\r\n                        <Draggable\r\n                          key={currList.id}\r\n                          draggableId={currList.id}\r\n                          index={listIdx}\r\n                        >\r\n                          {(provided) => (\r\n                            <li onMouseDown={async () => {\r\n                              await this.setState({ isDragged: true })\r\n                            }}\r\n\r\n                              className=\"list-wrapper\"\r\n                              ref={provided.innerRef}\r\n                              {...provided.draggableProps}\r\n                              {...provided.dragHandleProps}\r\n                            // onMouse={async () => {\r\n                            //   await this.setState({ isDragged: false })\r\n                            // }}\r\n                            >\r\n                              <ListPreview\r\n                                className={\r\n                                  isDragged ? 'list-dragged' : ''\r\n                                }\r\n                                isDragged={isDragged}\r\n                                board={board}\r\n                                key={listIdx}\r\n                                listIdx={listIdx}\r\n                                currList={currList}\r\n                                onSaveBoard={onSaveBoard}\r\n                                handleOnDragEndCards={\r\n                                  this.handleOnDragEndCards\r\n                                }\r\n                                onCardClicked={this.onCardClicked}\r\n                              />\r\n                            </li>\r\n                          )}\r\n\r\n\r\n                        </Draggable>\r\n                      ))}\r\n                      {provided.placeholder}\r\n                      <ListAdd board={board} onSaveBoard={onSaveBoard} />\r\n                    </ul>\r\n                  )}\r\n                </Droppable>\r\n              </DragDropContext>\r\n            </div>\r\n          </div>\r\n          <SideNavRight activities={activities} isInCardLocation={false}\r\n          />\r\n        </section>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    board: state.boardModule.board,\r\n    boards: state.boardModule.boards,\r\n    user: state.userModule.user,\r\n  };\r\n}\r\nconst mapDispatchToProps = {\r\n  loadBoard,\r\n  onRemoveBoard,\r\n  onEditBoard,\r\n  onAddBoard,\r\n  loadBoards,\r\n  onSaveBoard,\r\n  updateRecentBoard,\r\n};\r\n\r\nexport const BoardApp = connect(mapStateToProps, mapDispatchToProps)(_BoardApp);\r\n","import { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { ReactComponent as HomepageLogo } from '../assets/img/logos/home-logo.svg'\r\n\r\nexport class LoginHeader extends Component {\r\n\r\n    state = {\r\n        isNavBgVisible: false\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <header className=\"login-header\">\r\n                <nav className=\"flex\">\r\n                    <div className=\"logo\">\r\n                        <HomepageLogo />\r\n                        Corollo\r\n                    </div>\r\n\r\n                </nav>\r\n            </header>\r\n        )\r\n    }\r\n}\r\n","import { userService } from \"../services/user.service.js\";\r\nimport { showErrorMsg } from '../services/event-bus.service.js'\r\nimport { socketService, SOCKET_EMIT_USER_WATCH, SOCKET_EVENT_USER_UPDATED } from \"../services/socket.service.js\";\r\n\r\nexport function loadUsers() {\r\n    return async dispatch => {\r\n        try {\r\n            dispatch({ type: 'LOADING_START' })\r\n            const users = await userService.getUsers()\r\n            dispatch({ type: 'SET_USERS', users })\r\n        } catch (err) {\r\n            console.log('UserActions: err in loadUsers', err)\r\n        } finally {\r\n            dispatch({ type: 'LOADING_DONE' })\r\n        }\r\n    }\r\n}\r\n\r\nexport function removeUser(userId) {\r\n    return async dispatch => {\r\n        try {\r\n            await userService.remove(userId)\r\n            dispatch({ type: 'REMOVE_USER', userId })\r\n        } catch (err) {\r\n            console.log('UserActions: err in removeUser', err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function onLogin(credentials) {\r\n    return async (dispatch) => {\r\n        try {\r\n            const user = await userService.login(credentials)\r\n            console.log('user in onLogin',user);\r\n            console.log('credentials',credentials);\r\n            dispatch({\r\n                type: 'SET_USER',\r\n                user\r\n            })\r\n        } catch (err) {\r\n            showErrorMsg('Cannot login')\r\n            console.log('Cannot login', err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function onGoogleLogin(tokenId) {\r\n    return async dispatch => {\r\n        try {\r\n            const user = await userService.googleLogin(tokenId)\r\n            dispatch({ type: 'SET_USER', user })\r\n            socketService.emit('user-watch', user._id)\r\n        } catch (err) {\r\n            console.log('UserActions: err in login', err)\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport function onSignup(credentials) {\r\n    return (dispatch) => {\r\n        userService.signup(credentials)\r\n            .then(user => {\r\n                dispatch({\r\n                    type: 'SET_USER',\r\n                    user\r\n                })\r\n            })\r\n            .catch(err => {\r\n                showErrorMsg('Cannot signup')\r\n                console.log('Cannot signup', err)\r\n            })\r\n\r\n    }\r\n}\r\n\r\nexport function onLogout() {\r\n    return (dispatch) => {\r\n        userService.logout()\r\n            .then(() => dispatch({\r\n                type: 'SET_USER',\r\n                user: null\r\n            }))\r\n            .catch(err => {\r\n                showErrorMsg('Cannot logout')\r\n                console.log('Cannot logout', err)\r\n            })\r\n    }\r\n}\r\n\r\nexport function loadAndWatchUser(userId) {\r\n    return async (dispatch) => {\r\n        try {\r\n            const user = await userService.getById(userId);\r\n            dispatch({ type: 'SET_WATCHED_USER', user })\r\n            socketService.emit(SOCKET_EMIT_USER_WATCH, userId)\r\n            socketService.off(SOCKET_EVENT_USER_UPDATED)\r\n            socketService.on(SOCKET_EVENT_USER_UPDATED, user => {\r\n                console.log('USER UPADTED FROM SOCKET');\r\n                dispatch({ type: 'SET_WATCHED_USER', user })\r\n            })\r\n        } catch (err) {\r\n            showErrorMsg('Cannot load user')\r\n            console.log('Cannot load user', err)\r\n        }\r\n    }\r\n}\r\n\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { onLogin, onSignup, onGoogleLogin, onLogout } from '../store/user.actions.js'\r\n\r\n\r\nexport class _LoginSignup extends React.Component {\r\n    state = {\r\n        credentials: {\r\n            username: '',\r\n            password: '',\r\n            fullname: '',\r\n        },\r\n        isSignup: false\r\n    }\r\n    componentDidMount() {\r\n        const { isSignup } = this.props\r\n\r\n        this.setState({ isSignup })\r\n    }\r\n    clearState = () => {\r\n        const clearTemplate = {\r\n            credentials: {\r\n                username: '',\r\n                password: '',\r\n                fullname: ''\r\n            },\r\n            isSignup: false\r\n        }\r\n        this.setState({ clearTemplate })\r\n        const { user } = this.props\r\n        this.props.history.push('/')\r\n    }\r\n\r\n    handleChange = (ev) => {\r\n        const field = ev.target.name;\r\n        const value = ev.target.value;\r\n        this.setState({ credentials: { ...this.state.credentials, [field]: value } });\r\n    }\r\n\r\n    onLogin = (ev = null) => {\r\n        if (!this.state.credentials.username || !this.state.credentials.password) return;\r\n\r\n        if (ev) ev.preventDefault();\r\n        this.props.onLogin(this.state.credentials)\r\n\r\n        this.clearState()\r\n    }\r\n\r\n    onSignup = (ev = null) => {\r\n        if (!this.state.credentials.username || !this.state.credentials.password || !this.state.credentials.fullname) return;\r\n        if (ev) ev.preventDefault();\r\n        this.props.onSignup(this.state.credentials);\r\n        this.clearState()\r\n    }\r\n\r\n    toggleSignup = () => {\r\n        this.setState({ isSignup: !this.state.isSignup })\r\n    }\r\n\r\n    render() {\r\n        const { username, password, fullname } = this.state.credentials;\r\n        const { isSignup } = this.state;\r\n        return (\r\n            <div className=\"login-page\">\r\n                <p>\r\n                    <button href=\"#\" onClick={this.toggleSignup}>{!isSignup ? 'Signup' : 'Login'}</button>\r\n                </p>\r\n                {!isSignup && <form className=\"login-form\" onSubmit={this.onLogin}>\r\n                    <input\r\n                        type=\"text\"\r\n                        name=\"username\"\r\n                        value={username}\r\n                        placeholder=\"Username\"\r\n                        onChange={this.handleChange}\r\n                        required\r\n                        autoFocus\r\n                    />\r\n                    <input\r\n                        type=\"password\"\r\n                        name=\"password\"\r\n                        value={password}\r\n                        placeholder=\"Password\"\r\n                        onChange={this.handleChange}\r\n                        required\r\n                    />\r\n                    <button>Login!</button>\r\n                </form>}\r\n\r\n                <div className=\"signup-section\">\r\n                    {isSignup && <form className=\"signup-form\" onSubmit={this.onSignup}>\r\n                        <input\r\n                            type=\"text\"\r\n                            name=\"fullname\"\r\n                            value={fullname}\r\n                            placeholder=\"Fullname\"\r\n                            onChange={this.handleChange}\r\n                            required\r\n                        />\r\n                        <input\r\n                            type=\"text\"\r\n                            name=\"username\"\r\n                            value={username}\r\n                            placeholder=\"Username\"\r\n                            onChange={this.handleChange}\r\n                            required\r\n                        />\r\n                        <input\r\n                            type=\"password\"\r\n                            name=\"password\"\r\n                            value={password}\r\n                            placeholder=\"Password\"\r\n                            onChange={this.handleChange}\r\n                            required\r\n                        />\r\n                        <button >Signup!</button>\r\n                    </form>}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        loggedInUser: state.userModule.loggedInUser,\r\n        loginErr: state.userModule.loginErr\r\n    }\r\n}\r\n\r\n\r\nconst mapDispatchToProps = {\r\n    onLogin,\r\n    onSignup,\r\n    onGoogleLogin\r\n}\r\n\r\nexport const LoginSignup = connect(mapStateToProps, mapDispatchToProps)(withRouter(_LoginSignup))\r\n\r\n\r\n//export const LoginSignup = withRouter(_LoginSignup)","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { LoginHeader } from '../cmps/login-signup-header.jsx'\r\nimport { onLogin, onSignup, onGoogleLogin } from '../store/user.actions.js'\r\nimport { LoginSignup } from '../cmps/login-signup.jsx'\r\n\r\nclass _LoginSignupPage extends React.Component {\r\n    state = {\r\n        email: '',\r\n        isSignup: false\r\n    }\r\n    componentDidMount() {\r\n        const { loginSignup, email } = this.props.match.params;\r\n        this.setState({ email })\r\n        if (loginSignup === 'sign-up') {\r\n            this.setState({ isSignup: true })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { isSignup } = this.state\r\n        return (\r\n            <section className=\"login-page-container\">\r\n                <header>\r\n                    <LoginHeader />\r\n                </header>\r\n                <main>\r\n                    <div className=\"layout-twothirds-center account-form\">\r\n                        <LoginSignup onLogin={this.props.onLogin} onSignup={this.props.onSignup} onGoogleLogin={this.props.onGoogleLogin} user={this.props.user} isSignup={isSignup} />\r\n                    </div>\r\n                </main>\r\n                <div className=\"background\">\r\n\r\n                </div>\r\n\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userModule.user,\r\n        loggedInUser: state.userModule.loggedInUser,\r\n        // loginErr: state.userModule.loginErr\r\n    }\r\n}\r\n\r\n\r\nconst mapDispatchToProps = {\r\n    onLogin,\r\n    onSignup,\r\n    onGoogleLogin\r\n}\r\n\r\nexport const LoginSignupPage = connect(mapStateToProps, mapDispatchToProps)(_LoginSignupPage)","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgNotificBell(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    role: \"presentation\",\n    focusable: \"false\",\n    viewBox: \"0 0 24 24\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M12 2C11.4477 2 11 2.44772 11 3V3.078C10.2728 3.19668 9.65318 3.44603 9.1328 3.79295C8.39456 4.28511 7.91489 4.93416 7.60557 5.55279C7.29822 6.1675 7.14952 6.77011 7.07611 7.2106C7.039 7.43322 7.02007 7.62092 7.01035 7.75688C7.00549 7.82503 7.0029 7.88067 7.00153 7.92176C7.00085 7.94232 7.00046 7.95929 7.00025 7.9724L7.00005 7.98916L7.00001 7.99533L7 7.99786L7 7.99898C7 7.9995 7 8 8 8H7V11.723L4.14251 16.4855C3.95715 16.7944 3.95229 17.1792 4.1298 17.4927C4.30731 17.8062 4.63973 18 5 18H19C19.3603 18 19.6927 17.8062 19.8702 17.4927C20.0477 17.1792 20.0429 16.7944 19.8575 16.4855L17 11.723V8H16C17 8 17 7.9995 17 7.99898L17 7.99786L17 7.99533L17 7.98916L16.9997 7.9724C16.9995 7.95929 16.9992 7.94232 16.9985 7.92176C16.9971 7.88067 16.9945 7.82503 16.9896 7.75688C16.9799 7.62092 16.961 7.43322 16.9239 7.2106C16.8505 6.77011 16.7018 6.1675 16.3944 5.55279C16.0851 4.93416 15.6054 4.28511 14.8672 3.79295C14.3468 3.44603 13.7272 3.19668 13 3.078V3C13 2.44772 12.5523 2 12 2ZM9.00042 7.98839L9 8.00435V12C9 12.1812 8.95074 12.3591 8.85749 12.5145L6.76619 16H17.2338L15.1425 12.5145C15.0493 12.3591 15 12.1812 15 12V8.00436L14.9996 7.98839C14.999 7.97089 14.9977 7.9406 14.9947 7.89937C14.9888 7.81658 14.9765 7.69178 14.9511 7.5394C14.8995 7.22989 14.7982 6.8325 14.6056 6.44721C14.4149 6.06584 14.1446 5.71489 13.7578 5.45705C13.3773 5.20338 12.825 5 12 5C11.175 5 10.6227 5.20338 10.2422 5.45705C9.85544 5.71489 9.58511 6.06584 9.39443 6.44721C9.20178 6.8325 9.10048 7.22989 9.04889 7.5394C9.0235 7.69178 9.01118 7.81658 9.00527 7.89937C9.00233 7.9406 9.001 7.97089 9.00042 7.98839ZM14 19C14 20.1046 13.1046 21 12 21C10.8954 21 10 20.1046 10 19H14Z\",\n    fill: \"currentColor\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgNotificBell);\nexport default __webpack_public_path__ + \"static/media/notific-bell.6bbbe799.svg\";\nexport { ForwardRef as ReactComponent };","import { HomePage } from './pages/home-page.jsx'\r\nimport { AboutUs } from './pages/about-us.jsx'\r\nimport { Workspace } from './pages/workspace.jsx'\r\nimport { ChatApp } from './pages/chat-app.jsx'\r\nimport { BoardApp } from './pages/board-app.jsx'\r\n\r\nimport { LoginSignupPage } from './pages/login-page.jsx'\r\n\r\n// Routes accesible from the main navigation (in AppHeader)\r\nconst routes = [\r\n    {\r\n        path: '/',\r\n        component: HomePage,\r\n        label: 'Home 🏠',\r\n    },\r\n    {\r\n        path: '/workspace',\r\n        component: Workspace,\r\n        label: 'Workspace'\r\n    },\r\n    {\r\n        path: '/board/:boardId/:listId?/:cardId?',\r\n        component: BoardApp,\r\n        label: 'board'\r\n    },\r\n    {\r\n        path: '/log/:loginSignup?/:email?/',\r\n        component: LoginSignupPage,\r\n        label: 'login'\r\n    },\r\n    {\r\n        path: '/chat',\r\n        component: ChatApp,\r\n        label: 'Chat'\r\n    },\r\n    {\r\n        path: '/about',\r\n        component: AboutUs,\r\n        label: 'About us'\r\n    },\r\n\r\n]\r\n\r\nexport default routes;","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Link, NavLink } from 'react-router-dom'\r\nimport { ReactComponent as AddIcon } from '../assets/img/icons/add.svg'\r\nimport { ReactComponent as BellIcon } from '../assets/img/icons/notific-bell.svg'\r\nimport { openPopover } from '../store/popover.actions'\r\nimport { socketService } from \"../services/socket.service\";\r\nimport { onLogin, onLogout, onSignup, loadUsers, removeUser } from '../store/user.actions.js'\r\nimport { LoginSignup } from './login-signup.jsx'\r\nimport Logo from '../assets/img/logos/corollo.png'\r\n\r\n\r\n\r\nclass _AppHeader extends React.Component {\r\n\r\n    state = {\r\n        filterTxt: '',\r\n        currOpenModal: '',\r\n        isNewNotific: false,\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.searchInput = React.createRef();\r\n        socketService.on('SOCKET_EVENT_ON_ADD_ACTIVITY', activity => {\r\n            this.setState({ isNewNotific: true })\r\n        })\r\n    }\r\n\r\n    handleChange = (ev) => {\r\n        const title = ev.target.name;\r\n        const value = ev.target.type\r\n    };\r\n\r\n    onOpenPopover = (ev, PopoverName) => {\r\n        //debugger\r\n        const elPos = ev.target.getBoundingClientRect();\r\n        const props = {\r\n            boards: this.props.boards,\r\n        };\r\n        this.props.openPopover(PopoverName, elPos, props);\r\n    };\r\n\r\n    render() {\r\n        const { isNewNotific } = this.state\r\n        var { isBoardStyle, openPopover, user } = this.props\r\n        const [name, lastname] = user ? user.fullname.split(' ') : ['', '']\r\n\r\n        if (!isBoardStyle) {\r\n            isBoardStyle = false;\r\n        }\r\n        return (\r\n            <section>\r\n                <div className={`main-header flex  ${!isBoardStyle ? 'in-board' : 'out-board'}`}>\r\n\r\n                    <button className=\"btn-header flex\" >\r\n                        <svg width=\"20\" height=\"20\" role=\"presentation\" focusable=\"false\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M4 5C4 4.44772 4.44772 4 5 4H7C7.55228 4 8 4.44772 8 5V7C8 7.55228 7.55228 8 7 8H5C4.44772 8 4 7.55228 4 7V5ZM4 11C4 10.4477 4.44772 10 5 10H7C7.55228 10 8 10.4477 8 11V13C8 13.5523 7.55228 14 7 14H5C4.44772 14 4 13.5523 4 13V11ZM11 4C10.4477 4 10 4.44772 10 5V7C10 7.55228 10.4477 8 11 8H13C13.5523 8 14 7.55228 14 7V5C14 4.44772 13.5523 4 13 4H11ZM10 11C10 10.4477 10.4477 10 11 10H13C13.5523 10 14 10.4477 14 11V13C14 13.5523 13.5523 14 13 14H11C10.4477 14 10 13.5523 10 13V11ZM17 4C16.4477 4 16 4.44772 16 5V7C16 7.55228 16.4477 8 17 8H19C19.5523 8 20 7.55228 20 7V5C20 4.44772 19.5523 4 19 4H17ZM16 11C16 10.4477 16.4477 10 17 10H19C19.5523 10 20 10.4477 20 11V13C20 13.5523 19.5523 14 19 14H17C16.4477 14 16 13.5523 16 13V11ZM5 16C4.44772 16 4 16.4477 4 17V19C4 19.5523 4.44772 20 5 20H7C7.55228 20 8 19.5523 8 19V17C8 16.4477 7.55228 16 7 16H5ZM10 17C10 16.4477 10.4477 16 11 16H13C13.5523 16 14 16.4477 14 17V19C14 19.5523 13.5523 20 13 20H11C10.4477 20 10 19.5523 10 19V17ZM17 16C16.4477 16 16 16.4477 16 17V19C16 19.5523 16.4477 20 17 20H19C19.5523 20 20 19.5523 20 19V17C20 16.4477 19.5523 16 19 16H17Z\" fill=\"currentColor\"></path></svg>\r\n                    </button>\r\n                    <div className=\"logo flex \">\r\n                        <Link to=\"/\">\r\n                            {/* <img className=\"main-logo\" src=\"https://a.trellocdn.com/prgb/dist/images/header-logo-spirit-loading.87e1af770a49ce8e84e3.gif\"></img> */}\r\n                           <img  className=\"main-logo\" src={Logo}/>\r\n                        </Link>\r\n                    </div>\r\n                    <div className=\"btn-header-container flex\">\r\n                        <Link to=\"/workspace\" className=\"btn-header clean-link\">\r\n                            {/* <HomeIcon /> */}\r\n                            <button className=\"btn-header flex\" onClick={() => {\r\n                            }}>\r\n                                {/* <BoardIcon /> */}\r\n                                <div className=\"txt-btn-wraper\">\r\n                                    Workspace\r\n                                    <svg width=\"16\" height=\"16\" role=\"presentation\" focusable=\"false\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M11.2929 16.7071L4.22185 9.63606C3.83132 9.24554 3.83132 8.61237 4.22185 8.22185C4.61237 7.83133 5.24554 7.83133 5.63606 8.22185L12 14.5858L18.364 8.22185C18.7545 7.83132 19.3877 7.83132 19.7782 8.22185C20.1687 8.61237 20.1687 9.24554 19.7782 9.63606L12.7071 16.7071C12.3166 17.0977 11.6834 17.0977 11.2929 16.7071Z\" fill=\"currentColor\"></path></svg>\r\n                                </div>\r\n                                {/* <ElementOverlay /> */}\r\n                            </button>\r\n                        </Link>\r\n                        <button className=\"btn-header flex\" onClick={(ev) => this.onOpenPopover(ev, 'RECENT_BOARDS')}>\r\n                            {/* <BoardIcon /> */}\r\n                            <div className=\"txt-btn-wraper\">\r\n                                Recent\r\n                                <svg width=\"16\" height=\"16\" role=\"presentation\" focusable=\"false\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M11.2929 16.7071L4.22185 9.63606C3.83132 9.24554 3.83132 8.61237 4.22185 8.22185C4.61237 7.83133 5.24554 7.83133 5.63606 8.22185L12 14.5858L18.364 8.22185C18.7545 7.83132 19.3877 7.83132 19.7782 8.22185C20.1687 8.61237 20.1687 9.24554 19.7782 9.63606L12.7071 16.7071C12.3166 17.0977 11.6834 17.0977 11.2929 16.7071Z\" fill=\"currentColor\"></path></svg>\r\n                            </div>\r\n                        </button>\r\n                        <button className=\"btn-header flex\" onClick={(ev) => this.onOpenPopover(ev, 'STARRED')}>\r\n                            <div className=\"txt-btn-wraper\">\r\n                                Starred\r\n                                <svg width=\"16\" height=\"16\" role=\"presentation\" focusable=\"false\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M11.2929 16.7071L4.22185 9.63606C3.83132 9.24554 3.83132 8.61237 4.22185 8.22185C4.61237 7.83133 5.24554 7.83133 5.63606 8.22185L12 14.5858L18.364 8.22185C18.7545 7.83132 19.3877 7.83132 19.7782 8.22185C20.1687 8.61237 20.1687 9.24554 19.7782 9.63606L12.7071 16.7071C12.3166 17.0977 11.6834 17.0977 11.2929 16.7071Z\" fill=\"currentColor\"></path></svg>\r\n                            </div>\r\n                        </button>\r\n                        <button className=\"btn-header create-btn flex\" >\r\n                            <div className=\"txt-btn-wraper\" onClick={() => {\r\n                                openPopover('CREATE_BOARD')\r\n                            }}>\r\n                                Create\r\n                            </div>\r\n                        </button>\r\n                    </div>\r\n\r\n                    <div className=\"btn-header-container flex\" >\r\n                        <div className=\"search-input-container\" ref={this.searchInput} onClick={(ev) => {\r\n                            this.onOpenPopover(ev, 'SEARCH_HEADER')\r\n\r\n                        }}>\r\n                            <span className=\"sc-bdVaJa kBFJig\" role=\"img\" aria-label=\"SearchIcon\">\r\n                                <svg width=\"24\" height=\"24\" role=\"presentation\" focusable=\"false\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                    <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M10.5 18C6.35786 18 3 14.6421 3 10.5C3 6.35786 6.35786 3 10.5 3C14.6421 3 18 6.35786 18 10.5C18 12.2269 17.4164 13.8175 16.4356 15.0852L20.3769 19.0953C20.764 19.4892 20.7586 20.1223 20.3647 20.5095C19.9708 20.8966 19.3376 20.8911 18.9505 20.4972L15.0129 16.4909C13.7572 17.4383 12.1942 18 10.5 18ZM16 10.5C16 13.5376 13.5376 16 10.5 16C7.46243 16 5 13.5376 5 10.5C5 7.46243 7.46243 5 10.5 5C13.5376 5 16 7.46243 16 10.5Z\" fill=\"currentColor\">\r\n                                    </path>\r\n                                </svg>\r\n                            </span>\r\n                            <input autoComplete=\"off\" autoCorrect=\"off\" spellCheck=\"false\" className=\"search-input-header\"\r\n                                data-test-id=\"header-search-input\" id=\"9lkgOKT6X4ViGFKUiWS6OBVxAsVyJLk2\" type=\"search\" placeholder=\"Search\" onChange={this.hndleChange} />\r\n                        </div>\r\n                        {/* <svg width=\"24\" height=\"24\" role=\"presentation\" focusable=\"false\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M10.5 18C6.35786 18 3 14.6421 3 10.5C3 6.35786 6.35786 3 10.5 3C14.6421 3 18 6.35786 18 10.5C18 12.2269 17.4164 13.8175 16.4356 15.0852L20.3769 19.0953C20.764 19.4892 20.7586 20.1223 20.3647 20.5095C19.9708 20.8966 19.3376 20.8911 18.9505 20.4972L15.0129 16.4909C13.7572 17.4383 12.1942 18 10.5 18ZM16 10.5C16 13.5376 13.5376 16 10.5 16C7.46243 16 5 13.5376 5 10.5C5 7.46243 7.46243 5 10.5 5C13.5376 5 16 7.46243 16 10.5Z\" fill=\"currentColor\"></path></svg> */}\r\n\r\n\r\n\r\n                        {/* <div> //todo\r\n                            <button className=\"btn-header wide-layout\" >\r\n                                <AddIcon />\r\n                            </button>\r\n                        </div> */}\r\n                        <div>\r\n                            <button className={`btn-header ${isNewNotific ? 'new-notific' : ''}`} >\r\n                                <BellIcon />\r\n                            </button>\r\n                        </div>\r\n                        {user && <button className=\"user-logo-in-app-header \" onClick={(ev) => {\r\n                            this.onOpenPopover(ev, 'USER')\r\n                        }}><div className=\"letter-logo-workspace-header\">\r\n                                {name[0]}{lastname[0]}\r\n                            </div>\r\n                        </button>}\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        )\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        boards: state.boardModule.boards,\r\n        users: state.userModule.users,\r\n        user: state.userModule.user,\r\n        count: state.userModule.count,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    onLogin,\r\n    onSignup,\r\n    onLogout,\r\n    loadUsers,\r\n    removeUser,\r\n    openPopover\r\n}\r\n\r\n\r\n\r\nexport const AppHeader = connect(mapStateToProps, mapDispatchToProps)(_AppHeader)","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABEoAAADCCAMAAABpNNd0AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAuhQTFRFAAAA////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////LuDs6gAAAPh0Uk5TAFWq/xw5jsZx4ww6UWJzhJWmt8fa6/DZwKuUfmdQIxNFd6j+cgcdT4Cx+sqRWSFJk+l0IBJh9s8uC1/bgh8ES/XEZQ0P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G4unul2CPWw8sB8ZjPs8GeG61FWthJWCYFL0XQnxqRniunMQoNPIATsiUWD/XBw4+af/w8z2qb28fvsthTtP+ibGxq2/fPGN/KmIrcRF9XDofx/6roT41Axx3TlUVbORs7/NCb61GcriH/z8WmKmb5yxLfORPR7cedI3MZaOeeDpa/OHIrYSF9XD0P994HWgBHSuqk4j1/B8yyhsbVqY9r9PztlUdg5e+783n7sqTC68vfbkmYsf/Zx7DYnTQ/4ciV5hqGZwHdo2SNytASWg51kL3cg1PN8yOlubNhx1/I1bmx8gvvrHj+1w0UuPzAuYRuvqbsyZ1o/V902MtZNfnfC6ew2J00P+HFWoPnHrlN/9buvGE6VsbXAd2jZI3K0BJaDnWVNu5BJVLP79/PufWHru+/cc88SS389USKB1dTfmzMB8sGfCACpU/3bMSRde+NHDPxRCddsGyacXggcsCdsW5WsICTM05kzd5sMQ1ZtH737wwuNepb4614u2mz6fXggesChsWfuaSCQr6WXt5nnztmx5AXV3cSltN30+vRA8YFHYOrSviURCnHr+z0kkEmCgVvL/PhYTQIusHeYAAAAASUVORK5CYII=\"","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { loadAndWatchUser } from '../store/user.actions'\r\n\r\nexport class _UserDetails extends Component {\r\n\r\n  async componentDidMount() {\r\n    this.props.loadAndWatchUser(this.props.match.params.id)\r\n  }\r\n\r\n  render() {\r\n    const { user } = this.props\r\n    return (\r\n      <section className=\"user-details\">\r\n        <h1>User Details</h1>\r\n        {user && <div>\r\n          <h3>\r\n            {user.fullname}\r\n          </h3>\r\n          <pre>\r\n            {JSON.stringify(user, null, 2)}\r\n          </pre>\r\n        </div>}\r\n      </section>\r\n    )\r\n  }\r\n}\r\n\r\n\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    user: state.userModule.watchedUser\r\n  }\r\n}\r\nconst mapDispatchToProps = {\r\n  loadAndWatchUser\r\n}\r\n\r\nexport const UserDetails = connect(mapStateToProps, mapDispatchToProps)(_UserDetails)\r\n","import CheckIcon from '@material-ui/icons/Check';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\n\r\nexport function PopoverLabelPreview({ label, toggleLabel, isSelected, toggleEditMode, isFilterPreview }) {\r\n    return <li className=\"flex\">\r\n        {!isFilterPreview ?\r\n            <>\r\n                <div style={{ backgroundColor: label.color, color: 'white' }} name=\"label\"\r\n                    onClick={() => toggleLabel(label, 'labels')}\r\n                    className=\"label-pop-over-preview flex justify-space-between\">\r\n                    <span>{label.title}</span>\r\n                    {isSelected && <span className=\"icon-check\" >\r\n                        <CheckIcon style={{ width: '16px', height: '16px', color: 'white' }} />\r\n                    </span>}\r\n                </div>\r\n            </>\r\n            :\r\n            <div className=\"filter-label-preview flex align-center\"\r\n                onClick={() => toggleLabel(label, 'labels')}>\r\n                <span className=\"filter-label-color\" style={{ backgroundColor: label.color }} ></span>\r\n                <span className=\"\">{label.title}</span>\r\n                {isSelected && <i className=\"icon-check\" ><CheckIcon /> </i>}\r\n            </div>\r\n        }\r\n    </li>\r\n}","import CloseIcon from '@material-ui/icons/Close';\r\nimport { connect } from 'react-redux'\r\nimport { closePopover } from '../../store/popover.actions.js'\r\nimport { Component } from 'react'\r\nimport { boardService } from '../../services/board.service';\r\n// import { Popover } from '@material-ui/core';\r\n\r\nexport class _Popover extends Component {\r\n\r\n    state = {\r\n        top: null,\r\n        left: null,\r\n        isOpen: true\r\n    }\r\n\r\n    componentDidMount() \r\n    {\r\n        window.addEventListener('resize', () => {\r\n            if (window.innerWidth > 1000) return\r\n            this.onSetPopoverPos()\r\n        });\r\n        this.onSetPopoverPos()\r\n    }\r\n\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (this.props.elPos !== prevProps.elPos) {\r\n            this.onSetPopoverPos()\r\n        }\r\n    }\r\n\r\n\r\n    onSetPopoverPos = () => {\r\n        const { elPos, displayMode } = this.props\r\n        if (!this.selectedDiv) return\r\n        const elRect = this.selectedDiv.getBoundingClientRect()\r\n        let { left, top } = boardService.setPopoverPos(elPos, elRect)\r\n        if (displayMode === 'menu-popovers') {\r\n            top = 40;\r\n            left = window.innerWidth - elRect.width;\r\n        }\r\n\r\n        this.setState({ top, left })\r\n    }\r\n\r\n    handleClose = () => {\r\n        this.setState({isOpen : !this.state.isOpen})\r\n    }\r\n\r\n    render() {\r\n        const { children, title, closePopover, isOverlayOpen, overlay, displayMode } = this.props\r\n        const { top, left ,isOpen} = this.state\r\n\r\n        return <>\r\n            {overlay !== 'none' && isOverlayOpen && <div className=\"overlay\" onClick={closePopover} />}\r\n            <div className={`pop-over ${displayMode} `}\r\n                style={displayMode === 'menu' ? {} : { top: `${top}px`, left: `${left}px` }}\r\n                ref={(div) => { this.selectedDiv = div }} >\r\n                <div className={`pop-over-header ${displayMode} `}>\r\n                    <h3>{title}</h3>\r\n                    <button className=\"clean-btn\" onClick={closePopover}>\r\n                        <CloseIcon />\r\n                    </button>\r\n                </div>\r\n                <div className=\"pop-over-content\">\r\n                    {children}\r\n                </div>\r\n            </div>\r\n        </>\r\n\r\n    }\r\n}\r\n\r\n\r\nconst mapDispatchToProps = {\r\n    closePopover\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        isOverlayOpen: state.popoverModule.isOverlayOpen,\r\n        elPos: state.popoverModule.currPopover.elPos\r\n    }\r\n}\r\nexport const Popover = connect(mapStateToProps, mapDispatchToProps)(_Popover)","import CheckIcon from '@material-ui/icons/Check';\r\n// import { styles } from '@material-ui/pickers/views/Calendar/Calendar';\r\nimport {MoreHoriz} from '@material-ui/icons';\r\n\r\nexport function ColorPalette({ handleChange, selectedColor, count }) {\r\n\r\n    const colorCodes = [\r\n        '#60bd4f',\r\n        '#f2d600',\r\n        '#ff9e1a',\r\n        '#eb5a46',\r\n        '#c277e0',\r\n        '#0279bf',\r\n        '#52e898',\r\n        '#ff78cb',\r\n        '#334563',\r\n        '#b3bac5',\r\n\r\n    ]\r\n\r\n    function getStyles() {\r\n        const styles = colorCodes\r\n        return count ? styles.slice(0, count) : styles\r\n    }\r\n\r\n    return <div className=\"color-palette\">\r\n        {getStyles().map(colorCode => {\r\n            return <label key={colorCode} className=\"flex align-center justify-center\" style={{ background: colorCode }} name=\"label-color\" htmlFor={`color-${colorCode}`}>\r\n                <input type=\"radio\" name=\"color\" id={`color-${colorCode}`} value={colorCode} onClick={handleChange} />\r\n                {selectedColor === colorCode && <CheckIcon key={colorCode} style={{ width: '16px', height: '16px', color: 'white' }} />}\r\n            </label>\r\n        })}           \r\n        \r\n    </div>\r\n}","import { Component } from \"react\";\r\n\r\n\r\nimport { Popover } from './popover'\r\nimport { ColorPalette } from '../color-palette.jsx'\r\nexport class PopoverLabelEdit extends Component {\r\n\r\n    state = {\r\n        title: '',\r\n        color: ''\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({ title: this.props.labelToEdit?.title || '', color: this.props.labelToEdit?.color || '' })\r\n\r\n    }\r\n\r\n    handleChange = ({ target }) => {\r\n        const { name, value } = target\r\n        this.setState({ [name]: value })\r\n    }\r\n    onSaveLabel = () => {\r\n        if (!this.state.title || !this.state.color) return\r\n        this.props.saveLabel({ ...this.state, id: this.props.labelToEdit?.id || '' })\r\n        this.props.toggleEditMode()\r\n    }\r\n    onRemoveLabel = () => {\r\n        this.props.removeLabel(this.props.labelToEdit)\r\n        this.props.toggleEditMode()\r\n    }\r\n\r\n    render() {\r\n        const { title, color } = this.state\r\n        const { labelToEdit } = this.props\r\n\r\n        return <Popover\r\n            togglePopover={this.props.togglePopover}\r\n            title={labelToEdit.title ? 'Edit a label' : 'Create a label'}>\r\n            <div className=\"label-add-content\">\r\n                <label htmlFor=\"label-inout\">Name</label>\r\n                <input type=\"text\" name=\"title\" value={title} onChange={this.handleChange}\r\n                    className=\"pop-over-input\" />\r\n                <h4>Color</h4>\r\n                <ColorPalette handleChange={this.handleChange} selectedColor={color} />\r\n            </div>\r\n            <div className=\"flex justify-space-between\">\r\n                <button className=\"primary-btn\" onClick={this.onSaveLabel} >\r\n                    {labelToEdit.title ? 'Save' : 'Create'}\r\n                </button>\r\n                {labelToEdit.title && <button className=\"danger-btn\" onClick={this.onRemoveLabel}>\r\n                    Delete\r\n                </button>}\r\n            </div>\r\n        </Popover>\r\n    }\r\n}","import { Component } from \"react\"\r\nimport { PopoverLabelPreview } from \"./popover-label-preview\"\r\nimport { Popover } from './popover'\r\nimport { PopoverLabelEdit } from \"./popover-label-edit\"\r\nimport { onSaveBoard } from '../../store/board.actions.js'\r\nimport { connect } from 'react-redux'\r\nimport { boardService } from '../../services/board.service'\r\nimport { utilService } from \"../../services/util.service\";\r\n\r\nclass _PopoverLabels extends Component {\r\n\r\n    state = {\r\n        inputTxt: '',\r\n        presentedLabels: '',\r\n        labelToEdit: null,\r\n        isEditMode: false,\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({ presentedLabels: this.props.board.labels })\r\n\r\n    }\r\n\r\n    handleChange = ({ target }) => {\r\n        this.setState({ inputTxt: target.value })\r\n    }\r\n\r\n    get presentedLabels() {\r\n        const filterRegex = new RegExp(this.state.inputTxt, 'i')\r\n        return this.props.board.labels.filter(label => filterRegex.test(label.title))\r\n    }\r\n\r\n    toggleLabel = (label) => {\r\n        const { card, onSaveBoard, board } = this.props\r\n        const idx = card.labelIds.findIndex(labelId => labelId === label.id)\r\n        if (idx === -1) card.labelIds.push(label.id)\r\n        else card.labelIds.splice(idx, 1)\r\n        const updatedBoard = boardService.updateCardInBoard(board, card)\r\n        onSaveBoard(updatedBoard)\r\n    }\r\n\r\n    saveLabel = (labelToSave) => {\r\n        const { board, onSaveBoard } = this.props\r\n        if (labelToSave.id) {\r\n            const idx = board.labels.findIndex(label => label.id === labelToSave.id)\r\n            board.labels.splice(idx, 1, labelToSave)\r\n        }\r\n        else {\r\n            labelToSave.id = utilService.makeId()\r\n            board.labels.push(labelToSave)\r\n        }\r\n        onSaveBoard(board)\r\n    }\r\n\r\n    removeLabel = (labelToRemove) => {\r\n        const { board, onSaveBoard } = this.props\r\n        const idx = board.labels.findIndex(label => label.id === labelToRemove.id)\r\n        board.labels.splice(idx, 1)\r\n        onSaveBoard(board)\r\n    }\r\n\r\n    toggleEditMode = (label = null) => {\r\n        this.setState({ isEditMode: !this.state.isEditMode, labelToEdit: label })\r\n    }\r\n\r\n    isLabelInCard = (label) => {\r\n        return this.props.card.labelIds.some(labelId => labelId === label.id)\r\n    }\r\n    render() {\r\n        const { presentedLabels, inputTxt, isEditMode, labelToEdit } = this.state\r\n        if (!presentedLabels) return '';\r\n        return (<>\r\n            {isEditMode ?\r\n                <PopoverLabelEdit removeLabel={this.removeLabel}\r\n                    labelToEdit={labelToEdit} saveLabel={this.saveLabel} toggleEditMode={this.toggleEditMode} />\r\n                :\r\n                <Popover title={\"Labels\"} >\r\n                    <div className=\"labels-pop-over\">\r\n                        <input className=\"pop-over-input\" type=\"text\" value={inputTxt}\r\n                            onChange={this.handleChange} placeholder={\"Search Labels\"} />\r\n                        <h4>LABELS</h4>\r\n                        <ul className=\"clean-list\">\r\n\r\n                            {this.presentedLabels.map(label => <PopoverLabelPreview key={label.id} label={label}\r\n                                toggleLabel={this.toggleLabel} isSelected={this.isLabelInCard(label)}\r\n                                toggleEditMode={this.toggleEditMode} />)}\r\n                        </ul>\r\n                        <button className=\"secondary-btn\" onClick={this.toggleEditMode}>Create a new label</button>\r\n                    </div>\r\n                </Popover>\r\n            }\r\n        </>\r\n        )\r\n    }\r\n\r\n}\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        board: state.boardModule.board,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    onSaveBoard\r\n}\r\n\r\n\r\nexport const PopoverLabels = connect(mapStateToProps, mapDispatchToProps)(_PopoverLabels)\r\n","import { DatePicker, MuiPickersUtilsProvider } from '@material-ui/pickers';\r\nimport MomentUtils from '@date-io/moment';\r\nimport { boardService } from '../../services/board.service';\r\nimport { closePopover } from '../../store/popover.actions';\r\nimport { connect } from 'react-redux';\r\nimport { onSaveBoard } from '../../store/board.actions';\r\nimport React, { Component } from 'react';\r\nimport { Popover } from './popover';\r\nimport { activityService } from '../../services/activity.service';\r\n\r\nclass _PopoverDate extends Component {\r\n\r\n    state = {\r\n        date: null\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        const date = this.props.card.dueDate ? new Date(this.props.card.dueDate).toLocaleString() : new Date()\r\n        this.setState({ date })\r\n    }\r\n\r\n\r\n    handleChange = (ev) => {\r\n        this.setState({ date: ev._d })\r\n    }\r\n\r\n    saveDueDate = (date) => {\r\n        const { card, onSaveBoard, closePopover, board } = this.props\r\n        const dueDateBefore = card.dueDate\r\n\r\n        card.dueDate = date ? Date.parse(date) : 0;\r\n        \r\n        let updatedBoard = boardService.updateCardInBoard(board, card)\r\n        if(dueDateBefore) {\r\n            if(card.dueDate) { updatedBoard = activityService.addActivityToBoard(updatedBoard, 'changed-duedate', new Date(card.dueDate).toLocaleString(), card) }\r\n            else { updatedBoard = activityService.addActivityToBoard(updatedBoard, 'removed', 'due date', card) }\r\n        }\r\n        onSaveBoard(updatedBoard)\r\n        closePopover()\r\n    }\r\n\r\n    onRemoveDate = () => {\r\n        this.saveDueDate(null)\r\n    }\r\n\r\n    render() {\r\n        const { date } = this.state\r\n        if (!date) return ''//loading\r\n        return <Popover title=\"Date\">\r\n            <div className=\"date-pop-over-content\">\r\n \r\n            <MuiPickersUtilsProvider utils={MomentUtils}>\r\n                    <DatePicker\r\n                        autoOk\r\n                        variant=\"static\"\r\n                        openTo=\"date\"\r\n                        value={date}\r\n                        onChange={this.handleChange}\r\n\r\n                    />\r\n                </MuiPickersUtilsProvider>\r\n\r\n                <div className=\"btn-container flex column\">\r\n                    <button className=\"primary-btn\" onClick={() => this.saveDueDate(date)} >Save</button>\r\n                    <button className=\"secondary-btn\" onClick={this.onRemoveDate}>Remove</button>\r\n                </div>\r\n            </div>\r\n\r\n        </Popover>\r\n    }\r\n}\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        board: state.boardModule.board,\r\n        user: state.userModule.loggedInUser\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    onSaveBoard,\r\n    closePopover\r\n}\r\n\r\n\r\nexport const PopoverDate = connect(mapStateToProps, mapDispatchToProps)(_PopoverDate)\r\n","\r\nimport { ProfileAvatar } from '../profile-avatar';\r\nimport CheckIcon from '@material-ui/icons/Check';\r\n\r\nexport function PopoverMemberPreview({ member, toggleMember, isSelected }) {\r\n\r\n    return <li onClick={() => toggleMember(member, 'members')} className=\"member-pop-over-preview flex\">\r\n\r\n        <ProfileAvatar member={member} size={32} />\r\n        <span>{member.fullname}</span>\r\n        {isSelected && <span className=\"icon-check\" >\r\n            <CheckIcon style={{ width: '16px' }} />\r\n        </span>}\r\n    </li>\r\n}","import { Component } from 'react';\r\nimport { Popover } from './popover';\r\nimport { boardService } from '../../services/board.service'\r\nimport { PopoverMemberPreview } from './popover-member-preview'\r\nimport { onSaveBoard } from '../../store/board.actions.js';\r\nimport { connect } from 'react-redux'\r\nimport { socketService } from '../../services/socket.service'\r\nimport { onLogin, onSignup, onGoogleLogin } from '../../store/user.actions.js'\r\nimport { activityService } from '../../services/activity.service';\r\n\r\nclass _PopoverMembers extends Component {\r\n\r\n    state = {\r\n        inputTxt: '',\r\n        presentedMembers: '',\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({ presentedMembers: this.props.board.members })\r\n\r\n    }\r\n\r\n    handleChange = ({ target }) => {\r\n        this.setState({ inputTxt: target.value }, () => {\r\n            const filterRegex = new RegExp(this.state.inputTxt, 'i')\r\n            this.setState({ presentedMembers: this.props.board.members.filter(member => filterRegex.test(member.fullname)) })\r\n        })\r\n    }\r\n\r\n    toggleMember = (member) => {\r\n        const { card, board, loggedInUser } = this.props\r\n        if (!card.members) {\r\n            card.members = [];\r\n        }\r\n        const idx = card.members.findIndex(cardMember => cardMember._id === member._id)\r\n\r\n        if (idx === -1) {\r\n            card.members.push(member)\r\n        } else {\r\n            card.members.splice(idx, 1)\r\n        }\r\n        let updatedBoard = boardService.updateCardInBoard(board, card)\r\n        updatedBoard = activityService.addActivityToBoard(updatedBoard, (idx === -1) ? 'added' : 'removed', member.fullname, card)\r\n        this.props.onSaveBoard(updatedBoard)\r\n    }\r\n\r\n    isMemberInCard = (member) => {\r\n        const { members } = this.props.card;\r\n        return (members) ? members.some(cardMember => cardMember._id === member._id) : false\r\n    }\r\n    render() {\r\n        const { presentedMembers, inputTxt } = this.state\r\n        if (!presentedMembers) return '';\r\n        return <Popover title={\"Members\"} >\r\n            <div className=\"members-pop-over-content\">\r\n                <input className=\"pop-over-input\" type=\"text\" value={inputTxt}\r\n                    onChange={this.handleChange} placeholder={\"Search members\"} />\r\n                <h4>BOARD MEMBERS</h4>\r\n                <ul className=\"clean-list\">\r\n                    {presentedMembers && presentedMembers.map(member => <PopoverMemberPreview key={member._id} member={member}\r\n                        toggleMember={this.toggleMember} isSelected={this.isMemberInCard(member)} />)}\r\n                </ul>\r\n            </div>\r\n        </Popover>\r\n\r\n\r\n    }\r\n\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        board: state.boardModule.board,\r\n        loggedInUser: state.userModule.loggedInUser\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    onSaveBoard\r\n}\r\n\r\n\r\nexport const PopoverMembers = connect(mapStateToProps, mapDispatchToProps)(_PopoverMembers)\r\n\r\n","export const cloudinaryService = {\r\n    uploadFile\r\n}\r\nfunction uploadFile(ev) {\r\n    const CLOUD_NAME = 'plcrased'\r\n    const PRESET_NAME = 'suhu9tpl'\r\n    const UPLOAD_URL = `https://api.cloudinary.com/v1_1/${CLOUD_NAME}/auto/upload`;\r\n    const formData = new FormData();\r\n    formData.append('file', ev.target.files[0])\r\n    formData.append('upload_preset', PRESET_NAME);\r\n\r\n    return fetch(UPLOAD_URL, {\r\n        method: 'POST',\r\n        body: formData\r\n    })\r\n        .then(res => res.json())\r\n        .then(res => {\r\n            console.log(res)\r\n\r\n            return res\r\n        })\r\n        .catch(err => console.error(err))\r\n}  \r\n\r\n","import { Component } from 'react'\r\nimport { cloudinaryService } from '../services/cloudinary.service'\r\n\r\nexport class FileUpload extends Component {\r\n  state = {\r\n    fileUrl: null,\r\n    isUploading: false,\r\n  }\r\n  uploadFile = async (ev) => {\r\n    this.setState({ isUploading: true })\r\n\r\n    try{\r\n      const {secure_url} = await cloudinaryService.uploadFile(ev)\r\n      this.props.onFileUpload(secure_url)\r\n    }catch (err){\r\n    }\r\n    this.setState({ isUploading: false})\r\n  }\r\n  get uploadMsg() {\r\n    const { fileUrl, isUploading } = this.state\r\n    if (fileUrl) return 'File Uploaded'\r\n    return isUploading ? 'Uploading...' : 'Upload Image'\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"upload-preview\" >\r\n        <input className=\"secondary-btn.full\" type=\"file\" onChange={ this.uploadFile } accept=\"img/*\" id=\"file-upload\" />\r\n      </div>\r\n    )\r\n  }\r\n}","import { Component } from 'react';\r\nimport { utilService } from '../../services/util.service';\r\nimport { ColorPalette } from '../color-palette';\r\nimport { Popover } from './popover';\r\nimport { boardService } from '../../services/board.service'\r\nimport { onSaveBoard } from '../../store/board.actions'\r\nimport { connect } from 'react-redux';\r\nimport { FileUpload } from '../file-upload';\r\n\r\nclass _PopoverCover extends Component {\r\n\r\n    state = {\r\n        bgColor: this.props.card.style?.bgColor || '',\r\n        coverMode: this.props.card.style?.coverMode || null,\r\n        bgImgUrl: this.props.card.style?.bgImgUrl || '',\r\n    }\r\n    componentDidMount() {\r\n        this.setState({})\r\n    }\r\n\r\n    saveCover = ({ bgImgUrl, bgColor, coverMode }) => {\r\n        const { card, onSaveBoard, board } = this.props\r\n        card.style = {\r\n            coverMode,\r\n            bgImgUrl,\r\n            bgColor,\r\n        }\r\n        const updatedBoard = boardService.updateCardInBoard(board, card)\r\n\r\n        //todo\r\n        onSaveBoard(updatedBoard)\r\n    }\r\n\r\n\r\n\r\n    onFileUpload = (fileUrl) => {\r\n        this.setState({ bgImgUrl: fileUrl, bgColor: '', coverMode: 'full' })\r\n        this.onSaveCover()\r\n    }\r\n\r\n    handleChange = ({ target }) => {\r\n        let { coverMode } = this.state\r\n        if (!coverMode) coverMode = 'header';\r\n        this.setState({ bgColor: target.value, bgImgUrl: '', coverMode: coverMode }, this.onSaveCover)\r\n    }\r\n\r\n    onRemoveCover = () => {\r\n        this.setState({ bgColor: '', coverMode: '', bgImgUrl: '' }, this.onSaveCover)\r\n        // this.props.removeCoverBg()\r\n    }\r\n\r\n    onSetMode = (mode) => {\r\n        this.setState({ coverMode: mode }, this.onSaveCover)\r\n    }\r\n\r\n    onSaveCover = () => {\r\n        const { bgColor, bgImgUrl, coverMode } = this.state\r\n        if ((coverMode && bgImgUrl) || (coverMode && bgColor) || (!coverMode && !bgColor && !bgImgUrl)) this.saveCover(this.state)\r\n        else return\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        const { bgColor, coverMode, bgImgUrl } = this.state\r\n        return <Popover title=\"Cover\">\r\n            <div className=\"cover-pop-over-content\">\r\n                <h4>SIZE</h4>\r\n                <div className=\"cover-options flex justify-space-between align-center\">\r\n                    <div className={`header-cover-preview ${coverMode === 'header' ? 'selected' : ''}`} onClick={() => this.onSetMode('header')} >\r\n                        <div className=\"header-section\" style={{ backgroundColor: bgColor ? bgColor : '#5e6c844d' }}></div>\r\n                    </div>\r\n                    <div className={`full-cover-preview ${coverMode === 'full' ? 'selected' : ''}`} onClick={() => this.onSetMode('full')} style={{ backgroundColor: bgColor ? bgColor : '#5e6c844d' }}> </div>\r\n                </div>\r\n                {(bgColor || bgImgUrl) && <div className=\"flex\">\r\n                    <button className=\"secondary-btn full\" onClick={this.onRemoveCover}>Remove Cover</button>\r\n                </div>}\r\n                <h4>COLOR</h4>\r\n                <ColorPalette selectedColor={bgColor} handleChange={this.handleChange} />\r\n                <h4>ATTACHMENTS</h4>\r\n                <FileUpload onFileUpload={this.onFileUpload} />\r\n            </div>\r\n        </Popover>\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    onSaveBoard,\r\n}\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        board: state.boardModule.board\r\n    }\r\n}\r\n\r\n\r\nexport const PopoverCover = connect(mapStateToProps, mapDispatchToProps)(_PopoverCover)","import CheckIcon from '@material-ui/icons/Check';\r\n\r\nexport function ImagePalette({ handleChange, selectedColor, count }) {\r\n\r\n    const urls = [\r\n        'https://trello-backgrounds.s3.amazonaws.com/SharedBackground/1280x1920/366b2643e789735182636ab3af05243c/photo-1575351881847-b3bf188d9d0a.jpg',\r\n        'https://trello-backgrounds.s3.amazonaws.com/SharedBackground/2048x1152/cc16313af10dd43c6fa5132e380f43d0/photo-1629199022827-eede3c3df471.jpg',\r\n        'https://trello-backgrounds.s3.amazonaws.com/SharedBackground/1283x1920/5442c84e9d91238aeb465e80974294ff/photo-1536293182766-c9c0c4133b55.jpg',\r\n        'https://trello-backgrounds.s3.amazonaws.com/SharedBackground/1280x1920/43d6569d8effa6131b09458d898fc234/photo-1629648530797-ea135d60d534.jpg',\r\n        'https://trello-backgrounds.s3.amazonaws.com/SharedBackground/1472x1920/60ebd80dbbc858dcbbff83b586099ce5/photo-1630691432568-b202e42643e2.jpg',\r\n        'https://images.unsplash.com/photo-1503437313881-503a91226402?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=2232&q=80',\r\n        'https://images.unsplash.com/photo-1633797694830-138fc0df9ade?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1335&q=80'\r\n    ]\r\n\r\n    function getStyles() {\r\n        const styles = urls\r\n        return count ? styles.slice(0, count) : styles\r\n    }\r\n\r\n    return <div className=\"flex row\">\r\n        {getStyles().map(imageUrl => {\r\n            return <label key={imageUrl} className=\"flex align-center justify-center\" style={{\r\n                backgroundImage: \"url(\" + imageUrl + \")\",\r\n                backgroundPosition: 'center center',\r\n                backgroundSize: 'cover'\r\n            }} name=\"label-color\" htmlFor={`color-${imageUrl}`}>\r\n                <input type=\"radio\" name=\"color\" id={`color-${imageUrl}`} value={imageUrl} onClick={handleChange} />\r\n                {selectedColor === imageUrl && <CheckIcon key={imageUrl} style={{ width: '16px', height: '16px', color: 'white' }} />}\r\n            </label>\r\n        })}\r\n    </div>\r\n}","import { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { ScreenOverlay } from '../screen-overlay';\r\nimport { ColorPalette } from '../color-palette';\r\nimport { closePopover } from '../../store/popover.actions';\r\nimport { onSaveBoard } from '../../store/board.actions';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { ImagePalette } from '../image-palette.jsx';\r\nimport { openPopover } from '../../store/popover.actions.js';\r\nimport { MoreHoriz, ThreeSixtyOutlined } from '@material-ui/icons';\r\nimport { Button } from '@material-ui/core';\r\n\r\nimport { Popover } from '@material-ui/core';\r\n// import {CloseIcon} from '@material-ui/icons';\r\n\r\nclass _PopoverCreateBoard extends Component {\r\n  state = {\r\n    title: '',\r\n    color: '',\r\n    isOpen: false,\r\n  };\r\n\r\n  handleClick = (ev) => {\r\n    this.setState({ isOpen: true });\r\n  };\r\n\r\n  handleClose = (ev) => {\r\n    this.setState({ isOpen: false });\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.setState({ color: '#0079bf' });\r\n  }\r\n\r\n  handleChange = ({ target }) => {\r\n    const { name, value } = target;\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  onOpenPopover = (ev, PopoverName, isNew) => {\r\n    const elPos = ev.target.getBoundingClientRect();\r\n    console.log('board', this.props.board);\r\n    const props = {\r\n      handleChange: this.handleChange,\r\n      color: this.state.color,\r\n    };\r\n    this.props.openPopover(PopoverName, elPos, props, isNew);\r\n  };\r\n  onCreateBoard = async () => {\r\n    const { title, color } = this.state;\r\n    const { loggedInUser, onSaveBoard, closePopover } = this.props;\r\n    const boardToSave = {\r\n      createdBy: loggedInUser,\r\n      title: title,\r\n      createdAt: Date.now(),\r\n      createdBy: {\r\n        _id: '',\r\n        fullname: '',\r\n        imgUrl: '',\r\n      },\r\n      style: {\r\n        background: color,\r\n      },\r\n      labels: [],\r\n      members: [],\r\n      lists: [],\r\n      activities: [],\r\n    };\r\n    try {\r\n      await onSaveBoard(boardToSave);\r\n      if (this.props.board)\r\n        this.props.history.push(`/board/${this.props.board._id}`);\r\n      closePopover();\r\n    } catch (err) {}\r\n  };\r\n\r\n  render() {\r\n    const { title, color, isOpen } = this.state;\r\n    const { closePopover } = this.props;\r\n    return (\r\n      <ScreenOverlay goBack={closePopover} styleMode=\"darken\">\r\n        <div className=\"create-board-popover\">\r\n          <div className=\"flex align-center\">\r\n            <div\r\n              className=\"board-preview\"\r\n              style={{\r\n                backgroundColor: color,\r\n                backgroundImage: 'url(' + color + ')',\r\n                backgroundSize: 'cover',\r\n                backgroundPosition: 'center center',\r\n              }}\r\n            >\r\n              <input\r\n                type=\"text\"\r\n                name=\"title\"\r\n                value={title}\r\n                onChange={this.handleChange}\r\n                placeholder=\"Add board title\"\r\n              />\r\n            </div>\r\n            <div className=\"create-preview-colors\">\r\n                <ColorPalette\r\n                  count={6}\r\n                  onOpenPopover={this.onOpenPopover}\r\n                  handleChange={this.handleChange}\r\n                  selectedColor={color}\r\n                />\r\n\r\n                <div className=\"image-palette\">\r\n              <ImagePalette\r\n                count={2}\r\n                handleChange={this.handleChange}\r\n                selectedColor={color}\r\n              />\r\n              <a\r\n                ref={(div) => {\r\n                  this.selectedDiv = div;\r\n                }}\r\n                className=\"add-image-box\"\r\n                aria-describedby={1}\r\n                variant=\"contained\"\r\n                onClick={this.handleClick}\r\n              >\r\n                <MoreHoriz />\r\n              </a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <button\r\n            className={`primary-btn ${title ? '' : 'disabled'}`}\r\n            onClick={this.onCreateBoard}\r\n          >\r\n            Create board\r\n          </button>\r\n        </div>\r\n\r\n        {/* material ui popover.. allow the user add another photos and coloros */}\r\n        <Popover\r\n          className=\"pop-over1\"\r\n          anchorEl={this.selectedDiv}\r\n          id={1}\r\n          open={isOpen}\r\n          onClose={this.handleClose}\r\n        >\r\n          <div className=\"popover-header\">\r\n          <ColorPalette\r\n                  count={6}\r\n                  onOpenPopover={this.onOpenPopover}\r\n                  handleChange={this.handleChange}\r\n                  selectedColor={color}\r\n                />\r\n\r\n          </div>\r\n        </Popover>\r\n      </ScreenOverlay>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    loggedInUser: state.userModule.loggedInUser,\r\n    board: state.boardModule.board,\r\n  };\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  closePopover,\r\n  onSaveBoard,\r\n  openPopover,\r\n};\r\n\r\nexport const PopoverCreateBoard = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withRouter(_PopoverCreateBoard));\r\n","\r\nimport { connect } from 'react-redux';\r\nimport { utilService } from '../../services/util.service';\r\nimport { Component } from 'react';\r\nimport { boardService } from '../../services/board.service';\r\nimport { closePopover } from '../../store/popover.actions';\r\nimport { onSaveBoard } from \"../../store/board.actions\";\r\nimport { Popover } from './popover';\r\n\r\nclass _PopoverChecklist extends Component {\r\n\r\n    state = {\r\n        title: ''\r\n    }\r\n\r\n    handlechange = ({ target }) => {\r\n        this.setState({ title: target.value })\r\n    }\r\n\r\n    addChecklist = (ev) => {\r\n        ev.preventDefault()\r\n        const { card, onSaveBoard, board } = this.props\r\n        if (!card.checklists) card.checklists = []\r\n        const checklist = {\r\n            id: utilService.makeId(),\r\n            title: this.state.title,\r\n            todos: []\r\n        }\r\n        card.checklists.push(checklist)\r\n        const updatedBoard = boardService.updateCardInBoard(board, card)\r\n\r\n        //todo\r\n        onSaveBoard(updatedBoard)\r\n        this.props.closePopover()\r\n\r\n    }\r\n\r\n    render() {\r\n        return <Popover title={\"Add A Checklist\"}>\r\n            <div className=\"checklist-pop-over-content\">\r\n                <form onSubmit={this.addChecklist}>\r\n                    <label htmlFor=\"checklist-input\" className=\"pop-over-label\">Title</label>\r\n                    <input className=\"pop-over-input\" id=\"checklist-input\" type=\"text\" value={this.state.title} onChange={this.handlechange} placeholder=\"Enter a title...\" autoFocus />\r\n                    <button className=\"primary-btn wide-btn\">Add</button>\r\n                </form>\r\n            </div>\r\n        </Popover>\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        board: state.boardModule.board,\r\n        loggedInUser: state.userModule.loggedInUser\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    onSaveBoard,\r\n    closePopover\r\n}\r\n\r\nexport const PopoverChecklist = connect(mapStateToProps, mapDispatchToProps)(_PopoverChecklist)\r\n\r\n","\r\nimport { connect } from 'react-redux';\r\nimport { Component } from 'react';\r\nimport { closePopover } from '../../store/popover.actions';\r\nimport { onSaveBoard, loadBoard, loadBoards } from \"../../store/board.actions\";\r\nimport { Popover } from './popover';\r\nimport { Link, NavLink } from 'react-router-dom'\r\nimport { } from '../../store/board.actions'\r\n\r\nclass _PopoverStarred extends Component {\r\n\r\n    componentDidMount() {\r\n        this.props.loadBoards()\r\n    }\r\n\r\n    render() {\r\n        const { boards } = this.props\r\n        const starredBoards = boards.filter((board) => {\r\n            return board.star === true\r\n        })\r\n        return <Popover title={\"Starred boards\"}>\r\n            <div className=\"Starred-pop-over-content\">\r\n                <ul className=\"board-list-navbar\">\r\n                    {starredBoards.map((board) => {\r\n                        return (\r\n                            <Link to={`/board/${board._id}`} key={board._id} className=\"clean-link\">\r\n                                <div className=\"nav-bar-btns flex row\">\r\n                                    <li className=\"board-preview-navbar\" key={board._id} style={board.style && {\r\n                                        backgroundImage: \"url(\" + board.style.background + \")\",\r\n                                        backgroundRepeat: 'no-repeat',\r\n                                        backgroundAttachment: 'fixed',\r\n                                        backgroundPosition: 'center'\r\n                                    }}>\r\n\r\n                                    </li>\r\n\r\n                                    <h4 className=\"nav-bar-btns-name\">{board.title}</h4>\r\n                                </div>\r\n                            </Link>\r\n                        );\r\n                    })}\r\n                </ul>\r\n            </div>\r\n        </Popover>\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n\r\n        boards: state.boardModule.boards,\r\n        board: state.boardModule.board,\r\n        loggedInUser: state.userModule.loggedInUser\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    onSaveBoard,\r\n    loadBoard,\r\n    loadBoards,\r\n    closePopover\r\n}\r\n\r\n\r\nexport const PopoverStarred = connect(mapStateToProps, mapDispatchToProps)(_PopoverStarred)\r\n\r\n","\r\nimport { connect } from 'react-redux';\r\nimport { utilService } from '../../services/util.service';\r\nimport { Component } from 'react';\r\nimport { boardService } from '../../services/board.service';\r\nimport { closePopover } from '../../store/popover.actions';\r\nimport { onSaveBoard, loadRecentBoards } from \"../../store/board.actions\";\r\nimport { Popover } from './popover';\r\nimport { Link, NavLink } from 'react-router-dom'\r\nclass _PopoverRecentBoard extends Component {\r\n\r\n    componentDidMount() {\r\n        this.props.loadRecentBoards()\r\n    }\r\n    render() {\r\n        const { recentBoards } = this.props\r\n        return <Popover title={\"Recent boards\"}>\r\n            <div className=\"recent-pop-over-content\">\r\n                <ul className=\"board-list-navbar\">\r\n                    {recentBoards && recentBoards.length > 0 && recentBoards.map((board) => {\r\n                        return (\r\n                            board && <Link to={`/board/${board._id}`} key={board._id} className=\"clean-link\">\r\n                                <div className=\"nav-bar-btns flex row\">\r\n                                    <li className=\"board-preview-navbar\" key={board._id} style={board.style && {\r\n                                        backgroundImage: \"url(\" + board.style.background + \")\",\r\n                                        backgroundRepeat: 'no-repeat',\r\n                                        backgroundAttachment: 'fixed',\r\n                                        backgroundPosition: 'center'\r\n                                    }}>\r\n                                    </li>\r\n                                    <h4 className=\"nav-bar-btns-name\">{board.title}</h4>\r\n                                </div>\r\n                            </Link>\r\n                        );\r\n                    })}\r\n                </ul>\r\n            </div>\r\n        </Popover>\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        recentBoards: state.boardModule.recentBoards,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    closePopover,\r\n    loadRecentBoards\r\n}\r\n\r\n\r\nexport const PopoverRecentBoard = connect(mapStateToProps, mapDispatchToProps)(_PopoverRecentBoard)\r\n\r\n","\r\nimport { connect } from 'react-redux';\r\nimport { utilService } from '../../services/util.service';\r\nimport { Component } from 'react';\r\nimport { boardService } from '../../services/board.service';\r\nimport { closePopover } from '../../store/popover.actions';\r\nimport { onSaveBoard } from \"../../store/board.actions\";\r\nimport { Popover } from './popover';\r\nimport { onLogin, onSignup, onGoogleLogin, onLogout } from '../../store/user.actions.js'\r\nclass _PopoverUser extends Component {\r\n\r\n    state = {\r\n        title: ''\r\n    }\r\n\r\n    handlechange = ({ target }) => {\r\n        this.setState({ title: target.value })\r\n    }\r\n\r\n    addChecklist = (ev) => {\r\n        ev.preventDefault()\r\n        const { card, onSaveBoard, board } = this.props\r\n        if (!card.checklists) card.checklists = []\r\n        const checklist = {\r\n            id: utilService.makeId(),\r\n            title: this.state.title,\r\n            todos: []\r\n        }\r\n        card.checklists.push(checklist)\r\n        const updatedBoard = boardService.updateCardInBoard(board, card)\r\n\r\n        //todo\r\n        onSaveBoard(updatedBoard)\r\n        this.props.closePopover()\r\n    }\r\n\r\n    render() {\r\n        return <Popover title={\"Account\"}>\r\n            {/* <hr /> */}\r\n\r\n            <button className=\"logout-btn-user-popover btn\" onClick={() => {\r\n                this.props.onLogout()\r\n                this.props.closePopover()\r\n            }}>Log out</button>\r\n        </Popover>\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        board: state.boardModule.board,\r\n        loggedInUser: state.userModule.loggedInUser,\r\n        loginErr: state.userModule.loginErr\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    onLogin,\r\n    onSignup,\r\n    onGoogleLogin,\r\n    onSaveBoard,\r\n    closePopover,\r\n    onLogout\r\n}\r\n\r\n\r\nexport const PopoverUser = connect(mapStateToProps, mapDispatchToProps)(_PopoverUser)\r\n\r\n","import { Component } from \"react\"\r\nimport { FileUpload } from \"../file-upload\"\r\nimport { Popover } from \"./popover\"\r\n\r\nexport class PopoverAttachment extends Component {\r\n\r\n    state = {\r\n        file: null,\r\n        link: null,\r\n        formData: null,\r\n        linkTxt: '',\r\n    }\r\n\r\n    handleChange = ({ target }) => {\r\n        this.setState({ linkTxt: target.value })\r\n    }\r\n\r\n    onAttachLink = (ev) => {\r\n        ev.preventDefault()\r\n        if (!this.state.linkTxt) return\r\n        this.props.addFile(this.state.linkTxt)\r\n    }\r\n\r\n    onFileUpload = (fileUrl) => {\r\n        this.props.addFile(fileUrl)\r\n    }\r\n\r\n    render() {\r\n        const { inputTxt } = this.state\r\n        return <Popover title=\"Attach from...\">\r\n            <div className=\"attach-pop-over-content\">\r\n                <FileUpload onFileUpload={this.onFileUpload} />\r\n                <form onSubmit={this.onAttachLink}>\r\n                    <label className=\"pop-over-label\" htmlFor=\"attach-input\">Attach a link</label>\r\n                    <input type=\"text\" className=\"pop-over-input\" value={inputTxt} id=\"attach-input\"\r\n                        onChange={this.handleChange} placeholder=\"Attach any link here...\" />\r\n                    <button className=\"primary-btn btn-wide\">Attach</button>\r\n                </form>\r\n            </div>\r\n        </Popover>\r\n    }\r\n}","\r\nimport { connect } from 'react-redux';\r\nimport { utilService } from '../../services/util.service';\r\nimport { Component } from 'react';\r\nimport { boardService } from '../../services/board.service';\r\nimport { closePopover } from '../../store/popover.actions';\r\nimport { onSaveBoard, loadRecentBoards } from \"../../store/board.actions\";\r\nimport { Popover } from './popover';\r\nimport { Link, NavLink } from 'react-router-dom'\r\nclass _PopoverSearchAppheader extends Component {\r\n    componentDidMount() {\r\n        this.props.loadRecentBoards()\r\n    }\r\n    render() {\r\n        const { boards } = this.props\r\n        const { recentBoards } = this.props\r\n        return <Popover>\r\n            <div className=\"recent-pop-over-content\">\r\n                <ul className=\"board-list-navbar\">\r\n                    {recentBoards && recentBoards.length > 0 && recentBoards.map((board) => {\r\n                        return (\r\n                            board && <Link to={`/board/${board._id}`} key={board._id} className=\"clean-link\">\r\n                                <div className=\"nav-bar-btns flex row\">\r\n                                    <li className=\"board-preview-navbar\" key={board._id} style={board.style && {\r\n                                        backgroundImage: \"url(\" + board.style.background + \")\",\r\n                                        backgroundRepeat: 'no-repeat',\r\n                                        backgroundAttachment: 'fixed',\r\n                                        backgroundPosition: 'center'\r\n                                    }}>\r\n                                    </li>\r\n                                    <h4 className=\"nav-bar-btns-name\">{board.title}</h4>\r\n                                </div>\r\n                            </Link>\r\n                        );\r\n                    })}\r\n                </ul>\r\n            </div>\r\n        </Popover>\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        recentBoards: state.boardModule.recentBoards,\r\n        boards: state.boardModule.boards,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    closePopover,\r\n    loadRecentBoards\r\n}\r\n\r\nexport const PopoverSearchAppheader = connect(mapStateToProps, mapDispatchToProps)(_PopoverSearchAppheader)\r\n\r\n","import { Component } from \"react\";\r\nimport { Popover } from \"./popover\";\r\n\r\nexport class PopoverList extends Component {\r\n\r\n    onArchiveList = () => {\r\n        const { currList, onSaveBoard, board, closePopover } = this.props\r\n        currList.isArchived = true;\r\n        board.lists = board.lists.filter((list => list.id !== currList.id))\r\n        onSaveBoard(board)\r\n        closePopover()\r\n    }\r\n\r\n    render() {\r\n        return <Popover title=\"List actions\">\r\n            <ul className=\"list-actions clean-list\">\r\n                <li onClick={this.onArchiveList}>Archive</li>\r\n            </ul>\r\n        </Popover>\r\n    }\r\n}\r\n","import { Component } from 'react';\r\nimport { Popover } from './popover';\r\nimport { boardService } from '../../services/board.service'\r\nimport { PopoverMemberPreview } from './popover-member-preview'\r\nimport { onSaveBoard } from '../../store/board.actions.js';\r\nimport { connect } from 'react-redux'\r\nimport { socketService } from '../../services/socket.service'\r\nimport { onLogin, onSignup, onGoogleLogin } from '../../store/user.actions.js'\r\nimport { ColorPalette } from \"../color-palette\";\r\n\r\n\r\nclass _PopoverImagePicker extends Component {\r\n\r\n    render() {\r\n        const { handleChange, color } = this.props;\r\n        return <Popover title={\"image picker\"} >\r\n            <ColorPalette count={12} isGradient={false} handleChange={handleChange} selectedColor={color} />\r\n        </Popover>\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        board: state.boardModule.board,\r\n        loggedInUser: state.userModule.loggedInUser\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    onSaveBoard\r\n}\r\n\r\nexport const PopoverImagePicker = connect(mapStateToProps, mapDispatchToProps)(_PopoverImagePicker)\r\n\r\n","\r\n\r\nimport { PopoverLabels } from \"../popover/popover-labels.jsx\";\r\nimport { PopoverDate } from \"./popover-date.jsx\";\r\nimport { PopoverMembers } from \"../popover/popover-members.jsx\";\r\nimport { connect } from 'react-redux'\r\nimport { PopoverCover } from '../popover/popover-cover.jsx'\r\nimport { PopoverCreateBoard } from '../popover/popover-create-board.jsx'\r\nimport { PopoverChecklist } from '../popover/popover-checklist.jsx'\r\nimport { PopoverStarred } from \"./popover-starred.jsx\";\r\nimport { PopoverRecentBoard } from \"./popover-recent-board.jsx\";\r\nimport { PopoverUser } from \"./popover-user.jsx\";\r\nimport { PopoverAttachment } from './popover-attachment.jsx'\r\nimport { PopoverSearchAppheader } from \"./popover-search-appheader.jsx\";\r\nimport { PopoverList } from './popover-list.jsx'\r\nimport { PopoverImagePicker } from './popover-image-picker.jsx'\r\n\r\n\r\nfunction _DynamicPopover({ currPopover }) {\r\n\r\n  const { name, props, isNewPop } = currPopover\r\n\r\n  //todo\r\n  //   if(isNewPop) {\r\n  //     console.log('is new pop!!!!');\r\n\r\n  //     return <section>\r\n  //  <PopoverCreateBoard />\r\n  // <PopoverImagePicker {...props}/>\r\n  //     </section>  \r\n\r\n  //   }\r\n\r\n  switch (name) {\r\n    //card popovers\r\n    case 'LABELS': return <PopoverLabels {...props} />; \r\n    case 'DATE': return <PopoverDate {...props} />;\r\n    case 'MEMBERS': return <PopoverMembers {...props} />; \r\n    case 'COVER': return <PopoverCover {...props} />; \r\n    case 'CREATE_BOARD': return <PopoverCreateBoard {...props} />; \r\n    case 'CHECKLIST': return <PopoverChecklist {...props} />; \r\n    case 'LIST_OPTIONS': return <PopoverList {...props} />; \r\n    // case 'IMAGE_PICKER': return <PopoverImagePicker {...props}/>\r\n    //this is headers popovers\r\n    case 'STARRED': return <PopoverStarred {...props} />; \r\n    case 'RECENT_BOARDS': return <PopoverRecentBoard {...props} />;\r\n    case 'USER': return <PopoverUser {...props} />; \r\n    case 'ATTACHMENT': return <PopoverAttachment {...props} />;\r\n    case 'SEARCH_HEADER': return <PopoverSearchAppheader {...props} />;\r\n\r\n    default: return '';\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    isOverlayOpen: state.popoverModule.isOverlayOpen,\r\n    currPopover: state.popoverModule.currPopover\r\n  }\r\n}\r\n\r\nexport const DynamicPopover = connect(mapStateToProps, null)(_DynamicPopover)","import React from 'react'\r\n\r\n// const { Switch, Route } = ReactRouterDOM\r\nimport { Switch, Route, withRouter } from 'react-router'\r\n\r\nimport routes from './routes'\r\nimport { connect } from 'react-redux';\r\nimport { AppHeader } from './cmps/app-header'\r\nimport { UserDetails } from './pages/user-details'\r\nimport { DynamicPopover } from './cmps/popover/dynamic-popover.jsx'\r\nimport { socketService } from './services/socket.service.js';\r\n\r\nclass _RootCmp extends React.Component {\r\n\r\n    async componentDidMount() {\r\n        try {\r\n            socketService.setup()\r\n        } catch (err) {\r\n            console.log(err)\r\n        }\r\n    }\r\n\r\n    get isHeaderAppears() {\r\n        const { pathname } = this.props.location\r\n        return (pathname.includes('/board') || pathname.includes('workspace'))\r\n    }\r\n\r\n\r\n    get style() {\r\n        const { board, location } = this.props\r\n        if (!location.pathname.includes('/board')) return {}\r\n        const style = board ? {\r\n            backgroundImage: \"url(\" + board.style.background + \")\",\r\n            backgroundColor: board.style.background,\r\n            backgroundSize: 'cover',\r\n            height: '100vh',\r\n            overflow: 'hidden',\r\n            backgroundPosition: '50%',\r\n        } : {\r\n            background: \"ffff\",\r\n            height: '100vh',\r\n\r\n\r\n        }\r\n\r\n        return style\r\n    }\r\n\r\n\r\n\r\n\r\n    render() {\r\n        const { board, location } = this.props\r\n        return (\r\n            <div style={this.style}>\r\n                {this.isHeaderAppears && <header>\r\n                    <AppHeader board={board} isBoardStyle={location.pathname.includes('/board')} />\r\n                </header>}\r\n                <main>\r\n                    <Switch>\r\n                        {routes.map(route => <Route key={route.path} exact component={route.component} path={route.path} />)}\r\n                        <Route path=\"/user/:id\" component={UserDetails} />\r\n                    </Switch>\r\n                    <DynamicPopover />\r\n                </main>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        board: state.boardModule.board,\r\n        currPopover: state.popoverModule.currPopover,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\r\n}\r\n\r\nconst _RootCmpWithRoute = withRouter(_RootCmp)\r\nexport const RootCmp = connect(mapStateToProps, mapDispatchToProps)(_RootCmpWithRoute)\r\n\r\n\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter as Router } from 'react-router-dom'\r\nimport { Provider } from 'react-redux'\r\n\r\nimport {store} from './store/store'\r\nimport {RootCmp} from './root-cmp';\r\nimport './assets/styles/main.scss';\r\n\r\n\r\n\r\nReactDOM.render(\r\n<React.StrictMode>\r\n    <Provider store={store}>\r\n      <Router>\r\n        <RootCmp />\r\n      </Router>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n// reportWebVitals();\r\n"],"sourceRoot":""}